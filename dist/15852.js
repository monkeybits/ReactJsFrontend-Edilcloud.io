(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[15852],{29561:function(r,e,t){var a=t(76424);function i(e,t,n){return"undefined"!=typeof Reflect&&Reflect.get?r.exports=i=Reflect.get:r.exports=i=function(e,t,n){e=a(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}},i(e,t,n||e)}r.exports=i},76424:function(e,t,n){var r=n(71470);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},75521:function(e,t){"use strict";t.Z=function(n){var r=!1;return{promise:new Promise(function(e,t){n.then(function(){return!r&&e.apply(void 0,arguments)}).catch(function(e){return!r&&t(e)})}),cancel:function(){r=!0}}}},25395:function(e,t){"use strict";t.ZP=t.vS=t.wx=t.ag=void 0;var a=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"];t.ag=a;var i=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"];t.wx=i;var s=["onKeyDown","onKeyPress","onKeyUp"];t.vS=s;var o=["onFocus","onBlur"];t.ZP=function(n,r){var e={};return[].concat(a,i,s,o).forEach(function(t){n[t]&&(e[t]=function(e){return r?n[t](e,r(t)):n[t](e)})}),e}},85550:function(e,t,n){"use strict";n.d(t,{BB:function(){return ne},T3:function(){return Fe},v0:function(){return o()}});var r=n(75410),o=n.n(r),s=n(97439),i=n(84818),c=n(72526),a=n(28129),l=n.n(a);function u(e,t,n,r,a,i,s){try{var o=e[i](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,a)}function h(o){return function(){var e=this,s=arguments;return new Promise(function(t,n){var r=o.apply(e,s);function a(e){u(r,t,n,a,i,"next",e)}function i(e){u(r,t,n,a,i,"throw",e)}a(void 0)})}}var d=n(61227),p=n(71827),f=n(39248),g=n(78960),v=n(75827),m=n(90548),y=n(93535),_=n(78709),b=n(16526),A=n.n(b),k=n(25395),C=n(75521);function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){return"string"==typeof t||t instanceof Array?e.concat(t):e},[]).filter(Boolean).join(" ")}var x=(0,_.createContext)(null);function w(e){var t=e.children,e=e.type;return _.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(e)},t)}w.propTypes={children:A().node,type:A().oneOf(["error","loading","no-data"]).isRequired};function R(e){return O(e)&&null!==e}function P(e){}var E,T=n(10239).dM,L={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},F=new(n(85926).EventBus),I="undefined"!=typeof window,D=I&&"file:"===window.location.protocol,O=function(e){return void 0!==e},N=function(e){return e instanceof ArrayBuffer},M=function(e){if(!I)throw new Error("Attempted to check if a variable is a Blob on a non-browser environment.");return e instanceof Blob},U=function(e){if(!I)throw new Error("Attempted to check if a variable is a File on a non-browser environment.");return e instanceof File},j=function(e){return"string"==typeof e&&/^data:/.test(e)},W=function(e){if(!j(e))throw new Error("dataURItoUint8Array was provided with an argument which is not a valid data URI.");for(var t=(0<=e.split(",")[0].indexOf("base64")?atob:unescape)(e.split(",")[1]),n=new Uint8Array(t.length),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return n},q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.apply(void 0,["warn"].concat(t))},B=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.apply(void 0,["error"].concat(t))},G=function(){D&&q("Loading PDF as base64 strings/URLs might not work on protocols other than HTTP/HTTPS. On Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes.")},H=function(e){e&&e.cancel&&e.cancel()},Z=function(e,t){return Object.defineProperty(e,"width",{get:function(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get:function(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),e},z=function(e){return"RenderingCancelledException"===e.name},X=function(r){return new Promise(function(e,t){var n=new FileReader;return n.onload=function(){return e(new Uint8Array(n.result))},n.onerror=function(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case e.target.error.NOT_READABLE_ERR:return t(new Error("Error while reading a file: File not readable."));case e.target.error.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case e.target.error.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r),null})},Y=n(24612),V=(E={},[].concat((0,Y.Z)(k.ag),(0,Y.Z)(k.wx),(0,Y.Z)(k.vS)).forEach(function(e){E[e]=A().func}),E),K=[A().string,A().instanceOf(ArrayBuffer),A().shape({data:A().object,httpHeaders:A().object,range:A().object,url:A().string,withCredentials:A().bool})];"undefined"!=typeof File&&K.push(A().instanceOf(File)),"undefined"!=typeof Blob&&K.push(A().instanceOf(Blob));var Q=A().oneOfType([A().string,A().arrayOf(A().string)]),t=(A().oneOfType(K),A().instanceOf(T)),r=(A().oneOf(["_self","_blank","_parent","_top"]),A().shape({_transport:A().shape({fontLoader:A().object.isRequired}).isRequired,commonObjs:A().shape({_objs:A().object.isRequired}).isRequired,getAnnotations:A().func.isRequired,getTextContent:A().func.isRequired,getViewport:A().func.isRequired,render:A().func.isRequired})),a=A().oneOfType([A().shape({getDestination:A().func.isRequired,getOutline:A().func.isRequired,getPage:A().func.isRequired,numPages:A().number.isRequired}),A().bool]),b=A().oneOf(["canvas","none","svg"]),Y=A().oneOf([0,90,180,270]);function J(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach(function(e){(0,y.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ee(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}var te=o().PDFDataRangeTransport,ne=function(e){(0,g.Z)(a,e);var r=ee(a);function a(){var s;(0,d.Z)(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s=r.call.apply(r,[this].concat(t)),(0,y.Z)((0,f.Z)(s),"state",{pdf:null}),(0,y.Z)((0,f.Z)(s),"viewer",{scrollPageIntoView:function(e){var t=e.pageNumber,e=s.props.onItemClick;e?e({pageNumber:t}):(e=s.pages[t-1])?e.scrollIntoView():q("Warning: An internal link leading to page ".concat(t," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),(0,y.Z)((0,f.Z)(s),"linkService",new T({eventBus:F})),(0,y.Z)((0,f.Z)(s),"loadDocument",h(l().mark(function e(){var t,n,r,a,i;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,s.findDocumentSource();case 4:t=e.sent,s.onSourceSuccess(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s.onSourceError(e.t0);case 11:if(t){e.next=13;break}return e.abrupt("return");case 13:return s.setState(function(e){return e.pdf?{pdf:null}:null}),r=s.props,n=r.options,a=r.onLoadProgress,r=r.onPassword,e.prev=15,H(s.runningTask),s.loadingTask=o().getDocument($({},t,{},n)),s.loadingTask.onPassword=r,a&&(s.loadingTask.onProgress=a),a=(0,C.Z)(s.loadingTask.promise),s.runningTask=a,e.next=24,a.promise;case 24:i=e.sent,s.setState(function(e){return e.pdf&&e.pdf.fingerprint===i.fingerprint?null:{pdf:i}},s.onLoadSuccess),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(15),s.onLoadError(e.t1);case 31:case"end":return e.stop()}},e,null,[[1,8],[15,28]])}))),(0,y.Z)((0,f.Z)(s),"setupLinkService",function(){s.linkService.setViewer(s.viewer);var e=(0,f.Z)(s);Object.defineProperty(s.linkService,"externalLinkTarget",{get:function(){switch(e.props.externalLinkTarget){case"_self":return 1;case"_blank":return 2;case"_parent":return 3;case"_top":return 4;default:return 0}}})}),(0,y.Z)((0,f.Z)(s),"onSourceSuccess",function(){var e=s.props.onSourceSuccess;e&&e()}),(0,y.Z)((0,f.Z)(s),"onSourceError",function(e){B(e);var t=s.props.onSourceError;t&&t(e)}),(0,y.Z)((0,f.Z)(s),"onLoadSuccess",function(){var e=s.props.onLoadSuccess,t=s.state.pdf;e&&e(t),s.pages=new Array(t.numPages),s.linkService.setDocument(t)}),(0,y.Z)((0,f.Z)(s),"onLoadError",function(e){s.setState({pdf:!1}),B(e);var t=s.props.onLoadError;t&&t(e)}),(0,y.Z)((0,f.Z)(s),"findDocumentSource",h(l().mark(function e(){var t,n,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.props.file){e.next=3;break}return e.abrupt("return",null);case 3:if("string"!=typeof t){e.next=9;break}if(j(t))return n=W(t),e.abrupt("return",{data:n});e.next=7;break;case 7:return G(),e.abrupt("return",{url:t});case 9:if(t instanceof te)return e.abrupt("return",{range:t});e.next=11;break;case 11:if(N(t))return e.abrupt("return",{data:t});e.next=13;break;case 13:if(!I){e.next=19;break}if(M(t)||U(t))return e.next=17,X(t);e.next=19;break;case 17:return e.t0=e.sent,e.abrupt("return",{data:e.t0});case 19:if("object"!==(0,c.Z)(t))throw new Error("Invalid parameter in file, need either Uint8Array, string or a parameter object");e.next=21;break;case 21:if(t.url||t.data||t.range){e.next=23;break}throw new Error("Invalid parameter object: need either .data, .range or .url");case 23:if("string"!=typeof t.url){e.next=29;break}if(j(t.url))return r=t.url,n=(0,i.Z)(t,["url"]),r=W(r),e.abrupt("return",$({data:r},n));e.next=28;break;case 28:G();case 29:return e.abrupt("return",t);case 30:case"end":return e.stop()}},e)}))),(0,y.Z)((0,f.Z)(s),"registerPage",function(e,t){s.pages[e]=t}),(0,y.Z)((0,f.Z)(s),"unregisterPage",function(e){delete s.pages[e]}),s}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(e){this.props.file!==e.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){this.loadingTask&&this.loadingTask.destroy(),H(this.runningTask)}},{key:"renderChildren",value:function(){var e=this.props.children;return _.createElement(x.Provider,{value:this.childContext},e)}},{key:"renderContent",value:function(){var e=this.props.file,t=this.state.pdf;if(!e){var n=this.props.noData;return _.createElement(w,{type:"no-data"},"function"==typeof n?n():n)}if(null===t){n=this.props.loading;return _.createElement(w,{type:"loading"},"function"==typeof n?n():n)}if(!1!==t)return this.renderChildren();t=this.props.error;return _.createElement(w,{type:"error"},"function"==typeof t?t():t)}},{key:"render",value:function(){var e=this.props,t=e.className,e=e.inputRef;return _.createElement("div",(0,s.Z)({className:S("react-pdf__Document",t),ref:e},this.eventProps),this.renderContent())}},{key:"childContext",get:function(){var e=this.linkService,t=this.registerPage,n=this.unregisterPage,r=this.props,a=r.renderMode,r=r.rotate;return{linkService:e,pdf:this.state.pdf,registerPage:t,renderMode:a,rotate:r,unregisterPage:n}}},{key:"eventProps",get:function(){var e=this;return(0,k.ZP)(this.props,function(){return e.state.pdf})}}]),a}(_.PureComponent);ne.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF…",noData:"No PDF file specified.",onPassword:function(e,t){switch(t){case L.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case L.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."))}}};K=A().oneOfType([A().func,A().node]);ne.propTypes=$({},V,{children:A().node,className:Q,error:K,file:U,inputRef:A().func,loading:K,noData:K,onItemClick:A().func,onLoadError:A().func,onLoadProgress:A().func,onLoadSuccess:A().func,onPassword:A().func,onSourceError:A().func,onSourceSuccess:A().func,rotate:A().number});var re=(0,_.createContext)(null),ae=n(35313),ie=function(){function n(e){var t=e.num,e=e.gen;(0,d.Z)(this,n),this.num=t,this.gen=e}return(0,p.Z)(n,[{key:"toString",value:function(){var e="".concat(this.num,"R");return 0!==this.gen&&(e+=this.gen),e}}]),n}();function se(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}var oe=function(e){(0,g.Z)(a,e);var r=se(a);function a(){var i;(0,d.Z)(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i=r.call.apply(r,[this].concat(t)),(0,y.Z)((0,f.Z)(i),"getDestination",h(l().mark(function e(){var t,n;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.props,t=n.item,n=n.pdf,O(i.destination)){e.next=9;break}if("string"==typeof t.dest)return e.next=5,n.getDestination(t.dest);e.next=8;break;case 5:i.destination=e.sent,e.next=9;break;case 8:i.destination=t.dest;case 9:return e.abrupt("return",i.destination);case 10:case"end":return e.stop()}},e)}))),(0,y.Z)((0,f.Z)(i),"getPageIndex",h(l().mark(function e(){var t,n;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.props.pdf,O(i.pageIndex)){e.next=10;break}return e.next=4,i.getDestination();case 4:if(n=e.sent)return n=(0,ae.Z)(n,1),n=n[0],e.next=9,t.getPageIndex(new ie(n));e.next=10;break;case 9:i.pageIndex=e.sent;case 10:return e.abrupt("return",i.pageIndex);case 11:case"end":return e.stop()}},e)}))),(0,y.Z)((0,f.Z)(i),"getPageNumber",h(l().mark(function e(){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O(i.pageNumber)){e.next=5;break}return e.next=3,i.getPageIndex();case 3:e.t0=e.sent,i.pageNumber=e.t0+1;case 5:return e.abrupt("return",i.pageNumber);case 6:case"end":return e.stop()}},e)}))),(0,y.Z)((0,f.Z)(i),"onClick",function(){var t=h(l().mark(function e(t){var n,r,a;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.props.onClick,t.preventDefault(),e.next=4,i.getPageIndex();case 4:return r=e.sent,e.next=7,i.getPageNumber();case 7:a=e.sent,n&&n({pageIndex:r,pageNumber:a});case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),i}return(0,p.Z)(a,[{key:"renderSubitems",value:function(){var e=this.props,t=e.item,n=(0,i.Z)(e,["item"]);if(!t.items||!t.items.length)return null;t=t.items;return _.createElement("ul",null,t.map(function(e,t){return _.createElement(a,(0,s.Z)({key:"string"==typeof e.destination?e.destination:t,item:e},n))}))}},{key:"render",value:function(){var e=this.props.item;return _.createElement("li",null,_.createElement("a",{href:"#",onClick:this.onClick},e.title),this.renderSubitems())}}]),a}(_.PureComponent),n=A().oneOfType([A().string,A().arrayOf(A().any)]);oe.propTypes={item:A().shape({dest:n,items:A().arrayOf(A().shape({dest:n,title:A().string})),title:A().string}).isRequired,onClick:A().func,pdf:a.isRequired};function ce(n){return _.createElement(x.Consumer,null,function(t){return _.createElement(re.Consumer,null,function(e){return _.createElement(oe,(0,s.Z)({},t,e,n))})})}function le(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ue(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}var he=function(e){(0,g.Z)(i,e);var a=ue(i);function i(){var r;(0,d.Z)(this,i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),(0,y.Z)((0,f.Z)(r),"state",{outline:null}),(0,y.Z)((0,f.Z)(r),"loadOutline",h(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.pdf,r.setState(function(e){return e.outline?{outline:null}:null}),e.prev=2,t=(0,C.Z)(t.getOutline()),r.runningTask=t,e.next=7,t.promise;case 7:t=e.sent,r.setState({outline:t},r.onLoadSuccess),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),r.onLoadError(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}))),(0,y.Z)((0,f.Z)(r),"onLoadSuccess",function(){var e=r.props.onLoadSuccess,t=r.state.outline;e&&e(t)}),(0,y.Z)((0,f.Z)(r),"onLoadError",function(e){r.setState({outline:!1}),B(e);var t=r.props.onLoadError;t&&t(e)}),(0,y.Z)((0,f.Z)(r),"onItemClick",function(e){var t=e.pageIndex,n=e.pageNumber,e=r.props.onItemClick;e&&e({pageIndex:t,pageNumber:n})}),r}return(0,p.Z)(i,[{key:"componentDidMount",value:function(){if(!this.props.pdf)throw new Error("Attempted to load an outline, but no document was specified.");this.loadOutline()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;e.pdf&&t!==e.pdf&&this.loadOutline()}},{key:"componentWillUnmount",value:function(){H(this.runningTask)}},{key:"renderOutline",value:function(){var e=this.state.outline;return _.createElement("ul",null,e.map(function(e,t){return _.createElement(ce,{key:"string"==typeof e.destination?e.destination:t,item:e})}))}},{key:"render",value:function(){var e=this.props.pdf,t=this.state.outline;if(!e||!t)return null;e=this.props,t=e.className,e=e.inputRef;return _.createElement("div",(0,s.Z)({className:S("react-pdf__Outline",t),ref:e},this.eventProps),_.createElement(re.Provider,{value:this.childContext},this.renderOutline()))}},{key:"childContext",get:function(){return{onClick:this.onItemClick}}},{key:"eventProps",get:function(){var e=this;return(0,k.ZP)(this.props,function(){return e.state.outline})}}]),i}(_.PureComponent);he.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach(function(e){(0,y.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({className:Q,inputRef:A().func,onItemClick:A().func,onLoadError:A().func,onLoadSuccess:A().func,pdf:a},V);var de=(0,_.createContext)(null);function pe(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}var fe=function(e){(0,g.Z)(a,e);var r=pe(a);function a(){var i;(0,d.Z)(this,a);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i=r.call.apply(r,[this].concat(t)),(0,y.Z)((0,f.Z)(i),"onRenderSuccess",function(){i.renderer=null;var e=i.props,t=e.onRenderSuccess,n=e.page,e=e.scale;t&&t(Z(n,e))}),(0,y.Z)((0,f.Z)(i),"onRenderError",function(e){var t;z(e)||(B(e),(t=i.props.onRenderError)&&t(e))}),(0,y.Z)((0,f.Z)(i),"drawPageOnCanvas",function(){var e=(0,f.Z)(i).canvasLayer;if(!e)return null;var t=(0,f.Z)(i),n=t.renderViewport,r=t.viewport,a=i.props,t=a.page,a=a.renderInteractiveForms;e.width=n.width,e.height=n.height,e.style.width="".concat(Math.floor(r.width),"px"),e.style.height="".concat(Math.floor(r.height),"px");a={get canvasContext(){return e.getContext("2d")},viewport:n,renderInteractiveForms:a};return i.cancelRenderingTask(),i.renderer=t.render(a),i.renderer.promise.then(i.onRenderSuccess).catch(i.onRenderError)}),i}return(0,p.Z)(a,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.page;t.renderInteractiveForms!==e.renderInteractiveForms&&(n.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask(),this.canvasLayer&&(this.canvasLayer.width=0,this.canvasLayer.height=0,this.canvasLayer=null)}},{key:"cancelRenderingTask",value:function(){this.renderer&&this.renderer._internalRenderTask.running&&this.renderer._internalRenderTask.cancel()}},{key:"render",value:function(){var t=this;return _.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:function(e){t.canvasLayer=e},style:{display:"block",userSelect:"none"}})}},{key:"renderViewport",get:function(){var e=this.props,t=e.page,n=e.rotate,r=e.scale,e=I&&window.devicePixelRatio||1;return t.getViewport({scale:r*e,rotation:n})}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,e=e.scale;return t.getViewport({scale:e,rotation:n})}}]),a}(_.PureComponent);function ge(t){return _.createElement(de.Consumer,null,function(e){return _.createElement(fe,(0,s.Z)({},e,t))})}function ve(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}fe.propTypes={onRenderError:A().func,onRenderSuccess:A().func,page:r.isRequired,renderInteractiveForms:A().bool,rotate:Y,scale:A().number};var me=function(e){(0,g.Z)(i,e);var a=ve(i);function i(){var r;(0,d.Z)(this,i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=a.call.apply(a,[this].concat(t)),(0,y.Z)((0,f.Z)(r),"state",{svg:null}),(0,y.Z)((0,f.Z)(r),"onRenderSuccess",function(){r.renderer=null;var e=r.props,t=e.onRenderSuccess,n=e.page,e=e.scale;t&&t(Z(n,e))}),(0,y.Z)((0,f.Z)(r),"onRenderError",function(e){var t;z(e)||(B(e),(t=r.props.onRenderError)&&t(e))}),(0,y.Z)((0,f.Z)(r),"renderSVG",function(){var n=r.props.page;return r.renderer=n.getOperatorList(),r.renderer.then(function(e){var t=new(o().SVGGraphics)(n.commonObjs,n.objs);r.renderer=t.getSVG(e,r.viewport).then(function(e){r.setState({svg:e},r.onRenderSuccess)}).catch(r.onRenderError)}).catch(r.onRenderError)}),(0,y.Z)((0,f.Z)(r),"drawPageOnContainer",function(e){var t,n=r.state.svg;e&&n&&(e.firstElementChild||e.appendChild(n),e=(t=r.viewport).width,t=t.height,n.setAttribute("width",e),n.setAttribute("height",t))}),r}return(0,p.Z)(i,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"render",value:function(){var t=this,e=this.viewport,n=e.width,e=e.height;return _.createElement("div",{className:"react-pdf__Page__svg",ref:function(e){return t.drawPageOnContainer(e)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:n,height:e,userSelect:"none"}})}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,e=e.scale;return t.getViewport({scale:e,rotation:n})}}]),i}(_.PureComponent);function ye(t){return _.createElement(de.Consumer,null,function(e){return _.createElement(me,(0,s.Z)({},e,t))})}function _e(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}me.propTypes={onRenderError:A().func,onRenderSuccess:A().func,page:r.isRequired,rotate:Y,scale:A().number};var be=function(e){(0,g.Z)(i,e);var t,n,a=_e(i);function i(){var n;(0,d.Z)(this,i);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),(0,y.Z)((0,f.Z)(n),"getElementWidth",function(e){var t=(0,f.Z)(n).sideways;return e.getBoundingClientRect()[t?"height":"width"]}),n}return(0,p.Z)(i,[{key:"componentDidMount",value:function(){this.alignTextItem()}},{key:"componentDidUpdate",value:function(){this.alignTextItem()}},{key:"getFontData",value:(n=h(l().mark(function e(t){var n,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.page,e.next=3,new Promise(function(e){n.commonObjs.get(t,e)});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"alignTextItem",value:(t=h(l().mark(function e(){var t,n,r,a,i,s,o;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.item){e.next=3;break}return e.abrupt("return");case 3:return t.style.transform="",i=this.props,n=i.fontName,r=i.scale,a=i.width,t.style.fontFamily="".concat(n,", sans-serif"),e.next=8,this.getFontData(n);case 8:o=e.sent,s=o?o.fallbackName:"sans-serif",t.style.fontFamily="".concat(n,", ").concat(s),i=a*r,s=this.getElementWidth(t),s="scaleX(".concat(i/s,")"),(o=o?o.ascent:0)&&(s+=" translateY(".concat(100*(1-o),"%)")),t.style.transform=s,t.style.WebkitTransform=s;case 18:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var t=this,e=this.fontSize,n=this.top,r=this.left,a=this.props,i=a.customTextRenderer,s=a.scale,a=a.str;return _.createElement("span",{ref:function(e){t.item=e},style:{height:"1em",fontFamily:"sans-serif",fontSize:"".concat(e*s,"px"),position:"absolute",top:"".concat(n*s,"px"),left:"".concat(r*s,"px"),transformOrigin:"left bottom",whiteSpace:"pre",pointerEvents:"all"}},i?i(this.props):a)}},{key:"unrotatedViewport",get:function(){var e=this.props,t=e.page,e=e.scale;return t.getViewport({scale:e})}},{key:"rotate",get:function(){var e=this.props,t=e.page;return e.rotate-t.rotate}},{key:"sideways",get:function(){return this.rotate%180!=0}},{key:"defaultSideways",get:function(){return this.unrotatedViewport.rotation%180!=0}},{key:"fontSize",get:function(){var e=this.props.transform,t=this.defaultSideways,n=(0,ae.Z)(e,2),e=n[0],n=n[1];return t?n:e}},{key:"top",get:function(){var e=this.props.transform,t=this.unrotatedViewport,n=this.defaultSideways,r=(0,ae.Z)(e,6),a=r[2],i=r[3],s=r[4],e=r[5],r=(0,ae.Z)(t.viewBox,4),t=r[1],r=r[3];return n?s+a+t:r-(e+i)}},{key:"left",get:function(){var e=this.props.transform,t=this.unrotatedViewport,n=this.defaultSideways,r=(0,ae.Z)(e,6),e=r[4],r=r[5],t=(0,ae.Z)(t.viewBox,1)[0];return n?r-t:e-t}}]),i}(_.PureComponent);function Ae(t){return _.createElement(de.Consumer,null,function(e){return _.createElement(be,(0,s.Z)({},e,t))})}function ke(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}be.propTypes={customTextRenderer:A().func,fontName:A().string.isRequired,itemIndex:A().number.isRequired,page:r.isRequired,rotate:Y,scale:A().number,str:A().string.isRequired,transform:A().arrayOf(A().number).isRequired,width:A().number.isRequired};var Ce=function(e){(0,g.Z)(i,e);var a=ke(i);function i(){var n;(0,d.Z)(this,i);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),(0,y.Z)((0,f.Z)(n),"state",{textItems:null}),(0,y.Z)((0,f.Z)(n),"loadTextItems",h(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.page,e.prev=1,t=(0,C.Z)(t.getTextContent()),n.runningTask=t,e.next=6,t.promise;case 6:t=e.sent,t=t.items,n.setState({textItems:t},n.onLoadSuccess),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.onLoadError(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}))),(0,y.Z)((0,f.Z)(n),"onLoadSuccess",function(){var e=n.props.onGetTextSuccess,t=n.state.textItems;e&&e(t)}),(0,y.Z)((0,f.Z)(n),"onLoadError",function(e){n.setState({textItems:!1}),B(e);var t=n.props.onGetTextError;t&&t(e)}),n}return(0,p.Z)(i,[{key:"componentDidMount",value:function(){if(!this.props.page)throw new Error("Attempted to load page text content, but no page was specified.");this.loadTextItems()}},{key:"componentDidUpdate",value:function(e){var t=this.props.page;e.page&&t!==e.page&&this.loadTextItems()}},{key:"componentWillUnmount",value:function(){H(this.runningTask)}},{key:"renderTextItems",value:function(){var e=this.state.textItems;return e?e.map(function(e,t){return _.createElement(Ae,(0,s.Z)({key:t,itemIndex:t},e))}):null}},{key:"render",value:function(){var e=this.unrotatedViewport,t=this.rotate;return _.createElement("div",{className:"react-pdf__Page__textContent",style:{position:"absolute",top:"50%",left:"50%",width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),color:"transparent",transform:"translate(-50%, -50%) rotate(".concat(t,"deg)"),WebkitTransform:"translate(-50%, -50%) rotate(".concat(t,"deg)"),pointerEvents:"none"}},this.renderTextItems())}},{key:"unrotatedViewport",get:function(){var e=this.props,t=e.page,e=e.scale;return t.getViewport({scale:e})}},{key:"rotate",get:function(){var e=this.props,t=e.page;return e.rotate-t.rotate}}]),i}(_.PureComponent);function Se(t){return _.createElement(de.Consumer,null,function(e){return _.createElement(Ce,(0,s.Z)({},e,t))})}function xe(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}Ce.propTypes={onGetTextError:A().func,onGetTextSuccess:A().func,page:r.isRequired,rotate:Y,scale:A().number};var we=function(e){(0,g.Z)(i,e);var a=xe(i);function i(){var n;(0,d.Z)(this,i);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n=a.call.apply(a,[this].concat(t)),(0,y.Z)((0,f.Z)(n),"state",{annotations:null}),(0,y.Z)((0,f.Z)(n),"loadAnnotations",h(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.page,e.prev=1,t=(0,C.Z)(t.getAnnotations()),n.runningTask=t,e.next=6,t.promise;case 6:t=e.sent,n.setState({annotations:t},n.onLoadSuccess),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),n.onLoadError(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])}))),(0,y.Z)((0,f.Z)(n),"onLoadSuccess",function(){var e=n.props.onGetAnnotationsSuccess,t=n.state.annotations;e&&e(t)}),(0,y.Z)((0,f.Z)(n),"onLoadError",function(e){n.setState({annotations:!1}),B(e);var t=n.props.onGetAnnotationsError;t&&t(e)}),(0,y.Z)((0,f.Z)(n),"onRenderSuccess",function(){var e=n.props.onRenderAnnotationLayerSuccess;e&&e()}),(0,y.Z)((0,f.Z)(n),"onRenderError",function(e){B(e);var t=n.props.onRenderAnnotationLayerError;t&&t(e)}),n}return(0,p.Z)(i,[{key:"componentDidMount",value:function(){if(!this.props.page)throw new Error("Attempted to load page annotations, but no page was specified.");this.loadAnnotations()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.page,t=t.renderInteractiveForms;(e.page&&n!==e.page||t!==e.renderInteractiveForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){H(this.runningTask)}},{key:"renderAnnotationLayer",value:function(){var e=this.state.annotations;if(e){var t=this.props,n=t.linkService,r=t.page,a=t.renderInteractiveForms,t=this.viewport.clone({dontFlip:!0}),t={annotations:e,div:this.annotationLayer,linkService:n,page:r,renderInteractiveForms:a,viewport:t};this.annotationLayer.innerHTML="";try{o().AnnotationLayer.render(t),this.onRenderSuccess()}catch(e){this.onRenderError(e)}}}},{key:"render",value:function(){var t=this;return _.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:function(e){t.annotationLayer=e}},this.renderAnnotationLayer())}},{key:"viewport",get:function(){var e=this.props,t=e.page,n=e.rotate,e=e.scale;return t.getViewport({scale:e,rotation:n})}}]),i}(_.PureComponent);we.propTypes={linkService:t.isRequired,onGetAnnotationsError:A().func,onGetAnnotationsSuccess:A().func,onRenderAnnotationLayerError:A().func,onRenderAnnotationLayerSuccess:A().func,page:r,renderInteractiveForms:A().bool,rotate:Y,scale:A().number};function Re(n){return _.createElement(x.Consumer,null,function(t){return _.createElement(de.Consumer,null,function(e){return _.createElement(we,(0,s.Z)({},t,e,n))})})}function Pe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ee(n){return function(){var e,t=(0,m.Z)(n);return t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?(e=(0,m.Z)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,v.Z)(this,t)}}var Te=function(e){(0,g.Z)(i,e);var r=Ee(i);function i(){var a;(0,d.Z)(this,i);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=r.call.apply(r,[this].concat(t)),(0,y.Z)((0,f.Z)(a),"state",{page:null}),(0,y.Z)((0,f.Z)(a),"onLoadSuccess",function(){var e=a.props,t=e.onLoadSuccess,n=e.registerPage,e=a.state.page;t&&t(Z(e,a.scale)),n&&n(a.pageIndex,a.ref)}),(0,y.Z)((0,f.Z)(a),"onLoadError",function(e){B(e);var t=a.props.onLoadError;t&&t(e)}),(0,y.Z)((0,f.Z)(a),"loadPage",h(l().mark(function e(){var t,n,r;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.pdf,n=a.getPageNumber()){e.next=4;break}return e.abrupt("return");case 4:return a.setState(function(e){return e.page?{page:null}:null}),e.prev=5,r=(0,C.Z)(t.getPage(n)),a.runningTask=r,e.next=10,r.promise;case 10:r=e.sent,a.setState({page:r},a.onLoadSuccess),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),a.setState({page:!1}),a.onLoadError(e.t0);case 18:case"end":return e.stop()}},e,null,[[5,14]])}))),a}return(0,p.Z)(i,[{key:"componentDidMount",value:function(){if(!this.props.pdf)throw new Error("Attempted to load a page, but no document was specified.");this.loadPage()}},{key:"componentDidUpdate",value:function(e){var t=this.props.pdf;(e.pdf&&t!==e.pdf||this.getPageNumber()!==this.getPageNumber(e))&&((t=this.props.unregisterPage)&&t(this.getPageIndex(e)),this.loadPage())}},{key:"componentWillUnmount",value:function(){var e=this.props.unregisterPage;e&&e(this.pageIndex),H(this.runningTask)}},{key:"getPageIndex",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props;return R(e.pageNumber)?e.pageNumber-1:R(e.pageIndex)?e.pageIndex:null}},{key:"getPageNumber",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props;return R(e.pageNumber)?e.pageNumber:R(e.pageIndex)?e.pageIndex+1:null}},{key:"renderMainLayer",value:function(){switch(this.props.renderMode){case"none":return null;case"svg":return _.createElement(ye,{key:"".concat(this.pageKeyNoScale,"_svg")});case"canvas":default:return _.createElement(ge,{key:"".concat(this.pageKey,"_canvas")})}}},{key:"renderTextLayer",value:function(){return this.props.renderTextLayer?_.createElement(Se,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){return this.props.renderAnnotationLayer?_.createElement(Re,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var e=this.props.children;return _.createElement(de.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),e)}},{key:"renderContent",value:function(){var e=this.pageNumber,t=this.props.pdf,n=this.state.page;if(!e){var r=this.props.noData;return _.createElement(w,{type:"no-data"},"function"==typeof r?r():r)}if(null===t||null===n){r=this.props.loading;return _.createElement(w,{type:"loading"},"function"==typeof r?r():r)}if(!1!==t&&!1!==n)return this.renderChildren();n=this.props.error;return _.createElement(w,{type:"error"},"function"==typeof n?n():n)}},{key:"render",value:function(){var n=this,e=this.pageNumber,t=this.props.className;return _.createElement("div",(0,s.Z)({className:S("react-pdf__Page",t),"data-page-number":e,ref:function(e){var t=n.props.inputRef;t&&t(e),n.ref=e},style:{position:"relative"}},this.eventProps),this.renderContent())}},{key:"childContext",get:function(){var e=this.state.page;if(!e)return{};var t=this.props;return{customTextRenderer:t.customTextRenderer,onGetAnnotationsError:t.onGetAnnotationsError,onGetAnnotationsSuccess:t.onGetAnnotationsSuccess,onGetTextError:t.onGetTextError,onGetTextSuccess:t.onGetTextSuccess,onRenderAnnotationLayerError:t.onRenderAnnotationLayerError,onRenderAnnotationLayerSuccess:t.onRenderAnnotationLayerSuccess,onRenderError:t.onRenderError,onRenderSuccess:t.onRenderSuccess,page:e,renderInteractiveForms:t.renderInteractiveForms,rotate:this.rotate,scale:this.scale}}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var e=this.props.rotate;if(R(e))return e;e=this.state.page;return e?e.rotate:null}},{key:"scale",get:function(){var e=this.state.page;if(!e)return null;var t=this.props,n=t.scale,r=t.width,a=t.height,i=this.rotate,t=1,n=null===n?1:n;return(r||a)&&(i=e.getViewport({scale:1,rotation:i}),t=r?r/i.width:a/i.height),n*t}},{key:"eventProps",get:function(){var t=this;return(0,k.ZP)(this.props,function(){var e=t.state.page;return e&&Z(e,t.scale)})}},{key:"pageKey",get:function(){var e=this.state.page;return"".concat(e.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){var e=this.state.page;return"".concat(e.pageIndex,"/").concat(this.rotate)}}]),i}(_.PureComponent);Te.defaultProps={error:"Failed to load the page.",loading:"Loading page…",noData:"No page specified.",renderAnnotationLayer:!0,renderInteractiveForms:!1,renderMode:"canvas",renderTextLayer:!0,scale:1};r=A().oneOfType([A().func,A().node]);function Le(t,n){return _.createElement(x.Consumer,null,function(e){return _.createElement(Te,(0,s.Z)({ref:n},e,t))})}Te.propTypes=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach(function(e){(0,y.Z)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},V,{children:A().node,className:Q,customTextRenderer:A().func,error:r,height:A().number,inputRef:A().func,loading:r,noData:r,onGetTextError:A().func,onGetTextSuccess:A().func,onLoadError:A().func,onLoadSuccess:A().func,onRenderError:A().func,onRenderSuccess:A().func,pageIndex:function(e,t,n){var r=e[t],a=e.pageNumber,e=e.pdf;if(!O(e))return null;if(O(r)){if("number"!=typeof r)return new Error("`".concat(t,"` of type `").concat((0,c.Z)(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<0)return new Error("Expected `".concat(t,"` to be greater or equal to 0."));e=e.numPages;if(e<r+1)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(e-1,"."))}else if(!O(a))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pageNumber:function(e,t,n){var r=e[t],a=e.pageIndex,e=e.pdf;if(!O(e))return null;if(O(r)){if("number"!=typeof r)return new Error("`".concat(t,"` of type `").concat((0,c.Z)(r),"` supplied to `").concat(n,"`, expected `number`."));if(r<1)return new Error("Expected `".concat(t,"` to be greater or equal to 1."));e=e.numPages;if(e<r)return new Error("Expected `".concat(t,"` to be less or equal to ").concat(e,"."))}else if(!O(a))return new Error("`".concat(t,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},pdf:a,registerPage:A().func,renderAnnotationLayer:A().bool,renderInteractiveForms:A().bool,renderMode:b,renderTextLayer:A().bool,rotate:Y,scale:A().number,unregisterPage:A().func,width:A().number});var Fe=_.forwardRef(Le);D&&q("You are running React-PDF from your local file system. PDF.js Worker may fail to load due to browser's security policies. If you're on Google Chrome, you can use --allow-file-access-from-files flag for debugging purposes."),o().GlobalWorkerOptions.workerSrc="pdf.worker.js"},75410:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;module=__webpack_require__.nmd(module);var _assertThisInitialized=__webpack_require__(40734),_get=__webpack_require__(29561),_slicedToArray=__webpack_require__(61432),_regeneratorRuntime=__webpack_require__(28129),_asyncToGenerator=__webpack_require__(68357),_toConsumableArray=__webpack_require__(79545),_createClass=__webpack_require__(82147),_classCallCheck=__webpack_require__(82853),_inherits=__webpack_require__(38050),_possibleConstructorReturn=__webpack_require__(3056),_getPrototypeOf=__webpack_require__(71470),_typeof=__webpack_require__(45559),Pp;function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,t=function(){};return{s:t,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return t=r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),_possibleConstructorReturn(this,t)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}Pp=function(){return Qp=[function(e,t,n){"use strict";var r,a,i,s=n(1),o=n(3),c=n(16),l=n(17),u=n(4),h=n(18),d=n(10),p=n(6);n(7).isNodeJS?(r=n(19).PDFNodeStream,o.setPDFNetworkStreamFactory(function(e){return new r(e)})):(a=n(22).PDFNetworkStream,u.isFetchSupported()&&(i=n(23).PDFFetchStream),o.setPDFNetworkStreamFactory(function(e){return new(i&&u.isValidFetchUrl(e.url)?i:a)(e)})),t.build=o.build,t.version=o.version,t.getDocument=o.getDocument,t.LoopbackPort=o.LoopbackPort,t.PDFDataRangeTransport=o.PDFDataRangeTransport,t.PDFWorker=o.PDFWorker,t.renderTextLayer=c.renderTextLayer,t.AnnotationLayer=l.AnnotationLayer,t.createPromiseCapability=s.createPromiseCapability,t.PasswordResponses=s.PasswordResponses,t.InvalidPDFException=s.InvalidPDFException,t.MissingPDFException=s.MissingPDFException,t.SVGGraphics=h.SVGGraphics,t.NativeImageDecoding=s.NativeImageDecoding,t.CMapCompressionType=s.CMapCompressionType,t.PermissionFlag=s.PermissionFlag,t.UnexpectedResponseException=s.UnexpectedResponseException,t.OPS=s.OPS,t.VerbosityLevel=s.VerbosityLevel,t.UNSUPPORTED_FEATURES=s.UNSUPPORTED_FEATURES,t.createValidAbsoluteUrl=s.createValidAbsoluteUrl,t.createObjectURL=s.createObjectURL,t.removeNullCharacters=s.removeNullCharacters,t.shadow=s.shadow,t.Util=s.Util,t.RenderingCancelledException=u.RenderingCancelledException,t.getFilenameFromUrl=u.getFilenameFromUrl,t.LinkTarget=u.LinkTarget,t.addLinkAttributes=u.addLinkAttributes,t.loadScript=u.loadScript,t.PDFDateString=u.PDFDateString,t.GlobalWorkerOptions=d.GlobalWorkerOptions,t.apiCompatibilityParams=p.apiCompatibilityParams},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=p,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=p(e[r]);for(var a=0,i=new Uint8Array(n),s=0;s<t;s++){var o=e[s],c=(o=!(o instanceof Uint8Array)?"string"==typeof o?d(o):new Uint8Array(o):o).byteLength;i.set(o,a),a+=c}return i},t.assert=o,t.bytesToString=function(e){o(null!==e&&"object"===_typeof(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length;if(t<8192)return String.fromCharCode.apply(null,e);for(var n=[],r=0;r<t;r+=8192){var a=Math.min(r+8192,t),a=e.subarray(r,a);n.push(String.fromCharCode.apply(null,a))}return n.join("")},t.createPromiseCapability=function(){var e=Object.create(null),r=!1;return Object.defineProperty(e,"settled",{get:function(){return r}}),e.promise=new Promise(function(t,n){e.resolve=function(e){r=!0,t(e)},e.reject=function(e){r=!0,n(e)}}),e},t.getVerbosityLevel=function(){return a},t.info=function(e){a>=r.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===_typeof(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,n){return e.length===n.length&&e.every(function(e,t){return e===n[t]})},t.isBool=function(e){return"boolean"==typeof e},t.isEmptyObj=function(e){for(var t in e)return!1;return!0},t.isNum=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(e){return!1}t=new URL(t,n);return n.origin===t.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(e){}return null},t.removeNullCharacters=function(e){return"string"==typeof e?e.replace(h,""):(i("The argument for removeNullCharacters must be a string."),e)},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(a=e)},t.shadow=c,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=d,t.stringToPDFString=function(e){var t=e.length,n=[];if("þ"===e[0]&&"ÿ"===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if("ÿ"===e[0]&&"þ"===e[1])for(var a=2;a<t;a+=2)n.push(String.fromCharCode(e.charCodeAt(a+1)<<8|e.charCodeAt(a)));else for(var i=0;i<t;++i){var s=g[e.charCodeAt(i)];n.push(s?String.fromCharCode(s):e.charAt(i))}return n.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=i,t.unreachable=s,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.NativeImageDecoding=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,n(2);t.IDENTITY_MATRIX=[1,0,0,1,0,0];t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0];t.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"};t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"};t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReplyType={GROUP:"Group",REPLY:"R"};t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r;t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2};t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var a=r.WARNINGS;function i(e){a>=r.WARNINGS&&console.log("Warning: ".concat(e))}function s(e){throw new Error(e)}function o(e,t){e||s(t)}function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var l=(u.prototype=new Error,u.constructor=u);function u(e){this.constructor===u&&s("Cannot initialize BaseException."),this.message=e,this.name=this.constructor.name}t.BaseException=l,t.PasswordException=function(){_inherits(r,l);var n=_createSuper(r);function r(e,t){return _classCallCheck(this,r),(e=n.call(this,e)).code=t,e}return r}(),t.UnknownErrorException=function(){_inherits(r,l);var n=_createSuper(r);function r(e,t){return _classCallCheck(this,r),(e=n.call(this,e)).details=t,e}return r}(),t.InvalidPDFException=function(){_inherits(t,l);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return t}(),t.MissingPDFException=function(){_inherits(t,l);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return t}(),t.UnexpectedResponseException=function(){_inherits(r,l);var n=_createSuper(r);function r(e,t){return _classCallCheck(this,r),(e=n.call(this,e)).status=t,e}return r}(),t.FormatError=function(){_inherits(t,l);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return t}(),t.AbortException=function(){_inherits(t,l);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return t}();var h=/\x00/g;function d(e){o("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function p(e){return void 0!==e.length?e.length:(o(void 0!==e.byteLength),e.byteLength)}t.IsLittleEndianCached={get value(){return c(this,"value",((e=new Uint8Array(4))[0]=1)===new Uint32Array(e.buffer,0,1)[0]);var e}},t.IsEvalSupportedCached={get value(){return c(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};var f=["rgb(",0,",",0,",",0,")"];t.Util=function(){function s(){_classCallCheck(this,s)}return _createClass(s,null,[{key:"makeCssRgb",value:function(e,t,n){return f[1]=e,f[3]=t,f[5]=n,f.join("")}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(e,t){var n=s.applyTransform(e,t),r=s.applyTransform(e.slice(2,4),t),a=s.applyTransform([e[0],e[3]],t),t=s.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],a[0],t[0]),Math.min(n[1],r[1],a[1],t[1]),Math.max(n[0],r[0],a[0],t[0]),Math.max(n[1],r[1],a[1],t[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],e=e[2]*t[1]+e[3]*t[3],t=(n+e)/2,a=Math.sqrt((n+e)*(n+e)-4*(n*e-a*r))/2,r=t-a||1;return[Math.sqrt(t+a||1),Math.sqrt(r)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(e,t){function n(e,t){return e-t}var r=[e[0],e[2],t[0],t[2]].sort(n),a=[e[1],e[3],t[1],t[3]].sort(n),i=[];return e=s.normalizeRect(e),t=s.normalizeRect(t),r[0]===e[0]&&r[1]===t[0]||r[0]===t[0]&&r[1]===e[0]?(i[0]=r[1],i[2]=r[2],a[0]===e[1]&&a[1]===t[1]||a[0]===t[1]&&a[1]===e[1]?(i[1]=a[1],i[3]=a[2],i):null):null}}]),s}();var g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var v,n=(v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(e,t){if(!(2<arguments.length&&void 0!==arguments[2]&&arguments[2])&&URL.createObjectURL){var n=new Blob([e],{type:t});return URL.createObjectURL(n)}for(var r="data:".concat(t,";base64,"),a=0,i=e.length;a<i;a+=3){var s=255&e[a],o=255&e[a+1],c=255&e[a+2];r+=v[s>>2]+v[(3&s)<<4|o>>4]+v[a+1<i?(15&o)<<2|c>>6:64]+v[a+2<i?63&c:64]}return r});t.createObjectURL=n},function(e,t,n){},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(4),_font_loader=__w_pdfjs_require__(5),_api_compatibility=__w_pdfjs_require__(6),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"==typeof e)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r,a=Object.create(null),i=null,s=null;for(r in t)if("url"!==r||"undefined"==typeof window)if("range"!==r)if("worker"!==r)if("data"!==r||t[r]instanceof Uint8Array)a[r]=t[r];else{var o=t[r];if("string"==typeof o)a[r]=(0,_util.stringToBytes)(o);else if("object"!==_typeof(o)||null===o||isNaN(o.length)){if(!(0,_util.isArrayBuffer)(o))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");a[r]=new Uint8Array(o)}else a[r]=new Uint8Array(o)}else s=t[r];else i=t[r];else a[r]=new URL(t[r],window.location).href;a.rangeChunkSize=a.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,a.CMapReaderFactory=a.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,a.ignoreErrors=!0!==a.stopAtErrors,a.pdfBug=!0===a.pdfBug;e=Object.values(_util.NativeImageDecoding);void 0!==a.nativeImageDecoderSupport&&e.includes(a.nativeImageDecoderSupport)||(a.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1),"boolean"!=typeof a.isEvalSupported&&(a.isEvalSupported=!0),"boolean"!=typeof a.disableFontFace&&(a.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof a.disableRange&&(a.disableRange=!1),"boolean"!=typeof a.disableStream&&(a.disableStream=!1),"boolean"!=typeof a.disableAutoFetch&&(a.disableAutoFetch=!1),"boolean"!=typeof a.disableCreateObjectURL&&(a.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(a.verbosity),s||(e={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort},s=e.port?PDFWorker.fromPort(e):new PDFWorker(e),n._worker=s);var c=n.docId;return s.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");return _fetchDocument(s,a,i,c).then(function(e){if(n.destroyed)throw new Error("Loading aborted");i?t=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,disableRange:a.disableRange,disableStream:a.disableStream},i):a.data||(t=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream}));e=new _message_handler.MessageHandler(c,e,s.port);e.postMessageTransfers=s.postMessageTransfers;var t=new WorkerTransport(e,n,t,a);n._transport=t,e.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(t,e,n,r){return t.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(e.length=n.length,e.initialData=n.initialData,e.progressiveDone=n.progressiveDone),t.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.4.456",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,disableCreateObjectURL:e.disableCreateObjectURL,postMessageTransfers:t.postMessageTransfers,docBaseUrl:e.docBaseUrl,nativeImageDecoderSupport:e.nativeImageDecoderSupport,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported}).then(function(e){if(t.destroyed)throw new Error("Worker was destroyed");return e}))}var PDFDocumentLoadingTask=(Bv=0,function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+Bv++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(e,[{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)})}},{key:"then",value:function(e,t){throw new Error("Removed API method: PDFDocumentLoadingTask.then, use the `promise` getter instead.")}},{key:"promise",get:function(){return this._capability.promise}}]),e}()),Bv,PDFDataRangeTransport=function(){function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,r),this.length=e,this.initialData=t,this.progressiveDone=n,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(r,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e,t)}catch(e){r.e(e)}finally{r.f()}}},{key:"onDataProgress",value:function(n,r){var a=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(a._progressListeners);try{for(t.s();!(e=t.n()).done;)(0,e.value)(n,r)}catch(e){t.e(e)}finally{t.f()}})}},{key:"onDataProgressiveRead",value:function(n){var r=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(r._progressiveReadListeners);try{for(t.s();!(e=t.n()).done;)(0,e.value)(n)}catch(e){t.e(e)}finally{t.f()}})}},{key:"onDataProgressiveDone",value:function(){var n=this;this._readyCapability.promise.then(function(){var e,t=_createForOfIteratorHelper(n._progressiveDoneListeners);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),r}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function n(e,t){_classCallCheck(this,n),this._pdfInfo=e,this._transport=t}return _createClass(n,[{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getOpenActionDestination",value:function(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then(function(e){return e&&e.dest?e.dest:null})}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),n}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function a(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,a),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new _display_utils.StatTimer:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return _createClass(a,[{key:"getViewport",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,a=e.offsetX,n=void 0===a?0:a,a=e.offsetY,a=void 0===a?0:a,e=e.dontFlip,e=void 0!==e&&e;if(1<arguments.length||"number"==typeof arguments[0])throw new Error("PDFPageProxy.getViewport is called with obsolete arguments.");return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:n,offsetY:a,dontFlip:e})}},{key:"getAnnotations",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).intent,e=void 0===e?null:e;return this.annotationsPromise&&this.annotationsIntent===e||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,e),this.annotationsIntent=e),this.annotationsPromise}},{key:"render",value:function(e){var n=this,t=e.canvasContext,r=e.viewport,a=e.intent,i=void 0===a?"display":a,s=e.enableWebGL,o=void 0!==s&&s,c=e.renderInteractiveForms,l=void 0!==c&&c,a=e.transform,s=void 0===a?null:a,c=e.imageLayer,a=void 0===c?null:c,c=e.canvasFactory,c=void 0===c?null:c,e=e.background,e=void 0===e?null:e;this._stats&&this._stats.time("Overall");var u="print"===i?"print":"display";this.pendingCleanup=!1,this.intentStates[u]||(this.intentStates[u]=Object.create(null));var h=this.intentStates[u];h.streamReaderCancelTimeout&&(clearTimeout(h.streamReaderCancelTimeout),h.streamReaderCancelTimeout=null);c=c||new _display_utils.DOMCanvasFactory,o=new _webgl.WebGLContext({enable:o});h.displayReadyCapability||(h.displayReadyCapability=(0,_util.createPromiseCapability)(),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:u,renderInteractiveForms:!0===l}));function d(e){var t=h.renderTasks.indexOf(p);0<=t&&h.renderTasks.splice(t,1),!n.cleanupAfterRender&&"print"!=u||(n.pendingCleanup=!0),n._tryCleanup(),e?(p.capability.reject(e),n._abortOperatorList({intentState:h,reason:e})):p.capability.resolve(),n._stats&&(n._stats.timeEnd("Rendering"),n._stats.timeEnd("Overall"))}var p=new InternalRenderTask({callback:d,params:{canvasContext:t,viewport:r,transform:s,imageLayer:a,background:e},objs:this.objs,commonObjs:this.commonObjs,operatorList:h.operatorList,pageIndex:this._pageIndex,canvasFactory:c,webGLContext:o,useRequestAnimationFrame:"print"!=u,pdfBug:this._pdfBug});h.renderTasks||(h.renderTasks=[]),h.renderTasks.push(p);o=p.task;return h.displayReadyCapability.promise.then(function(e){n.pendingCleanup?d():(n._stats&&n._stats.time("Rendering"),p.initializeGraphics(e),p.operatorListChanged())}).catch(d),o}},{key:"getOperatorList",value:function(){var e="oplist";this.intentStates[e]||(this.intentStates[e]=Object.create(null));var t,n=this.intentStates[e];return n.opListReadCapability||(t={operatorListChanged:function(){var e;n.operatorList.lastChunk&&(n.opListReadCapability.resolve(n.operatorList),0<=(e=n.renderTasks.indexOf(t))&&n.renderTasks.splice(e,1))}},n.opListReadCapability=(0,_util.createPromiseCapability)(),n.renderTasks=[],n.renderTasks.push(t),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:e})),n.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,e=e.disableCombineTextItems;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===(void 0!==t&&t),combineTextItems:!0!==(void 0!==e&&e)},{highWaterMark:100,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var n=this.streamTextContent(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return new Promise(function(r,e){var t=n.getReader(),a={items:[],styles:Object.create(null)};!function n(){t.read().then(function(e){var t=e.value;e.done?r(a):(Object.assign(a.styles,t.styles),(e=a.items).push.apply(e,_toConsumableArray(t.items)),n())},e)}()})}},{key:"_destroy",value:function(){var n=this;this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var r=[];return Object.keys(this.intentStates).forEach(function(e){var t=n.intentStates[e];n._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==e&&t.renderTasks.forEach(function(e){var t=e.capability.promise.catch(function(){});r.push(t),e.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(r)}},{key:"cleanup",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return!(!this.pendingCleanup||Object.keys(this.intentStates).some(function(e){e=t.intentStates[e];return 0!==e.renderTasks.length||!e.operatorList.lastChunk}))&&(Object.keys(this.intentStates).forEach(function(e){delete t.intentStates[e]}),this.objs.clear(),this.annotationsPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),!(this.pendingCleanup=!1))}},{key:"_startRenderPage",value:function(e,t){t=this.intentStates[t];t&&(this._stats&&this._stats.timeEnd("Page Request"),t.displayReadyCapability&&t.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(var a=0;a<t.renderTasks.length;a++)t.renderTasks[a].operatorListChanged();e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var r=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var t=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),a=this.intentStates[e.intent];a.streamReader=t,function n(){t.read().then(function(e){var t=e.value;e.done?a.streamReader=null:r._transport.destroyed||(r._renderPageChunk(t,a),n())},function(e){if(a.streamReader=null,!r._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;for(var t=0;t<a.renderTasks.length;t++)a.renderTasks[t].operatorListChanged();r._tryCleanup()}if(a.displayReadyCapability)a.displayReadyCapability.reject(e);else{if(!a.opListReadCapability)throw e;a.opListReadCapability.reject(e)}}})}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,e=e.force,e=void 0!==e&&e;if((0,_util.assert)(r instanceof Error||"object"===_typeof(r)&&null!==r,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!e){if(0!==n.renderTasks.length)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout(function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}n.streamReader.cancel(new _util.AbortException(r&&r.message)),n.streamReader=null,this._transport.destroyed||(Object.keys(this.intentStates).some(function(e){return t.intentStates[e]===n&&(delete t.intentStates[e],!0)}),this.cleanup())}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),a}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function t(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,t),this._listeners=[],this._defer=e,this._deferred=Promise.resolve(void 0)}return _createClass(t,[{key:"postMessage",value:function(t,o){var c,n,r=this;this._defer?(c=new WeakMap,n={data:function e(t){if("object"!==_typeof(t)||null===t)return t;if(c.has(t))return c.get(t);var n,r;if((n=t.buffer)&&(0,_util.isArrayBuffer)(n)){var a=o&&o.includes(n)?new t.constructor(n,t.byteOffset,t.byteLength):new t.constructor(t);return c.set(t,a),a}for(r in a=Array.isArray(t)?[]:{},c.set(t,a),t){for(var i=void 0,s=t;!(i=Object.getOwnPropertyDescriptor(s,r));)s=Object.getPrototypeOf(s);if(void 0!==i.value)if("function"!=typeof i.value)a[r]=e(i.value);else if(t.hasOwnProperty&&t.hasOwnProperty(r))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(t[r]))}return a}(t)},this._deferred.then(function(){r._listeners.forEach(function(e){e.call(r,n)})})):this._listeners.forEach(function(e){e.call(r,{data:t})})}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){t=this._listeners.indexOf(t);this._listeners.splice(t,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability,pdfjsFilePath;function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(e){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref8=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime.wrap(function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),mainWorkerMessageHandler)return _context.abrupt("return",mainWorkerMessageHandler);_context.next=3;break;case 3:if(_is_node.isNodeJS)return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);_context.next=6;break;case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref8.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){return URL.createObjectURL(new Blob(["importScripts('"+e+"');"]))}_is_node.isNodeJS?(isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js"):"object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document&&(pdfjsFilePath=document.currentScript&&document.currentScript.src,pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2")));var PDFWorker=function(){function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?null:t,t=e.port,t=void 0===t?null:t,e=e.verbosity,e=void 0===e?(0,_util.getVerbosityLevel)():e;if(_classCallCheck(this,r),t&&pdfWorkerPorts.has(t))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=n,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=e,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return pdfWorkerPorts.set(t,this),void this._initializeFromPort(t);this._initialize()}return _createClass(r,[{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var n=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var e=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,e)||(e=createCDNWrapper(new URL(e,window.location).href));var t=new Worker(e),r=new _message_handler.MessageHandler("main","worker",t),a=function(){t.removeEventListener("error",i),r.destroy(),t.terminate(),n.destroyed?n._readyCapability.reject(new Error("Worker was destroyed")):n._setupFakeWorker()},i=function(){n._webWorker||a()};t.addEventListener("error",i),r.on("test",function(e){t.removeEventListener("error",i),n.destroyed?a():e?(n._messageHandler=r,n._port=t,n._webWorker=t,e.supportTransfers||(n.postMessageTransfers=!1),n._readyCapability.resolve(),r.send("configure",{verbosity:n.verbosity})):(n._setupFakeWorker(),r.destroy(),t.terminate())}),r.on("ready",function(e){if(t.removeEventListener("error",i),n.destroyed)a();else try{s()}catch(e){n._setupFakeWorker()}});var s=function(){var t=new Uint8Array([n.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void s()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var a=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(e){var t,n,r;a.destroyed?a._readyCapability.reject(new Error("Worker was destroyed")):(r=new LoopbackPort,a._port=r,t="fake"+nextFakeWorkerId++,n=new _message_handler.MessageHandler(t+"_worker",t,r),e.setup(n,r),r=new _message_handler.MessageHandler(t,t+"_worker",r),a._messageHandler=r,a._readyCapability.resolve(),r.send("configure",{verbosity:a.verbosity}))}).catch(function(e){a._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(e.port)?pdfWorkerPorts.get(e.port):new r(e)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),r}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function a(e,t,n,r){_classCallCheck(this,a),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=r,this.CMapReaderFactory=new r.CMapReaderFactory({baseUrl:r.cMapUrl,isCompressed:r.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(a,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach(function(e){e&&t.push(e._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var o=this,c=this.messageHandler,r=this.loadingTask;c.on("GetReader",function(e,n){(0,_util.assert)(o._networkStream),o._fullReader=o._networkStream.getFullReader(),o._fullReader.onProgress=function(e){o._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){o._fullReader.read().then(function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t)),n.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){n.error(e)})},n.onCancel=function(e){o._fullReader.cancel(e)}}),c.on("ReaderHeadersReady",function(e){var t=(0,_util.createPromiseCapability)(),n=o._fullReader;return n.headersReady.then(function(){n.isStreamingSupported&&n.isRangeSupported||(o._lastProgress&&r.onProgress&&r.onProgress(o._lastProgress),n.onProgress=function(e){r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}),t.resolve({isStreamingSupported:n.isStreamingSupported,isRangeSupported:n.isRangeSupported,contentLength:n.contentLength})},t.reject),t.promise}),c.on("GetRangeReader",function(e,n){(0,_util.assert)(o._networkStream);var t=o._networkStream.getRangeReader(e.begin,e.end);t?(n.onPull=function(){t.read().then(function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t)),n.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){n.error(e)})},n.onCancel=function(e){t.cancel(e)}):n.close()}),c.on("GetDoc",function(e){e=e.pdfInfo;o._numPages=e.numPages,r._capability.resolve(new PDFDocumentProxy(e,o))}),c.on("DocException",function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}r._capability.reject(t)}),c.on("PasswordRequest",function(e){if(o._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword)try{r.onPassword(function(e){o._passwordCapability.resolve({password:e})},e.code)}catch(e){o._passwordCapability.reject(e)}else o._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return o._passwordCapability.promise}),c.on("DataLoaded",function(e){r.onProgress&&r.onProgress({loaded:e.length,total:e.length}),o.downloadInfoCapability.resolve(e)}),c.on("StartRenderPage",function(e){o.destroyed||o.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)}),c.on("commonobj",function(e){if(!o.destroyed){var e=_slicedToArray(e,3),t=e[0],n=e[1],r=e[2];if(!o.commonObjs.has(t))switch(n){case"Font":var a=o._params;if("error"in r){var i=r.error;(0,_util.warn)("Error during font loading: ".concat(i)),o.commonObjs.resolve(t,i);break}i=null;a.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(i={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var s=new _font_loader.FontFaceObject(r,{isEvalSupported:a.isEvalSupported,disableFontFace:a.disableFontFace,ignoreErrors:a.ignoreErrors,onUnsupportedFeature:o._onUnsupportedFeature.bind(o),fontRegistry:i});o.fontLoader.bind(s).then(function(){o.commonObjs.resolve(t,s)},function(e){c.sendWithPromise("FontFallback",{id:t}).finally(function(){o.commonObjs.resolve(t,s)})});break;case"FontPath":case"FontType3Res":o.commonObjs.resolve(t,r);break;default:throw new Error("Got unknown common object type ".concat(n))}}}),c.on("obj",function(e){if(!o.destroyed){var t=_slicedToArray(e,4),n=t[0],e=t[1],r=t[2],a=t[3],i=o.pageCache[e];if(!i.objs.has(n))switch(r){case"JpegStream":return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=function(){t(new Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(n)},n.src=a}).then(function(e){i.objs.resolve(n,e)});case"Image":i.objs.resolve(n,a);a&&"data"in a&&8e6<a.data.length&&(i.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(r))}}}),c.on("DocProgress",function(e){o.destroyed||r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}),c.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),c.on("JpegDecode",function(e){if(o.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var e=_slicedToArray(e,2),t=e[0],p=e[1];return 3!==p&&1!==p?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(h,e){var d=new Image;d.onload=function(){var e=d.width,t=d.height,n=e*t,r=4*n,a=new Uint8ClampedArray(n*p),i=document.createElement("canvas");i.width=e,i.height=t;n=i.getContext("2d");n.drawImage(d,0,0);var s=n.getImageData(0,0,e,t).data;if(3===p)for(var o=0,c=0;o<r;o+=4,c+=3)a[c]=s[o],a[c+1]=s[o+1],a[c+2]=s[o+2];else if(1===p)for(var l=0,u=0;l<r;l+=4,u++)a[u]=s[l];h({data:a,width:e,height:t}),(0,_display_utils.releaseImageResources)(d),i.width=0,i.height=0,n=i=null},d.onerror=function(){e(new Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(d)},d.src=t})}),c.on("FetchBuiltInCMap",function(e,t){var n;o.destroyed?t.error(new Error("Worker was destroyed")):(n=!1,t.onPull=function(){n?t.close():(n=!0,o.CMapReaderFactory.fetch(e).then(function(e){t.enqueue(e,1,[e.cMapData.buffer])}).catch(function(e){t.error(e)}))})})}},{key:"_onUnsupportedFeature",value:function(e){e=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];e=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(t.destroyed)throw new Error("Transport destroyed");e=new PDFPageProxy(n,e,t,t._params.pdfBug);return t.pageCache[n]=e});return this.pagePromises[n]=e}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch(function(e){return Promise.reject(new Error(e))})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var r=this;return this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var e=0,t=r.pageCache.length;e<t;e++){var n=r.pageCache[e];if(n)if(!n.cleanup())throw new Error("startCleanup: Page ".concat(e+1," is currently rendering."))}r.commonObjs.clear(),r.fontLoader.clear()})}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableCreateObjectURL:e.disableCreateObjectURL,disableFontFace:e.disableFontFace,nativeImageDecoderSupport:e.nativeImageDecoderSupport})}}]),a}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]||(this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1})}},{key:"get",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;t=this._objs[e];if(!t||!t.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return t.data}},{key:"has",value:function(e){e=this._objs[e];return!!e&&e.resolved}},{key:"resolve",value:function(e,t){e=this._ensureObj(e);e.resolved=!0,e.data=t,e.capability.resolve(t)}},{key:"clear",value:function(){for(var e in this._objs){e=this._objs[e].data;"undefined"!=typeof Image&&e instanceof Image&&(0,_display_utils.releaseImageResources)(e)}this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"then",value:function(e,t){throw new Error("Removed API method: RenderTask.then, use the `promise` getter instead.")}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),t}(),InternalRenderTask=(TD=new WeakSet,function(){function u(e){var t=e.callback,n=e.params,r=e.objs,a=e.commonObjs,i=e.operatorList,s=e.pageIndex,o=e.canvasFactory,c=e.webGLContext,l=e.useRequestAnimationFrame,l=void 0!==l&&l,e=e.pdfBug,e=void 0!==e&&e;_classCallCheck(this,u),this.callback=t,this.params=n,this.objs=r,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=s,this.canvasFactory=o,this.webGLContext=c,this._pdfBug=e,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}var e;return _createClass(u,[{key:"initializeGraphics",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.cancelled){if(this._canvas){if(TD.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");TD.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var t=this.params,n=t.canvasContext,r=t.viewport,a=t.transform,i=t.imageLayer,t=t.background;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,i),this.gfx.beginDrawing({transform:a,viewport:r,transparency:e,background:t}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&TD.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){e._nextBound().catch(e.cancel.bind(e))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cancelled)return e.abrupt("return");e.next=2;break;case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&TD.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}]),u}()),TD,version="2.4.456";exports.version=version;var build="228a591c";exports.build=build},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=t.target,a=t.rel,t=t.enabled,t=void 0===t||t;(0,l.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');n=(0,l.removeNullCharacters)(n);t?e.href=e.title=n:(e.href="",e.title="Disabled: ".concat(n),e.onclick=function(){return!1});var i="";switch(r){case o.NONE:break;case o.SELF:i="_self";break;case o.BLANK:i="_blank";break;case o.PARENT:i="_parent";break;case o.TOP:i="_top"}e.target=i,e.rel="string"==typeof a?a:s},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),n=Math.min(0<t?t:e.length,0<n?n:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)},t.isFetchSupported=c,t.isValidFetchUrl=h,t.loadScript=function(r){return new Promise(function(e,t){var n=document.createElement("script");n.src=r,n.onload=e,n.onerror=function(){t(new Error("Cannot load script at: ".concat(n.src)))},(document.head||document.documentElement).appendChild(n)})},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.releaseImageResources=function(e){(0,l.assert)(e instanceof Image,"Invalid `img` parameter.");var t=e.src;"string"==typeof t&&t.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(t);e.removeAttribute("src")},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var l=n(1),s="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=s;var r="http://www.w3.org/2000/svg";t.DOMCanvasFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}(),t.DOMCMapReaderFactory=function(){function n(e){var t=e.baseUrl,t=void 0===t?null:t,e=e.isCompressed,e=void 0!==e&&e;_classCallCheck(this,n),this.baseUrl=t,this.isCompressed=e}function e(e){return t.apply(this,arguments)}var t;return _createClass(n,[{key:"fetch",value:(t=function(){var t=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var n,a,i,s=this;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:if(a=this.baseUrl+n+(this.isCompressed?".bcmap":""),i=this.isCompressed?l.CMapCompressionType.BINARY:l.CMapCompressionType.NONE,c()&&h(a,document.baseURI))return e.abrupt("return",fetch(a).then(function(){var t=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var n;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}throw new Error(t.statusText);case 2:if(s.isCompressed)return e.t0=Uint8Array,e.next=6,t.arrayBuffer();e.next=10;break;case 6:e.t1=e.sent,n=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=l.stringToBytes,e.next=13,t.text();case 13:e.t3=e.sent,n=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:n,compressionType:i});case 16:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"")+"CMap at: ".concat(a))}));e.next=9;break;case 9:return e.abrupt("return",new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",a,!0),s.isCompressed&&(r.responseType="arraybuffer"),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE){var e;if(200===r.status||0===r.status)if(s.isCompressed&&r.response?e=new Uint8Array(r.response):!s.isCompressed&&r.responseText&&(e=(0,l.stringToBytes)(r.responseText)),e)return void t({cMapData:e,compressionType:i});n(new Error(r.statusText))}},r.send(null)}).catch(function(e){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"")+"CMap at: ".concat(a))}));case 10:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}(),e.toString=function(){return t.toString()},e)}]),n}(),t.DOMSVGFactory=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t){(0,l.assert)(0<e&&0<t,"Invalid SVG dimensions");var n=document.createElementNS(r,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}},{key:"createElement",value:function(e){return(0,l.assert)("string"==typeof e,"Invalid SVG element type"),document.createElementNS(r,e)}}]),e}(),t.PageViewport=function(){function g(e){var t=e.viewBox,n=e.scale,r=e.rotation,a=e.offsetX,i=void 0===a?0:a,s=e.offsetY,o=void 0===s?0:s,a=e.dontFlip,s=void 0!==a&&a;_classCallCheck(this,g),this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=o;var c,l,u,h,d,p,f,e=(t[2]+t[0])/2,a=(t[3]+t[1])/2;switch(r=(r%=360)<0?r+360:r){case 180:c=-1,u=l=0,h=1;break;case 90:u=l=1,h=c=0;break;case 270:u=l=-1,h=c=0;break;default:u=l=0,h=-(c=1)}s&&(u=-u,h=-h),t=0===c?(d=Math.abs(a-t[1])*n+i,p=Math.abs(e-t[0])*n+o,f=Math.abs(t[3]-t[1])*n,Math.abs(t[2]-t[0])*n):(d=Math.abs(e-t[0])*n+i,p=Math.abs(a-t[1])*n+o,f=Math.abs(t[2]-t[0])*n,Math.abs(t[3]-t[1])*n),this.transform=[c*n,l*n,u*n,h*n,d-c*n*e-u*n*a,p-l*n*e-h*n*a],this.width=f,this.height=t}return _createClass(g,[{key:"clone",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=void 0===t?this.scale:t,r=e.rotation,a=void 0===r?this.rotation:r,t=e.offsetX,r=void 0===t?this.offsetX:t,t=e.offsetY,t=void 0===t?this.offsetY:t,e=e.dontFlip,e=void 0!==e&&e;return new g({viewBox:this.viewBox.slice(),scale:n,rotation:a,offsetX:r,offsetY:t,dontFlip:e})}},{key:"convertToViewportPoint",value:function(e,t){return l.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=l.Util.applyTransform([e[0],e[1]],this.transform),e=l.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],e[0],e[1]]}},{key:"convertToPdfPoint",value:function(e,t){return l.Util.applyInverseTransform([e,t],this.transform)}}]),g}();n=function(e){_inherits(r,e);var n=_createSuper(r);function r(e,t){return _classCallCheck(this,r),(e=n.call(this,e)).type=t,e}return r}(l.BaseException);t.RenderingCancelledException=n;var u,o={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function c(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function h(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(e){return!1}}t.LinkTarget=o,t.StatTimer=function(){function e(){_classCallCheck(this,e),this.started=Object.create(null),this.times=[]}return _createClass(e,[{key:"time",value:function(e){e in this.started&&(0,l.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,l.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=_createForOfIteratorHelper(this.times);try{for(r.s();!(e=r.n()).done;){var a=e.value.name;a.length>n&&(n=a.length)}}catch(e){r.e(e)}finally{r.f()}var i,s=_createForOfIteratorHelper(this.times);try{for(s.s();!(i=s.n()).done;){var o=i.value,c=o.end-o.start;t.push("".concat(o.name.padEnd(n)," ").concat(c,"ms\n"))}}catch(e){s.e(e)}finally{s.f()}return t.join("")}}]),e}(),t.PDFDateString=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,l.isString)(e))return null;var t=(u=u||new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")).exec(e);if(!t)return null;var n=parseInt(t[1],10),r=1<=(r=parseInt(t[2],10))&&r<=12?r-1:0,a=1<=(a=parseInt(t[3],10))&&a<=31?a:1,i=0<=(i=parseInt(t[4],10))&&i<=23?i:0,s=0<=(s=parseInt(t[5],10))&&s<=59?s:0,o=0<=(o=parseInt(t[6],10))&&o<=59?o:0,c=t[7]||"Z",e=0<=(e=parseInt(t[8],10))&&e<=23?e:0,t=0<=(t=parseInt(t[9],10)||0)&&t<=59?t:0;return"-"===c?(i+=e,s+=t):"+"===c&&(i-=e,s-=t),new Date(Date.UTC(n,r,a,i,s,o))}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var m=n(1),r=function(){function n(e){var t=e.docId,e=e.onUnsupportedFeature;_classCallCheck(this,n),this.constructor===n&&(0,m.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=e,this.nativeFontFaces=[],this.styleElement=null}var t;return _createClass(n,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),document.documentElement.getElementsByTagName("head")[0].appendChild(t));t=t.sheet;t.insertRule(e,t.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(e){document.fonts.delete(e)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(t=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){var n,r,a=this;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.attached||t.missingFile)return e.abrupt("return");e.next=2;break;case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(n=t.createNativeFontFace())return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;e.next=18;break;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.font}),(0,m.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(r=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(r),this.isSyncFontLoadingSupported)return e.abrupt("return");e.next=24;break;case 24:return e.next=26,new Promise(function(e){e=a._queueLoadingCallback(e);a._prepareFontLoadEvent([r],[t],e)});case 26:case"end":return e.stop()}},e,this,[[7,12]])})),function(e){return t.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,m.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,m.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var e="undefined"!=typeof document&&!!document.fonts;return(0,m.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,m.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,m.unreachable)("Abstract method `_loadTestFont`.")}}]),n}();t.FontLoader=void 0,t.FontLoader=function(){_inherits(n,r);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),(e=t.call(this,e)).loadingContext={requests:[],nextRequestId:0},e.loadTestFontId=0,e}return _createClass(n,[{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,m.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;0<t.requests.length&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_prepareFontLoadEvent",value:function(e,t,n){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function a(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var i=document.createElement("canvas");i.width=1,i.height=1;var s=i.getContext("2d"),o=0;function c(e,t){if(30<++o)return(0,m.warn)("Load test font never loaded."),void t();s.font="30px "+e,s.fillText(".",0,20),0<s.getImageData(0,0,1,1).data[3]?t():setTimeout(c.bind(null,e,t))}for(var l="lt".concat(Date.now()).concat(this.loadTestFontId++),u=1482184792,h=r(i=a(i=this._loadTestFont,976,l.length,l),16),d=0,p=l.length-3;d<p;d+=4)h=h-u+r(l,d)|0;d<l.length&&(h=h-u+r(l+"XXX",d)|0),i=a(i,16,4,(0,m.string32)(h));i="url(data:font/opentype;base64,".concat(btoa(i),");"),i='@font-face {font-family:"'.concat(l,'";src:').concat(i,"}");this.insertRule(i);var f=[];for(d=0,p=t.length;d<p;d++)f.push(t[d].loadedName);f.push(l);var g=document.createElement("div");for(g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px",d=0,p=f.length;d<p;++d){var v=document.createElement("span");v.textContent="Hi",v.style.fontFamily=f[d],g.appendChild(v)}document.body.appendChild(g),c(l,function(){document.body.removeChild(g),n.complete()})}},{key:"isSyncFontLoadingSupported",get:function(){var e,t=!1;return("undefined"==typeof navigator||(e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent))&&14<=e[1])&&(t=!0),(0,m.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_loadTestFont",get:function(){return(0,m.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),n}(),t.FontFaceObject=function(){function o(e,t){var n,r=t.isEvalSupported,a=void 0===r||r,i=t.disableFontFace,s=void 0!==i&&i,r=t.ignoreErrors,i=void 0!==r&&r,r=t.onUnsupportedFeature,r=void 0===r?null:r,t=t.fontRegistry,t=void 0===t?null:t;for(n in _classCallCheck(this,o),this.compiledGlyphs=Object.create(null),e)this[n]=e[n];this.isEvalSupported=!1!==a,this.disableFontFace=!0===s,this.ignoreErrors=!0===i,this._onUnsupportedFeature=r,this.fontRegistry=t}return _createClass(o,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,m.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),e='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),e}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var a,i;try{a=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:m.UNSUPPORTED_FEATURES.font}),(0,m.warn)('getPathGenerator - ignoring character: "'.concat(e,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&m.IsEvalSupportedCached.value){for(var n,r="",s=0,o=a.length;s<o;s++)n=void 0!==(i=a[s]).args?i.args.join(","):"",r+="c."+i.cmd+"("+n+");\n";return this.compiledGlyphs[t]=new Function("c","size",r)}return this.compiledGlyphs[t]=function(e,t){for(var n=0,r=a.length;n<r;n++)"scale"===(i=a[n]).cmd&&(i.args=[t,-t]),e[i.cmd].apply(e,i.args)}}}]),o}()},function(e,t,n){"use strict";var r=Object.create(null),a=n(7).isNodeJS,i="undefined"!=typeof navigator&&navigator.userAgent||"",n=/Trident/.test(i),i=/CriOS/.test(i);(n||i)&&(r.disableCreateObjectURL=!0),a&&(r.disableFontFace=!0,r.nativeImageDecoderSupport="none"),t.apiCompatibilityParams=Object.freeze(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var r="object"===("undefined"==typeof process?"undefined":_typeof(process))&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;t.isNodeJS=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var F=n(1),l=n(9),h=4096;function d(o){o.mozCurrentTransform||(o._originalSave=o.save,o._originalRestore=o.restore,o._originalRotate=o.rotate,o._originalScale=o.scale,o._originalTranslate=o.translate,o._originalTransform=o.transform,o._originalSetTransform=o.setTransform,o._transformMatrix=o._transformMatrix||[1,0,0,1,0,0],o._transformStack=[],Object.defineProperty(o,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(o,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],s=e[5],o=t*a-n*r,e=n*r-t*a;return[a/o,n/e,r/e,t/o,(a*i-r*s)/e,(n*i-t*s)/o]}}),o.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},o.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},o.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},o.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},o.transform=function(e,t,n,r,a,i){var s=this._transformMatrix;this._transformMatrix=[s[0]*e+s[2]*t,s[1]*e+s[3]*t,s[0]*n+s[2]*r,s[1]*n+s[3]*r,s[0]*a+s[2]*i+s[4],s[1]*a+s[3]*i+s[5]],o._originalTransform(e,t,n,r,a,i)},o.setTransform=function(e,t,n,r,a,i){this._transformMatrix=[e,t,n,r,a,i],o._originalSetTransform(e,t,n,r,a,i)},o.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}var f=(r.prototype={getCanvas:function(e,t,n,r){var a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,n),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,n),this.cache[e]=a),r&&d(a.context),a},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},r);function r(e){this.canvasFactory=e,this.cache=Object.create(null)}var g=(a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},a);function a(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=F.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=F.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=F.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}n=function(){function a(e,t,n,r,a,i){this.ctx=e,this.current=new g,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.webGLContext=a,this.imageLayer=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new f(this.canvasFactory),e&&d(e),this._cachedGetSinglePixelWidth=null}function m(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var n,r,a,i,s=t.height,o=t.width,c=s%16,l=(s-c)/16,u=0==c?l:1+l,h=e.createImageData(o,16),d=0,p=t.data,f=h.data;if(t.kind===F.ImageKind.GRAYSCALE_1BPP)for(var g=p.byteLength,v=new Uint32Array(f.buffer,0,f.byteLength>>2),m=v.length,y=o+7>>3,_=4294967295,b=F.IsLittleEndianCached.value?4278190080:255,A=0;A<u;A++){for(a=A<l?16:c,r=n=0;r<a;r++){for(var k=g-d,C=0,S=y<k?o:8*k-7,x=-8&S,w=0,R=0;C<x;C+=8)R=p[d++],v[n++]=128&R?_:b,v[n++]=64&R?_:b,v[n++]=32&R?_:b,v[n++]=16&R?_:b,v[n++]=8&R?_:b,v[n++]=4&R?_:b,v[n++]=2&R?_:b,v[n++]=1&R?_:b;for(;C<S;C++)0===w&&(R=p[d++],w=128),v[n++]=R&w?_:b,w>>=1}for(;n<m;)v[n++]=0;e.putImageData(h,0,16*A)}else if(t.kind===F.ImageKind.RGBA_32BPP){for(i=16*o*4,A=r=0;A<l;A++)f.set(p.subarray(d,d+i)),d+=i,e.putImageData(h,0,r),r+=16;A<u&&(f.set(p.subarray(d,d+(i=o*c*4))),e.putImageData(h,0,r))}else{if(t.kind!==F.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(i=o*(a=16),A=0;A<u;A++){for(n=0,r=i=l<=A?o*(a=c):i;r--;)f[n++]=p[d++],f[n++]=p[d++],f[n++]=p[d++],f[n++]=255;e.putImageData(h,0,16*A)}}}}function p(e,t){for(var n=t.height,r=t.width,a=n%16,i=(n-a)/16,s=0==a?i:1+i,o=e.createImageData(r,16),c=0,l=t.data,u=o.data,h=0;h<s;h++){for(var d=h<i?16:a,p=3,f=0;f<d;f++)for(var g,v=0,m=0;m<r;m++)v||(g=l[c++],v=128),u[p]=g&v?0:255,p+=4,v>>=1;e.putImageData(o,0,16*h)}}function u(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,a=n.length;r<a;r++){var i=n[r];void 0!==e[i]&&(t[i]=e[i])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function s(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function v(e,t,n){for(var r=e.length,a=3;a<r;a+=4){var i=n?n[e[a]]:e[a];t[a]=t[a]*i*(1/255)|0}}function y(e,t,n){for(var r=e.length,a=3;a<r;a+=4){var i=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=n?t[a]*n[i>>8]>>8:t[a]*i>>16}}function o(e,t,n,r,a,i,s){for(var o=!!i,c=o?i[0]:0,l=o?i[1]:0,u=o?i[2]:0,h="Luminosity"===a?y:v,d=Math.min(r,Math.ceil(1048576/n)),p=0;p<r;p+=d){var f=Math.min(d,r-p),g=e.getImageData(0,p,n,f),f=t.getImageData(0,p,n,f);o&&function(e,t,n,r){for(var a=e.length,i=3;i<a;i+=4){var s,o=e[i];0===o?(e[i-3]=t,e[i-2]=n,e[i-1]=r):o<255&&(e[i-3]=e[i-3]*o+t*(s=255-o)>>8,e[i-2]=e[i-2]*o+n*s>>8,e[i-1]=e[i-1]*o+r*s>>8)}}(g.data,c,l,u),h(g.data,f.data,s),e.putImageData(f,0,p)}}function n(e,t,n,r){var a=t.canvas,i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var s=t.backdrop||null;if(!t.transferMap&&r.isEnabled){r=r.composeSMask({layer:n.canvas,mask:a,properties:{subtype:t.subtype,backdrop:s}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(r,t.offsetX,t.offsetY)}o(i,n,a.width,a.height,t.subtype,s,t.transferMap),e.drawImage(a,0,0)}var e,t=["butt","round","square"],r=["miter","round","bevel"],i={},c={};for(e in a.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,r=e.transparency,a=void 0!==r&&r,i=e.background,r=void 0===i?null:i,e=this.ctx.canvas.width,i=this.ctx.canvas.height;this.ctx.save(),this.ctx.fillStyle=r||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,e,i),this.ctx.restore(),a&&(i=this.cachedCanvases.getCanvas("transparent",e,i,!0),this.compositeCtx=this.ctx,this.transparentCanvas=i.canvas,this.ctx=i.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)),this.ctx.save(),s(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,r){var a=e.argsArray,i=e.fnArray,s=t||0,o=a.length;if(o===s)return s;for(var c,l=10<o-s&&"function"==typeof n,u=l?Date.now()+15:0,h=0,d=this.commonObjs,p=this.objs;;){if(void 0!==r&&s===r.nextBreakPoint)return r.breakIt(s,n),s;if((c=i[s])!==F.OPS.dependency)this[c].apply(this,a[s]);else{var f,g=_createForOfIteratorHelper(a[s]);try{for(g.s();!(f=g.n()).done;){var v=f.value,m=v.startsWith("g_")?d:p;if(!m.has(v))return m.get(v,n),s}}catch(e){g.e(e)}finally{g.f()}}if(++s===o)return s;if(l&&10<++h){if(Date.now()>u)return n(),s;h=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=t[e]},setLineJoin:function(e){this.ctx.lineJoin=r[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],a=r[0],i=r[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(0<this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,r="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(r,t,n,!0),t=this.ctx,n=t.mozCurrentTransform;this.ctx.save();r=r.context;r.scale(1/e.scaleX,1/e.scaleY),r.translate(-e.offsetX,-e.offsetY),r.transform.apply(r,n),e.startTransformInverse=r.mozCurrentTransformInverse,u(t,r),this.ctx=r,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),n(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),u(e,this.ctx),this.current.resumeSMaskCtx=e;var t=F.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),n(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),u(e,this.ctx);e=F.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,n,r,a,i){this.ctx.transform(e,t,n,r,a,i),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,r=this.current,a=r.x,i=r.y,s=0,o=0,c=e.length;s<c;s++)switch(0|e[s]){case F.OPS.rectangle:var a=t[o++],i=t[o++],l=t[o++],u=t[o++],l=a+(l=0===l?this.getSinglePixelWidth():l),u=i+(u=0===u?this.getSinglePixelWidth():u);this.ctx.moveTo(a,i),this.ctx.lineTo(l,i),this.ctx.lineTo(l,u),this.ctx.lineTo(a,u),this.ctx.lineTo(a,i),this.ctx.closePath();break;case F.OPS.moveTo:a=t[o++],i=t[o++],n.moveTo(a,i);break;case F.OPS.lineTo:a=t[o++],i=t[o++],n.lineTo(a,i);break;case F.OPS.curveTo:a=t[o+4],i=t[o+5],n.bezierCurveTo(t[o],t[o+1],t[o+2],t[o+3],a,i),o+=6;break;case F.OPS.curveTo2:n.bezierCurveTo(a,i,t[o],t[o+1],t[o+2],t[o+3]),a=t[o+2],i=t[o+3],o+=4;break;case F.OPS.curveTo3:a=t[o+2],i=t[o+3],n.bezierCurveTo(t[o],t[o+1],a,i,a,i),o+=4;break;case F.OPS.closePath:n.closePath()}r.setCurrentPoint(a,i)},closePath:function(){this.ctx.closePath()},stroke:function(e){e=void 0===e||e;var t,n=this.ctx,r=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,r&&r.hasOwnProperty("type")&&"Pattern"===r.type?(n.save(),t=n.mozCurrentTransform,t=F.Util.singularValueDecompose2dScale(t)[0],n.strokeStyle=r.getPattern(n,this),n.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth*t),n.stroke(),n.restore()):(n.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),n.stroke()),e&&this.consumePath(),n.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),r=!0),this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill(),r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=i},eoClip:function(){this.pendingClip=c},beginText:function(){this.current.textMatrix=F.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n,r=this.commonObjs.get(e),a=this.current;if(!r)throw new Error("Can't find font for ".concat(e));a.fontMatrix=r.fontMatrix||F.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,F.warn)("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font||(n=r.loadedName||"sans-serif",e="normal",r.black?e="900":r.bold&&(e="bold"),a=r.italic?"italic":"normal",n='"'.concat(n,'", ').concat(r.fallbackName),(r=t)<16?r=16:100<t&&(r=100),this.current.fontSizeScale=t/r,this.ctx.font="".concat(a," ").concat(e," ").concat(r,"px ").concat(n))},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,a,i){this.current.textMatrix=[e,t,n,r,a,i],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n,r){var a,i=this.ctx,s=this.current,o=s.font,c=s.textRenderingMode,l=s.fontSize/s.fontSizeScale,u=c&F.TextRenderingMode.FILL_STROKE_MASK,c=!!(c&F.TextRenderingMode.ADD_TO_PATH_FLAG),s=s.patternFill&&o.data;(o.disableFontFace||c||s)&&(a=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||s?(i.save(),i.translate(t,n),i.beginPath(),a(i,l),r&&i.setTransform.apply(i,r),u!==F.TextRenderingMode.FILL&&u!==F.TextRenderingMode.FILL_STROKE||i.fill(),u!==F.TextRenderingMode.STROKE&&u!==F.TextRenderingMode.FILL_STROKE||i.stroke(),i.restore()):(u!==F.TextRenderingMode.FILL&&u!==F.TextRenderingMode.FILL_STROKE||i.fillText(e,t,n),u!==F.TextRenderingMode.STROKE&&u!==F.TextRenderingMode.FILL_STROKE||i.strokeText(e,t,n)),c&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:i.mozCurrentTransform,x:t,y:n,fontSize:l,addToPath:a})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,r=3;r<t.length;r+=4)if(0<t[r]&&t[r]<255){n=!0;break}return(0,F.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var r=t.fontSize;if(0!==r){var a,i=this.ctx,s=t.fontSizeScale,o=t.charSpacing,c=t.wordSpacing,l=t.fontDirection,u=t.textHScale*l,h=e.length,d=n.vertical,p=d?1:-1,f=n.defaultVMetrics,g=r*t.fontMatrix[0],v=t.textRenderingMode===F.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;i.save(),t.patternFill&&(i.save(),m=t.fillColor.getPattern(i,this),a=i.mozCurrentTransform,i.restore(),i.fillStyle=m),i.transform.apply(i,t.textMatrix),i.translate(t.x,t.y+t.textRise),0<l?i.scale(u,-1):i.scale(u,1);var m,y=t.lineWidth,_=t.textMatrixScale;0===_||0===y?(m=t.textRenderingMode&F.TextRenderingMode.FILL_STROKE_MASK)!==F.TextRenderingMode.STROKE&&m!==F.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,y=.65*this.getSinglePixelWidth()):y/=_,1!==s&&(i.scale(s,s),y/=s),i.lineWidth=y;for(var b=0,A=0;A<h;++A){var k,C,S,x,w,R,P,E,T,L=e[A];(0,F.isNum)(L)?b+=p*L*r/1e3:(T=!1,k=(L.isSpace?c:0)+o,S=L.fontChar,C=L.accent,x=L.width,R=d?(R=L.vmetric||f,P=L.vmetric?R[1]:.5*x,E=R[2]*g,x=R?-R[0]:x,w=(P=-P*g)/s,(b+E)/s):(w=b/s,0),n.remeasure&&0<x&&(x<(P=1e3*i.measureText(S).width/r*s)&&this.isFontSubpixelAAEnabled?(E=x/P,T=!0,i.save(),i.scale(E,1),w/=E):x!==P&&(w+=(x-P)/2e3*r/s)),(L.isInFont||n.missingFile)&&(v&&!C?i.fillText(S,w,R):(this.paintChar(S,w,R,a),C&&(S=w+C.offset.x/s,R=R-C.offset.y/s,this.paintChar(C.fontChar,S,R,a)))),b+=d?x*g-k*l:x*g+k*l,T&&i.restore())}d?t.y-=b:t.x+=b*u,i.restore()}},showType3Text:function(e){var t,n=this.ctx,r=this.current,a=r.font,i=r.fontSize,s=r.fontDirection,o=a.vertical?1:-1,c=r.charSpacing,l=r.wordSpacing,u=r.textHScale*s,h=r.fontMatrix||F.FONT_IDENTITY_MATRIX,d=e.length;if(!(r.textRenderingMode===F.TextRenderingMode.INVISIBLE)&&0!==i){for(this._cachedGetSinglePixelWidth=null,n.save(),n.transform.apply(n,r.textMatrix),n.translate(r.x,r.y),n.scale(u,s),t=0;t<d;++t){var p,f,g=e[t];(0,F.isNum)(g)?(this.ctx.translate(p=o*g*i/1e3,0),r.x+=p*u):(f=(g.isSpace?l:0)+c,(p=a.charProcOperatorList[g.operatorListId])?(this.processingType3=g,this.save(),n.scale(i,i),n.transform.apply(n,h),this.executeOperatorList(p),this.restore(),f=F.Util.applyTransform([g.width,0],h)[0]*i+f,n.translate(f,0),r.x+=f*u):(0,F.warn)('Type3 character "'.concat(g.operatorListId,'" is not available.')))}n.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,r,a,i){this.ctx.rect(n,r,a-n,i-r),this.clip(),this.endPath()},getColorN_Pattern:function(e){var t,n,r=this;return"TilingPattern"===e[0]?(t=e[1],n=this.baseTransform||this.ctx.mozCurrentTransform.slice(),new l.TilingPattern(e,t,this.ctx,{createCanvasGraphics:function(e){return new a(e,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}},n)):(0,l.getShadingPatternFromIR)(e)},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){n=F.Util.makeCssRgb(e,t,n);this.ctx.strokeStyle=n,this.current.strokeColor=n},setFillRGBColor:function(e,t,n){n=F.Util.makeCssRgb(e,t,n);this.ctx.fillStyle=n,this.current.fillColor=n,this.current.patternFill=!1},shadingFill:function(e){var t=this.ctx;this.save();var n=(0,l.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var r,a,i,s=t.mozCurrentTransformInverse;s?(r=(i=t.canvas).width,a=i.height,e=F.Util.applyTransform([0,0],s),n=F.Util.applyTransform([0,a],s),t=F.Util.applyTransform([r,0],s),i=F.Util.applyTransform([r,a],s),r=Math.min(e[0],n[0],t[0],i[0]),a=Math.min(e[1],n[1],t[1],i[1]),s=Math.max(e[0],n[0],t[0],i[0]),i=Math.max(e[1],n[1],t[1],i[1]),this.ctx.fillRect(r,a,s-r,i-a)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.restore()},beginInlineImage:function(){(0,F.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,F.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){var n;this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t&&(n=t[2]-t[0],e=t[3]-t[1],this.ctx.rect(t[0],t[1],n,e),this.clip(),this.endPath())},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(e){this.save();var t=this.ctx;e.isolated||(0,F.info)("TODO: Support non-isolated groups."),e.knockout&&(0,F.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var r=F.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),a=[0,0,t.canvas.width,t.canvas.height],r=F.Util.intersect(r,a)||[0,0,0,0],i=Math.floor(r[0]),s=Math.floor(r[1]),o=Math.max(Math.ceil(r[2])-i,1),c=Math.max(Math.ceil(r[3])-s,1),l=1,a=1;h<o&&(l=o/h,o=h),h<c&&(a=c/h,c=h);r="groupAt"+this.groupLevel;e.smask&&(r+="_smask_"+this.smaskCounter++%2);o=this.cachedCanvases.getCanvas(r,o,c,!0),c=o.context;c.scale(1/l,1/a),c.translate(-i,-s),c.transform.apply(c,n),e.smask?this.smaskStack.push({canvas:o.canvas,context:c,offsetX:i,offsetY:s,scaleX:l,scaleY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(i,s),t.scale(l,a)),u(t,c),this.ctx=c,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null},endGroup:function(e){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){var r,a;this.save(),s(this.ctx),this.current=new g,Array.isArray(e)&&4===e.length&&(r=e[2]-e[0],a=e[3]-e[1],this.ctx.rect(e[0],e[1],r,a),this.clip(),this.endPath()),this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintJpegXObject:function(e,t,n){var r,a=(this.processingType3?this.commonObjs:this.objs).get(e);a?(this.save(),(r=this.ctx).scale(1/t,-1/n),r.drawImage(a,0,0,a.width,a.height,0,-n,t,n),this.imageLayer&&(a=r.mozCurrentTransformInverse,r=this.getCanvasPosition(0,0),this.imageLayer.appendImage({objId:e,left:r[0],top:r[1],width:t/a[0],height:n/a[3]})),this.restore()):(0,F.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(e){var t=this.ctx,n=e.width,r=e.height,a=this.current.fillColor,i=this.current.patternFill,s=this.processingType3;s&&void 0===s.compiled&&(s.compiled=n<=1e3&&r<=1e3?function(e){for(var t,s=e.width,o=e.height,n=s+1,r=new Uint8Array(n*(o+1)),a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=s+7&-8,c=e.data,l=new Uint8Array(i*o),u=0,h=0,d=c.length;h<d;h++)for(var p=128,f=c[h];0<p;)l[u++]=f&p?0:255,p>>=1;var g=0;for(0!==l[u=0]&&(r[0]=1,++g),m=1;m<s;m++)l[u]!==l[u+1]&&(r[m]=l[u]?2:1,++g),u++;for(0!==l[u]&&(r[m]=2,++g),h=1;h<o;h++){t=h*n,l[(u=h*i)-i]!==l[u]&&(r[t]=l[u]?1:8,++g);for(var v=(l[u]?4:0)+(l[u-i]?8:0),m=1;m<s;m++)a[v=(v>>2)+(l[u+1]?4:0)+(l[u-i+1]?8:0)]&&(r[t+m]=a[v],++g),u++;if(l[u-i]!==l[u]&&(r[t+m]=l[u]?2:4,++g),1e3<g)return null}for(t=h*n,0!==l[u=i*(o-1)]&&(r[t]=8,++g),m=1;m<s;m++)l[u]!==l[u+1]&&(r[t+m]=l[u]?4:8,++g),u++;if(0!==l[u]&&(r[t+m]=4,++g),1e3<g)return null;var y=new Int32Array([0,n,-1,0,-n,0,0,0,1]),_=[];for(h=0;g&&h<=o;h++){for(var b=h*n,A=b+s;b<A&&!r[b];)b++;if(b!==A){var k,C=[b%n,h],S=r[b],x=b;do{for(var w=y[S];!r[b+=w];);}while(5!==(k=r[b])&&10!==k?(S=k,r[b]=0):r[b]&=(S=k&51*S>>4)>>2|S<<2,C.push(b%n),C.push(b/n|0),r[b]||--g,x!==b);_.push(C),--h}}return function(e){e.save(),e.scale(1/s,-1/o),e.translate(0,-o),e.beginPath();for(var t=0,n=_.length;t<n;t++){var r=_[t];e.moveTo(r[0],r[1]);for(var a=2,i=r.length;a<i;a+=2)e.lineTo(r[a],r[a+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:n,height:r}):null),s&&s.compiled?s.compiled(t):((t=(s=this.cachedCanvases.getCanvas("maskCanvas",n,r)).context).save(),p(t,e),t.globalCompositeOperation="source-in",t.fillStyle=i?a.getPattern(t,this):a,t.fillRect(0,0,n,r),t.restore(),this.paintInlineImageXObject(s.canvas))},paintImageMaskXObjectRepeat:function(e,t,n,r){var a=e.width,i=e.height,s=this.current.fillColor,o=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",a,i),l=c.context;l.save(),p(l,e),l.globalCompositeOperation="source-in",l.fillStyle=o?s.getPattern(l,this):s,l.fillRect(0,0,a,i),l.restore();for(var u=this.ctx,h=0,d=r.length;h<d;h+=2)u.save(),u.transform(t,0,0,n,r[h],r[h+1]),u.scale(1,-1),u.drawImage(c.canvas,0,0,a,i,0,-1,1,1),u.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,n=this.current.fillColor,r=this.current.patternFill,a=0,i=e.length;a<i;a++){var s=e[a],o=s.width,c=s.height,l=this.cachedCanvases.getCanvas("maskCanvas",o,c),u=l.context;u.save(),p(u,s),u.globalCompositeOperation="source-in",u.fillStyle=r?n.getPattern(u,this):n,u.fillRect(0,0,o,c),u.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(l.canvas,0,0,o,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){e=(this.processingType3?this.commonObjs:this.objs).get(e);e?this.paintInlineImageXObject(e):(0,F.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,n,r){e=(this.processingType3?this.commonObjs:this.objs).get(e);if(e){for(var a=e.width,i=e.height,s=[],o=0,c=r.length;o<c;o+=2)s.push({transform:[t,0,0,n,r[o],r[o+1]],x:0,y:0,w:a,h:i});this.paintInlineImageXObjectGroup(e,s)}else(0,F.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var t=e.width,n=e.height,r=this.ctx;this.save(),r.scale(1/t,-1/n);for(var a,i,s=r.mozCurrentTransformInverse,o=s[0],c=s[1],l=Math.max(Math.sqrt(o*o+c*c),1),o=s[2],c=s[3],u=Math.max(Math.sqrt(o*o+c*c),1),h="function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data?e:(m(i=(a=this.cachedCanvases.getCanvas("inlineImage",t,n)).context,e),a.canvas),d=t,p=n,f="prescale1";2<l&&1<d||2<u&&1<p;){var g=d,v=p;2<l&&1<d&&(l/=d/(g=Math.ceil(d/2))),2<u&&1<p&&(u/=p/(v=Math.ceil(p/2))),(i=(a=this.cachedCanvases.getCanvas(f,g,v)).context).clearRect(0,0,g,v),i.drawImage(h,0,0,d,p,0,0,g,v),h=a.canvas,d=g,p=v,f="prescale1"===f?"prescale2":"prescale1"}r.drawImage(h,0,0,d,p,0,-n,t,n),this.imageLayer&&(r=this.getCanvasPosition(0,-n),this.imageLayer.appendImage({imgData:e,left:r[0],top:r[1],width:t/s[0],height:n/s[3]})),this.restore()},paintInlineImageXObjectGroup:function(e,t){var n=this.ctx,r=e.width,a=e.height,i=this.cachedCanvases.getCanvas("inlineImage",r,a);m(i.context,e);for(var s=0,o=t.length;s<o;s++){var c=t[s];n.save(),n.transform.apply(n,c.transform),n.scale(1,-1),n.drawImage(i.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer&&(c=this.getCanvasPosition(c.x,c.y),this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:r,height:a})),n.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,F.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===c?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){var t;return null===this._cachedGetSinglePixelWidth&&(t=this.ctx.mozCurrentTransformInverse,this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))),this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},F.OPS)a.prototype[F.OPS[e]]=a.prototype[e];return a}();t.CanvasGraphics=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=r[e[0]];if(t)return t.fromIR(e);throw new Error("Unknown IR type: ".concat(e[0]))},t.TilingPattern=void 0;var f=n(1),r={};function d(e,t){var n,r,a;t&&"undefined"!=typeof Path2D&&(n=t[2]-t[0],r=t[3]-t[1],(a=new Path2D).rect(t[0],t[1],n,r),e.clip(a))}r.RadialAxial={fromIR:function(e){var i=e[1],s=e[2],o=e[3],c=e[4],l=e[5],u=e[6],h=e[7];return{type:"Pattern",getPattern:function(e){var t;d(e,s),"axial"===i?t=e.createLinearGradient(c[0],c[1],l[0],l[1]):"radial"===i&&(t=e.createRadialGradient(c[0],c[1],u,l[0],l[1],h));for(var n=0,r=o.length;n<r;++n){var a=o[n];t.addColorStop(a[0],a[1])}return t}}}};var p=function(e,t,n,r,a,i,s,o){var c,l=Math.floor(e[0]),u=Math.floor(e[1]),h=Math.ceil(e[2])-l,d=Math.ceil(e[3])-u,e=Math.min(Math.ceil(Math.abs(h*t[0]*1.1)),3e3),t=Math.min(Math.ceil(Math.abs(d*t[1]*1.1)),3e3),p={coords:n,colors:r,offsetX:-l,offsetY:-u,scaleX:1/(h=h/e),scaleY:1/(d=d/t)},n=e+4,r=t+4;if(o.isEnabled)c=o.drawFigures({width:e,height:t,backgroundColor:i,figures:a,context:p}),(f=s.getCanvas("mesh",n,r,!1)).context.drawImage(c,2,2),c=f.canvas;else{var f,r=(f=s.getCanvas("mesh",n,r,!1)).context,g=r.createImageData(e,t);if(i)for(var v=g.data,m=0,y=v.length;m<y;m+=4)v[m]=i[0],v[m+1]=i[1],v[m+2]=i[2],v[m+3]=255;for(m=0;m<a.length;m++)!function(e,t,n){var r,a=t.coords,i=t.colors;switch(t.type){case"lattice":for(var s=t.verticesPerRow,o=Math.floor(a.length/s)-1,c=s-1,l=0;l<o;l++)for(var u=l*s,h=0;h<c;h++,u++)_(e,n,a[u],a[u+1],a[u+s],i[u],i[u+1],i[u+s]),_(e,n,a[u+s+1],a[u+1],a[u+s],i[u+s+1],i[u+1],i[u+s]);break;case"triangles":for(l=0,r=a.length;l<r;l+=3)_(e,n,a[l],a[l+1],a[l+2],i[l],i[l+1],i[l+2]);break;default:throw new Error("illegal figure")}}(g,a[m],p);r.putImageData(g,2,2),c=f.canvas}return{canvas:c,offsetX:l-2*h,offsetY:u-2*d,scaleX:h,scaleY:d}};function _(e,t,n,r,a,i,s,o){var c,l=t.coords,u=t.colors,h=e.data,d=4*e.width;l[n+1]>l[r+1]&&(c=n,n=r,r=c,c=i,i=s,s=c),l[r+1]>l[a+1]&&(c=r,r=a,a=c,c=s,s=o,o=c),l[n+1]>l[r+1]&&(c=n,n=r,r=c,c=i,i=s,s=c);var p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,v=(l[r+1]+t.offsetY)*t.scaleY,m=(l[a]+t.offsetX)*t.scaleX,y=(l[a+1]+t.offsetY)*t.scaleY;if(!(y<=f))for(var _,b,A,k,C,S=u[i],x=u[i+1],w=u[i+2],R=u[s],P=u[s+1],E=u[s+2],T=u[o],L=u[o+1],F=u[o+2],o=Math.round(f),I=Math.round(y),D=o;D<=I;D++){C=D<v?(_=void 0,b=p-(p-g)*(_=D<f?0:f==v?1:(f-D)/(f-v)),A=S-(S-R)*_,k=x-(x-P)*_,w-(w-E)*_):(O=void 0,b=g-(g-m)*(O=y<D?1:v==y?0:(v-D)/(v-y)),A=R-(R-T)*O,k=P-(P-L)*O,E-(E-F)*O);for(var O=void 0,N=p-(p-m)*(O=D<f?0:y<D?1:(f-D)/(f-y)),M=S-(S-T)*O,U=x-(x-L)*O,j=w-(w-F)*O,O=Math.round(Math.min(b,N)),W=Math.round(Math.max(b,N)),q=d*D+4*O,B=O;B<=W;B++){var G=(b-B)/(b-N);G<0?G=0:1<G&&(G=1),h[q++]=A-(A-M)*G|0,h[q++]=k-(k-U)*G|0,h[q++]=C-(C-j)*G|0,h[q++]=255}}}r.Mesh={fromIR:function(e){var i=e[2],s=e[3],o=e[4],c=e[5],l=e[6],u=e[7],h=e[8];return{type:"Pattern",getPattern:function(e,t,n){var r;d(e,u),n?a=f.Util.singularValueDecompose2dScale(e.mozCurrentTransform):(a=f.Util.singularValueDecompose2dScale(t.baseTransform),l&&(r=f.Util.singularValueDecompose2dScale(l),a=[a[0]*r[0],a[1]*r[1]]));var a=p(c,a,i,s,o,n?null:h,t.cachedCanvases,t.webGLContext);return n||(e.setTransform.apply(e,t.baseTransform),l&&e.transform.apply(e,l)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}}},r.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};n=function(){var s=1,o=2;function e(e,t,n,r,a){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=a,this.type="Pattern",this.ctx=n}return e.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,r=this.xstep,a=this.ystep,i=this.paintType,s=this.tilingType,o=this.color,c=this.canvasGraphicsFactory;(0,f.info)("TilingType: "+s);var l=n[0],u=n[1],h=n[2],d=n[3],p=f.Util.singularValueDecompose2dScale(this.matrix),s=f.Util.singularValueDecompose2dScale(this.baseTransform),p=[p[0]*s[0],p[1]*s[1]],s=this.getSizeAndScale(r,this.ctx.canvas.width,p[0]),r=this.getSizeAndScale(a,this.ctx.canvas.height,p[1]),a=e.cachedCanvases.getCanvas("pattern",s.size,r.size,!0),p=a.context,p=c.createCanvasGraphics(p);return p.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(p,i,o),p.transform(s.scale,0,0,r.scale,0,0),p.transform(1,0,0,1,-l,-u),this.clipBbox(p,n,l,u,h,d),p.executeOperatorList(t),this.ctx.transform(1,0,0,1,l,u),this.ctx.scale(1/s.scale,1/r.scale),a.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);var r=Math.max(3e3,t),t=Math.ceil(e*n);return r<=t?t=r:n=t/e,{scale:n,size:t}},clipBbox:function(e,t,n,r,a,i){Array.isArray(t)&&4===t.length&&(e.ctx.rect(n,r,a-n,i-r),e.clip(),e.endPath())},setFillAndStrokeStyleToContext:function(e,t,n){var r=e.ctx,a=e.current;switch(t){case s:var i=this.ctx;r.fillStyle=i.fillStyle,r.strokeStyle=i.strokeStyle,a.fillColor=i.fillStyle,a.strokeColor=i.strokeStyle;break;case o:i=f.Util.makeCssRgb(n[0],n[1],n[2]);r.fillStyle=i,r.strokeStyle=i,a.fillColor=i,a.strokeColor=i;break;default:throw new f.FormatError("Unsupported paint type: ".concat(t))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);t=this.createPatternCanvas(t);return e.createPattern(t,"repeat")}},e}();t.TilingPattern=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);(t.GlobalWorkerOptions=r).workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var u=n(1),c={UNKNOWN:0,DATA:1,ERROR:2},h=1,l=2,d=3,p=4,f=5,g=6,v=7,m=8;function y(e){if("object"!==_typeof(e)||null===e)return e;switch(e.name){case"AbortException":return new u.AbortException(e.message);case"MissingPDFException":return new u.MissingPDFException(e.message);case"UnexpectedResponseException":return new u.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new u.UnknownErrorException(e.message,e.details);default:return new u.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=function(){function n(e,t,s){var o=this;_classCallCheck(this,n),this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===o.sourceName)if(t.stream)o._processStreamMessage(t);else if(t.callback){var n=t.callbackId,e=o.callbackCapabilities[n];if(!e)throw new Error("Cannot resolve callback ".concat(n));if(delete o.callbackCapabilities[n],t.callback===c.DATA)e.resolve(t.data);else{if(t.callback!==c.ERROR)throw new Error("Unexpected callback case");e.reject(y(t.reason))}}else{var r,a,i=o.actionHandler[t.action];if(!i)throw new Error("Unknown action from worker: ".concat(t.action));t.callbackId?(r=o.sourceName,a=t.sourceName,new Promise(function(e){e(i(t.data))}).then(function(e){s.postMessage({sourceName:r,targetName:a,callback:c.DATA,callbackId:t.callbackId,data:e})},function(e){s.postMessage({sourceName:r,targetName:a,callback:c.ERROR,callbackId:t.callbackId,reason:y(e)})})):t.streamId?o._createStreamSink(t):i(t.data)}},s.addEventListener("message",this._onComObjOnMessage)}var t;return _createClass(n,[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var r=this.callbackId++,a=(0,u.createPromiseCapability)();this.callbackCapabilities[r]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(e){a.reject(e)}return a.promise}},{key:"sendWithStream",value:function(n,r,e,a){var i=this,s=this.streamId++,o=this.sourceName,c=this.targetName,l=this.comObj;return new ReadableStream({start:function(e){var t=(0,u.createPromiseCapability)();return i.streamControllers[s]={controller:e,startCall:t,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:o,targetName:c,action:n,streamId:s,data:r,desiredSize:e.desiredSize},a),t.promise},pull:function(e){var t=(0,u.createPromiseCapability)();return i.streamControllers[s].pullCall=t,l.postMessage({sourceName:o,targetName:c,stream:g,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,u.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,u.createPromiseCapability)();return i.streamControllers[s].cancelCall=t,i.streamControllers[s].isClosed=!0,l.postMessage({sourceName:o,targetName:c,stream:h,streamId:s,reason:y(e)}),t.promise}},e)}},{key:"_createStreamSink",value:function(t){var a=this,n=this.actionHandler[t.action],i=t.streamId,s=this.sourceName,o=t.sourceName,r=this.comObj,c={enqueue:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length?arguments[2]:void 0;this.isCancelled||(t=this.desiredSize,this.desiredSize-=n,0<t&&this.desiredSize<=0&&(this.sinkCapability=(0,u.createPromiseCapability)(),this.ready=this.sinkCapability.promise),a._postMessage({sourceName:s,targetName:o,stream:p,streamId:i,chunk:e},r))},close:function(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:o,stream:d,streamId:i}),delete a.streamSinks[i])},error:function(e){(0,u.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:o,stream:f,streamId:i,reason:y(e)}))},sinkCapability:(0,u.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[i]=c,new Promise(function(e){e(n(t.data,c))}).then(function(){r.postMessage({sourceName:s,targetName:o,stream:m,streamId:i,success:!0})},function(e){r.postMessage({sourceName:s,targetName:o,stream:m,streamId:i,reason:y(e)})})}},{key:"_processStreamMessage",value:function(t){var n=t.streamId,r=this.sourceName,a=t.sourceName,i=this.comObj;switch(t.stream){case m:t.success?this.streamControllers[n].startCall.resolve():this.streamControllers[n].startCall.reject(y(t.reason));break;case v:t.success?this.streamControllers[n].pullCall.resolve():this.streamControllers[n].pullCall.reject(y(t.reason));break;case g:if(!this.streamSinks[n]){i.postMessage({sourceName:r,targetName:a,stream:v,streamId:n,success:!0});break}this.streamSinks[n].desiredSize<=0&&0<t.desiredSize&&this.streamSinks[n].sinkCapability.resolve(),this.streamSinks[n].desiredSize=t.desiredSize;var s=this.streamSinks[t.streamId].onPull;new Promise(function(e){e(s&&s())}).then(function(){i.postMessage({sourceName:r,targetName:a,stream:v,streamId:n,success:!0})},function(e){i.postMessage({sourceName:r,targetName:a,stream:v,streamId:n,reason:y(e)})});break;case p:if((0,u.assert)(this.streamControllers[n],"enqueue should have stream controller"),this.streamControllers[n].isClosed)break;this.streamControllers[n].controller.enqueue(t.chunk);break;case d:if((0,u.assert)(this.streamControllers[n],"close should have stream controller"),this.streamControllers[n].isClosed)break;this.streamControllers[n].isClosed=!0,this.streamControllers[n].controller.close(),this._deleteStreamController(n);break;case f:(0,u.assert)(this.streamControllers[n],"error should have stream controller"),this.streamControllers[n].controller.error(y(t.reason)),this._deleteStreamController(n);break;case l:t.success?this.streamControllers[n].cancelCall.resolve():this.streamControllers[n].cancelCall.reject(y(t.reason)),this._deleteStreamController(n);break;case h:if(!this.streamSinks[n])break;var o=this.streamSinks[t.streamId].onCancel;new Promise(function(e){e(o&&o(y(t.reason)))}).then(function(){i.postMessage({sourceName:r,targetName:a,stream:l,streamId:n,success:!0})},function(e){i.postMessage({sourceName:r,targetName:a,stream:l,streamId:n,reason:y(e)})}),this.streamSinks[n].sinkCapability.reject(y(t.reason)),this.streamSinks[n].isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(t=_asyncToGenerator(_regeneratorRuntime.mark(function e(t){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map(function(e){return e&&e.promise}));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),n}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(1),a=n(13);t.Metadata=function(){function t(e){_classCallCheck(this,t),(0,r.assert)("string"==typeof e,"Metadata: input is not a string"),e=this._repair(e);e=(new a.SimpleXMLParser).parseFromString(e);this._metadataMap=new Map,e&&this._parse(e)}return _createClass(t,[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,function(e,t,n,r){return String.fromCharCode(64*t+8*n+ +r)}).replace(/&(amp|apos|gt|lt|quot);/g,function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))}),r="",a=0,i=n.length;a<i;a+=2){var s=256*n.charCodeAt(a)+n.charCodeAt(a+1);r+=32<=s&&s<127&&60!==s&&62!==s&&38!==s?String.fromCharCode(s):"&#x"+(65536+s).toString(16).substring(1)+";"}return">"+r})}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;e=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===e&&t.hasChildNodes())for(var n=t.childNodes,r=0,a=n.length;r<a;r++){var i=n[r];if("rdf:description"===i.nodeName.toLowerCase())for(var s,o,c=0,l=i.childNodes.length;c<l;c++)"#text"!==i.childNodes[c].nodeName.toLowerCase()&&(o=(s=i.childNodes[c]).nodeName.toLowerCase(),this._metadataMap.set(o,s.textContent.trim()))}}},{key:"get",value:function(e){return this._metadataMap.has(e)?this._metadataMap.get(e):null}},{key:"getAll",value:function(){var e,t=Object.create(null),n=_createForOfIteratorHelper(this._metadataMap);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2),a=r[0],i=r[1];t[a]=i}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"has",value:function(e){return this._metadataMap.has(e)}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;var c={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function l(e,t){t=e[t];return" "===t||"\n"===t||"\r"===t||"\t"===t}var r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_resolveEntities",value:function(e){var n=this;return e.replace(/&([^;]+);/g,function(e,t){if("#x"===t.substring(0,2))return String.fromCharCode(parseInt(t.substring(2),16));if("#"===t.substring(0,1))return String.fromCharCode(parseInt(t.substring(1),10));switch(t){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return n.onResolveEntity(t)})}},{key:"_parseContent",value:function(e,t){var n=[],r=t;function a(){for(;r<e.length&&l(e,r);)++r}for(;r<e.length&&!l(e,r)&&">"!==e[r]&&"/"!==e[r];)++r;var i=e.substring(t,r);for(a();r<e.length&&">"!==e[r]&&"/"!==e[r]&&"?"!==e[r];){a();for(var s,o="";r<e.length&&!l(e,r)&&"="!==e[r];)o+=e[r],++r;if(a(),"="!==e[r])return null;++r,a();var c=e[r];if('"'!==c&&"'"!==c)return null;c=e.indexOf(c,++r);if(c<0)return null;s=e.substring(r,c),n.push({name:o,value:this._resolveEntities(s)}),r=c+1,a()}return{name:i,attributes:n,parsed:r-t}}},{key:"_parseProcessingInstruction",value:function(e,t){var n=t;for(;n<e.length&&!l(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;var r=e.substring(t,n);!function(){for(;n<e.length&&l(e,n);)++n}();for(var a=n;n<e.length&&("?"!==e[n]||">"!==e[n+1]);)++n;return{name:r,value:e.substring(a,n),parsed:n-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var n=t;if("<"===e[t]){var r=void 0;switch(e[++n]){case"/":if(++n,(r=e.indexOf(">",n))<0)return void this.onError(c.UnterminatedElement);this.onEndElement(e.substring(n,r)),n=r+1;break;case"?":++n;var a=this._parseProcessingInstruction(e,n);if("?>"!==e.substring(n+a.parsed,n+a.parsed+2))return void this.onError(c.UnterminatedXmlDeclaration);this.onPi(a.name,a.value),n+=a.parsed+2;break;case"!":if("--"===e.substring(n+1,n+3)){if((r=e.indexOf("--\x3e",n+3))<0)return void this.onError(c.UnterminatedComment);this.onComment(e.substring(n+3,r)),n=r+3}else if("[CDATA["===e.substring(n+1,n+8)){if((r=e.indexOf("]]>",n+8))<0)return void this.onError(c.UnterminatedCdat);this.onCdata(e.substring(n+8,r)),n=r+3}else{if("DOCTYPE"!==e.substring(n+1,n+8))return void this.onError(c.MalformedElement);var i=e.indexOf("[",n+8),s=!1;if((r=e.indexOf(">",n+8))<0)return void this.onError(c.UnterminatedDoctypeDeclaration);if(0<i&&i<r){if((r=e.indexOf("]>",n+8))<0)return void this.onError(c.UnterminatedDoctypeDeclaration);s=!0}i=e.substring(n+8,r+(s?1:0));this.onDoctype(i),n=r+(s?2:1)}break;default:i=this._parseContent(e,n);if(null===i)return void this.onError(c.MalformedElement);s=!1;if("/>"===e.substring(n+i.parsed,n+i.parsed+2))s=!0;else if(">"!==e.substring(n+i.parsed,n+i.parsed+1))return void this.onError(c.UnterminatedElement);this.onBeginElement(i.name,i.attributes,s),n+=i.parsed+(s?2:1)}}else{for(;n<e.length&&"<"!==e[n];)n++;var o=e.substring(t,n);this.onText(this._resolveEntities(o))}t=n}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,n){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),a=function(){function n(e,t){_classCallCheck(this,n),this.nodeName=e,this.nodeValue=t,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(n,[{key:"hasChildNodes",value:function(){return this.childNodes&&0<this.childNodes.length}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(e){return e.textContent}).join(""):this.nodeValue||""}}]),n}();t.SimpleXMLParser=function(){_inherits(n,r);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._currentFragment=null,e._stack=null,e._errorCode=c.NoError,e}return _createClass(n,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=c.NoError,this.parseXml(e),this._errorCode===c.NoError){e=_slicedToArray(this._currentFragment,1)[0];if(e)return{documentElement:e}}}},{key:"onResolveEntity",value:function(e){return"apos"===e?"'":_get(_getPrototypeOf(n.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){!function(e){for(var t=0,n=e.length;t<n;t++)if(!l(e,t))return;return 1}(e)&&(e=new a("#text",e),this._currentFragment.push(e))}},{key:"onCdata",value:function(e){e=new a("#text",e);this._currentFragment.push(e)}},{key:"onBeginElement",value:function(e,t,n){e=new a(e);e.childNodes=[],this._currentFragment.push(e),n||(this._stack.push(this._currentFragment),this._currentFragment=e.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var n=0,r=t.childNodes.length;n<r;n++)t.childNodes[n].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),n}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=n(1);t.PDFDataTransportStream=function(){function a(e,t){var n=this;_classCallCheck(this,a),(0,i.assert)(t),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1;var r=e.initialData;r&&0<r.length&&(r=new Uint8Array(r).buffer,this._queuedChunks.push(r)),this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){n._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e,t){n._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){n._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){n._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return _createClass(a,[{key:"_onReceiveData",value:function(t){var e,n=new Uint8Array(t.chunk).buffer;void 0===t.begin?this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n):(e=this._rangeReaders.some(function(e){return e._begin===t.begin&&(e._enqueue(n),!0)}),(0,i.assert)(e))}},{key:"_onProgress",value:function(e){var t;void 0===e.total?(t=this._rangeReaders[0])&&t.onProgress&&t.onProgress({loaded:e.loaded}):(t=this._fullRequestReader)&&t.onProgress&&t.onProgress({loaded:e.loaded,total:e.total})}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){e=this._rangeReaders.indexOf(e);0<=e&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){(0,i.assert)(!this._fullRequestReader);var e=this._queuedChunks;return this._queuedChunks=null,new r(this,e,this._progressiveDone)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new s(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach(function(e){e.cancel(t)}),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),a}();var r=function(){function s(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,s),this._stream=e,this._done=n||!1,this._filename=null,this._queuedChunks=t||[],this._loaded=0;var r,a=_createForOfIteratorHelper(this._queuedChunks);try{for(a.s();!(r=a.n()).done;){var i=r.value;this._loaded+=i.byteLength}}catch(e){a.e(e)}finally{a.f()}this._requests=[],this._headersReady=Promise.resolve(),(e._fullRequestReader=this).onProgress=null}var e;return _createClass(s,[{key:"_enqueue",value:function(e){this._done||(0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<this._queuedChunks.length)return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});e.next=3;break;case 3:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=5;break;case 5:return t=(0,i.createPromiseCapability)(),this._requests.push(t),e.abrupt("return",t.promise);case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),s}(),s=function(){function r(e,t,n){_classCallCheck(this,r),this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var e;return _createClass(r,[{key:"_enqueue",value:function(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._queuedChunk)return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});e.next=4;break;case 4:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=6;break;case 6:return t=(0,i.createPromiseCapability)(),this._requests.push(t),e.abrupt("return",t.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),r}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var r=n(1);t.WebGLContext=function(){function t(e){e=e.enable,e=void 0!==e&&e;_classCallCheck(this,t),this._enabled=!0===e}return _createClass(t,[{key:"composeSMask",value:function(e){var t=e.layer,n=e.mask,e=e.properties;return i.composeSMask(t,n,e)}},{key:"drawFigures",value:function(e){var t=e.width,n=e.height,r=e.backgroundColor,a=e.figures,e=e.context;return i.drawFigures(t,n,r,a,e)}},{key:"clear",value:function(){i.cleanup()}},{key:"isEnabled",get:function(){var e=(e=this._enabled)&&i.tryInitGL();return(0,r.shadow)(this,"isEnabled",e)}}]),t}();var R,P,c,l,u,E,T,L,i=(c="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",l="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",E="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",T="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",L=u=null,{tryInitGL:function(){try{return O(),!!R}catch(e){}return!1},composeSMask:function(e,t,n){var r=e.width,a=e.height;u||function(){var e;O(),i=P,e=R,R=P=null;var t=D(e,[F(e,c),I(e,l)]);e.useProgram(t);var n={};n.gl=e,n.canvas=i,n.resolutionLocation=e.getUniformLocation(t,"u_resolution"),n.positionLocation=e.getAttribLocation(t,"a_position"),n.backdropLocation=e.getUniformLocation(t,"u_backdrop"),n.subtypeLocation=e.getUniformLocation(t,"u_subtype");var r=e.getAttribLocation(t,"a_texCoord"),a=e.getUniformLocation(t,"u_image"),i=e.getUniformLocation(t,"u_mask"),t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.uniform1i(a,0),e.uniform1i(i,1),u=n}();var i=u,s=i.canvas,o=i.gl;return s.width=r,s.height=a,o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.uniform2f(i.resolutionLocation,r,a),n.backdrop?o.uniform4f(i.resolutionLocation,n.backdrop[0],n.backdrop[1],n.backdrop[2],1):o.uniform4f(i.resolutionLocation,0,0,0,0),o.uniform1i(i.subtypeLocation,"Luminosity"===n.subtype?1:0),n=h(o,e,o.TEXTURE0),e=h(o,t,o.TEXTURE1),t=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,t),o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,r,0,0,a,0,a,r,0,r,a]),o.STATIC_DRAW),o.enableVertexAttribArray(i.positionLocation),o.vertexAttribPointer(i.positionLocation,2,o.FLOAT,!1,0,0),o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLES,0,6),o.flush(),o.deleteTexture(n),o.deleteTexture(e),o.deleteBuffer(t),s},drawFigures:function(e,t,n,r,a){L||function(){var e,t;O(),e=P,t=R,R=P=null;var n=D(t,[F(t,E),I(t,T)]);t.useProgram(n);var r={};r.gl=t,r.canvas=e,r.resolutionLocation=t.getUniformLocation(n,"u_resolution"),r.scaleLocation=t.getUniformLocation(n,"u_scale"),r.offsetLocation=t.getUniformLocation(n,"u_offset"),r.positionLocation=t.getAttribLocation(n,"a_position"),r.colorLocation=t.getAttribLocation(n,"a_color"),L=r}();var i=L,s=i.canvas,o=i.gl;s.width=e,s.height=t,o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.uniform2f(i.resolutionLocation,e,t);for(var c=0,l=0,u=r.length;l<u;l++)switch(r[l].type){case"lattice":c+=((A=r[l].coords.length/r[l].verticesPerRow|0)-1)*(r[l].verticesPerRow-1)*6;break;case"triangles":c+=r[l].coords.length}var h=new Float32Array(2*c),d=new Uint8Array(3*c),p=a.coords,f=a.colors,g=0,v=0;for(l=0,u=r.length;l<u;l++){var m=r[l],y=m.coords,_=m.colors;switch(m.type){case"lattice":for(var b=m.verticesPerRow,A=y.length/b|0,k=1;k<A;k++)for(var C=k*b+1,S=1;S<b;S++,C++)h[g]=p[y[C-b-1]],h[g+1]=p[y[C-b-1]+1],h[g+2]=p[y[C-b]],h[g+3]=p[y[C-b]+1],h[g+4]=p[y[C-1]],h[g+5]=p[y[C-1]+1],d[v]=f[_[C-b-1]],d[v+1]=f[_[C-b-1]+1],d[v+2]=f[_[C-b-1]+2],d[v+3]=f[_[C-b]],d[v+4]=f[_[C-b]+1],d[v+5]=f[_[C-b]+2],d[v+6]=f[_[C-1]],d[v+7]=f[_[C-1]+1],d[v+8]=f[_[C-1]+2],h[g+6]=h[g+2],h[g+7]=h[g+3],h[g+8]=h[g+4],h[g+9]=h[g+5],h[g+10]=p[y[C]],h[g+11]=p[y[C]+1],d[v+9]=d[v+3],d[v+10]=d[v+4],d[v+11]=d[v+5],d[v+12]=d[v+6],d[v+13]=d[v+7],d[v+14]=d[v+8],d[v+15]=f[_[C]],d[v+16]=f[_[C]+1],d[v+17]=f[_[C]+2],g+=12,v+=18;break;case"triangles":for(var x=0,w=y.length;x<w;x++)h[g]=p[y[x]],h[g+1]=p[y[x]+1],d[v]=f[_[x]],d[v+1]=f[_[x]+1],d[v+2]=f[_[x]+2],g+=2,v+=3}}return n?o.clearColor(n[0]/255,n[1]/255,n[2]/255,1):o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),t=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,t),o.bufferData(o.ARRAY_BUFFER,h,o.STATIC_DRAW),o.enableVertexAttribArray(i.positionLocation),o.vertexAttribPointer(i.positionLocation,2,o.FLOAT,!1,0,0),n=o.createBuffer(),o.bindBuffer(o.ARRAY_BUFFER,n),o.bufferData(o.ARRAY_BUFFER,d,o.STATIC_DRAW),o.enableVertexAttribArray(i.colorLocation),o.vertexAttribPointer(i.colorLocation,3,o.UNSIGNED_BYTE,!1,0,0),o.uniform2f(i.scaleLocation,a.scaleX,a.scaleY),o.uniform2f(i.offsetLocation,a.offsetX,a.offsetY),o.drawArrays(o.TRIANGLES,0,c),o.flush(),o.deleteBuffer(t),o.deleteBuffer(n),s},cleanup:function(){u&&u.canvas&&(u.canvas.width=0,u.canvas.height=0),L&&L.canvas&&(L.canvas.width=0,L.canvas.height=0),L=u=null}});function a(e,t,n){n=e.createShader(n);if(e.shaderSource(n,t),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))return n;n=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+n)}function F(e,t){return a(e,t,e.VERTEX_SHADER)}function I(e,t){return a(e,t,e.FRAGMENT_SHADER)}function D(e,t){for(var n=e.createProgram(),r=0,a=t.length;r<a;++r)e.attachShader(n,t[r]);if(e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))return n;var i=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+i)}function h(e,t,n){e.activeTexture(n);n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}function O(){R||(P=document.createElement("canvas"),R=P.getContext("webgl",{premultipliedalpha:!1}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var h,f=n(1),n=(h=/\S/,r.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new f.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,t){for(var n=0,r=e.length;n<r;n++)this._textContentItemsStr.push(e[n].str),a(this,e[n],t)},_layoutText:function(e){var t,n,r,a=this._textDivProperties.get(e);a.isWhitespace||(t="",0!==a.canvasWidth&&(n=(r=e.style).fontSize,r=r.fontFamily,n===this._layoutTextLastFontSize&&r===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(n," ").concat(r),this._layoutTextLastFontSize=n,this._layoutTextLastFontFamily=r),0<(r=this._layoutTextCtx.measureText(e.textContent).width)&&(a.scale=a.canvasWidth/r,t="scaleX(".concat(a.scale,")"))),0<(t=0!==a.angle?"rotate(".concat(a.angle,"deg) ").concat(t):t).length&&(this._enhanceTextSelection&&(a.originalTransform=t),e.style.transform=t),this._textDivProperties.set(e,a),this._container.appendChild(e))},_render:function(e){var r=this,a=(0,f.createPromiseCapability)(),i=Object.create(null),t=document.createElement("canvas");if(t.mozOpaque=!0,this._layoutTextCtx=t.getContext("2d",{alpha:!1}),this._textContent){var t=this._textContent.items,n=this._textContent.styles;this._processItems(t,n),a.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');n=function n(){r._reader.read().then(function(e){var t=e.value;e.done?a.resolve():(Object.assign(i,t.styles),r._processItems(t.items,i),n())},a.reject)};this._reader=this._textContentStream.getReader(),n()}a.promise.then(function(){i=null,e?r._renderTimer=setTimeout(function(){s(r),r._renderTimer=null},e):s(r)},this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(o(this),this._bounds=null);for(var t=[],n=[],r=0,a=this._textDivs.length;r<a;r++){var i=this._textDivs[r],s=this._textDivProperties.get(i);s.isWhitespace||(e?(t.length=0,n.length=0,s.originalTransform&&t.push(s.originalTransform),0<s.paddingTop?(n.push("".concat(s.paddingTop,"px")),t.push("translateY(".concat(-s.paddingTop,"px)"))):n.push(0),0<s.paddingRight?n.push("".concat(s.paddingRight/s.scale,"px")):n.push(0),0<s.paddingBottom?n.push("".concat(s.paddingBottom,"px")):n.push(0),0<s.paddingLeft?(n.push("".concat(s.paddingLeft/s.scale,"px")),t.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))):n.push(0),i.style.padding=n.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=s.originalTransform))}}}},function(e){var t=new r({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t});function a(e,t,n){var r=document.createElement("span"),a={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(r),u=t.str,!h.test(u))return a.isWhitespace=!0,void e._textDivProperties.set(r,a);var i=f.Util.transform(e._viewport.transform,t.transform),s=Math.atan2(i[1],i[0]),o=n[t.fontName];o.vertical&&(s+=Math.PI/2);var c,l,u=Math.sqrt(i[2]*i[2]+i[3]*i[3]),n=u;o.ascent?n=o.ascent*n:o.descent&&(n=(1+o.descent)*n),i=0===s?(c=i[4],i[5]-n):(c=i[4]+n*Math.sin(s),i[5]-n*Math.cos(s)),r.style.left="".concat(c,"px"),r.style.top="".concat(i,"px"),r.style.fontSize="".concat(u,"px"),r.style.fontFamily=o.fontFamily,r.textContent=t.str,e._fontInspectorEnabled&&(r.dataset.fontName=t.fontName),0!==s&&(a.angle=s*(180/Math.PI)),1<t.str.length&&(o.vertical?a.canvasWidth=t.height*e._viewport.scale:a.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(r,a),e._textContentStream&&e._layoutText(r),e._enhanceTextSelection&&(n=1,(a=0)!==s&&(n=Math.cos(s),a=Math.sin(s)),t=(o.vertical?t.height:t.width)*e._viewport.scale,u=u,i=0!==s?f.Util.getAxialAlignedBoundingBox([0,0,t,u],l=[n,a,-a,n,c,i]):[c,i,c+t,i+u],e._bounds.push({left:i[0],top:i[1],right:i[2],bottom:i[3],div:r,size:[t,u],m:l}))}function s(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(1e5<r)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var a=0;a<r;a++)e._layoutText(t[a]);e._renderingDone=!0,n.resolve()}}function o(e){for(var t=e._bounds,n=e._viewport,r=function(a,e,t){var i=t.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});g(a,i);var s=new Array(t.length);return i.forEach(function(e){var t=e.index;s[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}}),t.map(function(e,t){var n=s[t],r=i[t];r.x1=e.top,r.y1=a-n.right,r.x2=e.bottom,r.y2=a-n.left,r.index=t,r.x1New=void 0,r.x2New=void 0}),g(e,i),i.forEach(function(e){var t=e.index;s[t].top=e.x1New,s[t].bottom=e.x2New}),s}(n.width,n.height,t),a=0;a<r.length;a++){var i,s,o,c,l,u,h,d=t[a].div,p=e._textDivProperties.get(d);0!==p.angle?(i=r[a],u=t[a],s=u.m,o=s[0],c=s[1],h=[[0,0],[0,u.size[1]],[u.size[0],0],u.size],l=new Float64Array(64),h.forEach(function(e,t){e=f.Util.applyTransform(e,s);l[t+0]=o&&(i.left-e[0])/o,l[t+4]=c&&(i.top-e[1])/c,l[t+8]=o&&(i.right-e[0])/o,l[t+12]=c&&(i.bottom-e[1])/c,l[t+16]=c&&(i.left-e[0])/-c,l[t+20]=o&&(i.top-e[1])/o,l[t+24]=c&&(i.right-e[0])/-c,l[t+28]=o&&(i.bottom-e[1])/o,l[t+32]=o&&(i.left-e[0])/-o,l[t+36]=c&&(i.top-e[1])/-c,l[t+40]=o&&(i.right-e[0])/-o,l[t+44]=c&&(i.bottom-e[1])/-c,l[t+48]=c&&(i.left-e[0])/c,l[t+52]=o&&(i.top-e[1])/-o,l[t+56]=c&&(i.right-e[0])/c,l[t+60]=o&&(i.bottom-e[1])/-o}),u=function(e,t,n){for(var r=0,a=0;a<n;a++){var i=e[t++];0<i&&(r=r?Math.min(i,r):i)}return r},h=1+Math.min(Math.abs(o),Math.abs(c)),p.paddingLeft=u(l,32,16)/h,p.paddingTop=u(l,48,16)/h,p.paddingRight=u(l,0,16)/h,p.paddingBottom=u(l,16,16)/h,e._textDivProperties.set(d,p)):(p.paddingLeft=t[a].left-r[a].left,p.paddingTop=t[a].top-r[a].top,p.paddingRight=r[a].right-t[a].right,p.paddingBottom=r[a].bottom-t[a].bottom,e._textDivProperties.set(d,p))}}function g(t,e){e.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var p=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];e.forEach(function(e){for(var t=0;t<p.length&&p[t].end<=e.y1;)t++;for(var n=p.length-1;0<=n&&p[n].start>=e.y2;)n--;for(var r=-1/0,a=t;a<=n;a++){var i,s,o=(s=(i=p[a]).boundary).x2>e.x1?s.index>e.index?s.x1New:e.x1:void 0===s.x2New?(s.x2+e.x1)/2:s.x2New;r<o&&(r=o)}for(e.x1New=r,a=t;a<=n;a++)void 0===(s=(i=p[a]).boundary).x2New?s.x2>e.x1?s.index>e.index&&(s.x2New=s.x2):s.x2New=r:s.x2New>r&&(s.x2New=Math.max(r,s.x2));var c=[],l=null;for(a=t;a<=n;a++){var u=(s=(i=p[a]).boundary).x2>e.x2?s:e;l===u?c[c.length-1].end=i.end:(c.push({start:i.start,end:i.end,boundary:u}),l=u)}for(p[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:p[t].start,end:e.y1,boundary:p[t].boundary})),e.y2<p[n].end&&(c[c.length-1].end=e.y2,c.push({start:e.y2,end:p[n].end,boundary:p[n].boundary})),a=t;a<=n;a++)if(void 0===(s=(i=p[a]).boundary).x2New){for(var h=!1,d=t-1;!h&&0<=d&&p[d].start>=s.y1;d--)h=p[d].boundary===s;for(d=n+1;!h&&d<p.length&&p[d].end<=s.y2;d++)h=p[d].boundary===s;for(d=0;!h&&d<c.length;d++)h=c[d].boundary===s;h||(s.x2New=r)}Array.prototype.splice.apply(p,[t,n-t+1].concat(c))}),p.forEach(function(e){e=e.boundary;void 0===e.x2New&&(e.x2New=Math.max(t,e.x2))})}function r(e){var t=this,n=e.textContent,r=e.textContentStream,a=e.container,i=e.viewport,s=e.textDivs,o=e.textContentItemsStr,e=e.enhanceTextSelection;this._textContent=n,this._textContentStream=r,this._container=a,this._viewport=i,this._textDivs=s||[],this._textContentItemsStr=o||[],this._enhanceTextSelection=!!e,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,f.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){t._layoutTextCtx&&(t._layoutTextCtx.canvas.width=0,t._layoutTextCtx.canvas.height=0,t._layoutTextCtx=null)}).catch(function(){})}t.renderTextLayer=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var l=n(4),u=n(1),h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case u.AnnotationType.LINK:return new r(e);case u.AnnotationType.TEXT:return new a(e);case u.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new o(e);case"Btn":return e.data.radioButton?new d(e):new(e.data.checkBox?c:p)(e);case"Ch":return new f(e)}return new s(e);case u.AnnotationType.POPUP:return new g(e);case u.AnnotationType.FREETEXT:return new m(e);case u.AnnotationType.LINE:return new y(e);case u.AnnotationType.SQUARE:return new _(e);case u.AnnotationType.CIRCLE:return new b(e);case u.AnnotationType.POLYLINE:return new A(e);case u.AnnotationType.CARET:return new C(e);case u.AnnotationType.INK:return new S(e);case u.AnnotationType.POLYGON:return new k(e);case u.AnnotationType.HIGHLIGHT:return new x(e);case u.AnnotationType.UNDERLINE:return new w(e);case u.AnnotationType.SQUIGGLY:return new R(e);case u.AnnotationType.STRIKEOUT:return new P(e);case u.AnnotationType.STAMP:return new E(e);case u.AnnotationType.FILEATTACHMENT:return new T(e);default:return new i(e)}}}]),e}(),i=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,r),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,t&&(this.container=this._createContainer(n))}return _createClass(r,[{key:"_createContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,r=this.viewport,a=document.createElement("section"),i=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];a.setAttribute("data-annotation-id",t.id);n=u.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(a.style.transform="matrix(".concat(r.transform.join(","),")"),a.style.transformOrigin="-".concat(n[0],"px -").concat(n[1],"px"),!e&&0<t.borderStyle.width){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==u.AnnotationBorderStyleType.UNDERLINE&&(i-=2*t.borderStyle.width,s-=2*t.borderStyle.width);r=t.borderStyle.horizontalCornerRadius,e=t.borderStyle.verticalCornerRadius;switch((0<r||0<e)&&(e="".concat(r,"px / ").concat(e,"px"),a.style.borderRadius=e),t.borderStyle.style){case u.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case u.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case u.AnnotationBorderStyleType.BEVELED:(0,u.warn)("Unimplemented border style: beveled");break;case u.AnnotationBorderStyleType.INSET:(0,u.warn)("Unimplemented border style: inset");break;case u.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}t.color?a.style.borderColor=u.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(n[0],"px"),a.style.top="".concat(n[1],"px"),a.style.width="".concat(i,"px"),a.style.height="".concat(s,"px"),a}},{key:"_createPopup",value:function(e,t,n){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));n=new v({container:e,trigger:t,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();n.style.left=e.style.width,e.appendChild(n)}},{key:"render",value:function(){(0,u.unreachable)("Abstract method `AnnotationElement.render` called")}}]),r}(),r=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.url||e.data.dest||e.data.action);return n.call(this,e,t)}return _createClass(r,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,l.addLinkAttributes)(n,{url:e.url,target:e.newWindow?l.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):this._bindLink(n,e.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),r}(),a=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t)}return _createClass(r,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),r}(),s=function(){_inherits(t,i);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){return this.container}}]),t}(),o=function(){_inherits(r,s);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return n.call(this,e,t)}return _createClass(r,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var e,t=null;return this.renderInteractiveForms?(this.data.multiLine?(t=document.createElement("textarea")).textContent=this.data.fieldValue:((t=document.createElement("input")).type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,null!==this.data.maxLen&&(t.maxLength=this.data.maxLen),this.data.comb&&(e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen,t.classList.add("comb"),t.style.letterSpacing="calc(".concat(e,"px - 1ch)"))):((t=document.createElement("div")).textContent=this.data.fieldValue,t.style.verticalAlign="middle",t.style.display="table-cell",e=null,this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(e=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(t,e)),null!==this.data.textAlignment&&(t.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(t),this.container}},{key:"_setTextStyle",value:function(e,t){var n=e.style;n.fontSize="".concat(this.data.fontSize,"px"),n.direction=this.data.fontDirection<0?"rtl":"ltr",t&&(e="normal",t.black?e="900":t.bold&&(e="bold"),n.fontWeight=e,n.fontStyle=t.italic?"italic":"normal",e=t.loadedName?'"'.concat(t.loadedName,'", '):"",t=t.fallbackName||"Helvetica, sans-serif",n.fontFamily=e+t)}}]),r}(),c=function(){_inherits(n,s);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(),d=function(){_inherits(n,s);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=document.createElement("input");return e.disabled=this.data.readOnly,e.type="radio",e.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&e.setAttribute("checked",!0),this.container.appendChild(e),this.container}}]),n}(),p=function(){_inherits(t,r);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"render",value:function(){var e=_get(_getPrototypeOf(t.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),t}(),f=function(){_inherits(n,s);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=document.createElement("select");e.disabled=this.data.readOnly,this.data.combo||(e.size=this.data.options.length,this.data.multiSelect&&(e.multiple=!0));var t,n=_createForOfIteratorHelper(this.data.options);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=document.createElement("option");a.textContent=r.displayValue,a.value=r.exportValue,this.data.fieldValue.includes(r.displayValue)&&a.setAttribute("selected",!0),e.appendChild(a)}}catch(e){n.e(e)}finally{n.f()}return this.container.appendChild(e),this.container}}]),n}(),g=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!(!e.data.title&&!e.data.contents);return n.call(this,e,t)}return _createClass(r,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelector(e);if(!t)return this.container;var n=new v({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=parseFloat(t.style.left),e=parseFloat(t.style.width);return this.container.style.transformOrigin="-".concat(r+e,"px -").concat(t.style.top),this.container.style.left="".concat(r+e,"px"),this.container.appendChild(n.render()),this.container}}]),r}(),v=function(){function t(e){_classCallCheck(this,t),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.title=e.title,this.modificationDate=e.modificationDate,this.contents=e.contents,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return _createClass(t,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var n,r,a=this.color;a&&(n=.7*(255-a[0])+a[0],r=.7*(255-a[1])+a[1],i=.7*(255-a[2])+a[2],t.style.backgroundColor=u.Util.makeCssRgb(0|n,0|r,0|i));var i=document.createElement("h1");i.textContent=this.title,t.appendChild(i);i=l.PDFDateString.toDateObject(this.modificationDate);i&&((s=document.createElement("span")).textContent="{{date}}, {{time}}",s.dataset.l10nId="annotation_date_string",s.dataset.l10nArgs=JSON.stringify({date:i.toLocaleDateString(),time:i.toLocaleTimeString()}),t.appendChild(s));var s=this._formatContents(this.contents);return t.appendChild(s),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),r=0,a=n.length;r<a;++r){var i=n[r];t.appendChild(document.createTextNode(i)),r<a-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){0<arguments.length&&void 0!==arguments[0]&&!arguments[0]||(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),--this.container.style.zIndex)}}]),t}(),m=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),r}(),y=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],t=this.svgFactory.create(t,n),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),t.appendChild(n),this.container.append(t),this._createPopup(this.container,n,e),this.container}}]),r}(),_=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",a/2),i.setAttribute("y",a/2),i.setAttribute("width",t-a),i.setAttribute("height",n-a),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),r.appendChild(i),this.container.append(r),this._createPopup(this.container,i,e),this.container}}]),r}(),b=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),a=e.borderStyle.width,i=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",n/2),i.setAttribute("rx",t/2-a/2),i.setAttribute("ry",n/2-a/2),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),r.appendChild(i),this.container.append(r),this._createPopup(this.container,i,e),this.container}}]),r}(),A=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return(t=n.call(this,e,t,!0)).containerClassName="polylineAnnotation",t.svgElementName="svg:polyline",t}return _createClass(r,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],n=this.svgFactory.create(n,r),a=[],i=_createForOfIteratorHelper(t.vertices);try{for(i.s();!(e=i.n()).done;){var s=e.value,o=s.x-t.rect[0],c=t.rect[3]-s.y;a.push(o+","+c)}}catch(e){i.e(e)}finally{i.f()}a=a.join(" "),r=this.svgFactory.createElement(this.svgElementName);return r.setAttribute("points",a),r.setAttribute("stroke-width",t.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","none"),n.appendChild(r),this.container.append(n),this._createPopup(this.container,r,t),this.container}}]),r}(),k=function(){_inherits(n,A);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),(e=t.call(this,e)).containerClassName="polygonAnnotation",e.svgElementName="svg:polygon",e}return n}(),C=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),r}(),S=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return(t=n.call(this,e,t,!0)).containerClassName="inkAnnotation",t.svgElementName="svg:polyline",t}return _createClass(r,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],a=this.svgFactory.create(n,r),i=_createForOfIteratorHelper(t.inkLists);try{for(i.s();!(e=i.n()).done;){var s,o=e.value,c=[],l=_createForOfIteratorHelper(o);try{for(l.s();!(s=l.n()).done;){var u=s.value,h=u.x-t.rect[0],d=t.rect[3]-u.y;c.push("".concat(h,",").concat(d))}}catch(e){l.e(e)}finally{l.f()}var c=c.join(" "),p=this.svgFactory.createElement(this.svgElementName);p.setAttribute("points",c),p.setAttribute("stroke-width",t.borderStyle.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","none"),this._createPopup(this.container,p,t),a.appendChild(p)}}catch(e){i.e(e)}finally{i.f()}return this.container.append(a),this.container}}]),r}(),x=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),r}(),w=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),r}(),R=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),r}(),P=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),r}(),E=function(){_inherits(r,i);var n=_createSuper(r);function r(e){_classCallCheck(this,r);var t=!!(e.data.hasPopup||e.data.title||e.data.contents);return n.call(this,e,t,!0)}return _createClass(r,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),r}(),T=function(){_inherits(a,i);var r=_createSuper(a);function a(e){_classCallCheck(this,a);var t,n=(t=r.call(this,e,!0)).data.file,e=n.filename,n=n.content;return t.filename=(0,l.getFilenameFromUrl)(e),t.content=n,t.linkService.eventBus&&t.linkService.eventBus.dispatch("fileattachmentannotation",{source:_assertThisInitialized(t),id:(0,u.stringToPDFString)(e),filename:e,content:n}),t}return _createClass(a,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,u.warn)("Download cannot be started due to unavailable download manager")}}]),a}();t.AnnotationLayer=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"render",value:function(e){var t,n=[],r=[],a=_createForOfIteratorHelper(e.annotations);try{for(a.s();!(t=a.n()).done;){var i=t.value;i&&(i.annotationType!==u.AnnotationType.POPUP?n:r).push(i)}}catch(e){a.e(e)}finally{a.f()}r.length&&n.push.apply(n,r);for(var s=0,o=n;s<o.length;s++){var c=o[s],c=h.create({data:c,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:e.renderInteractiveForms||!1,svgFactory:new l.DOMSVGFactory});c.isRenderable&&e.div.appendChild(c.render())}}},{key:"update",value:function(e){var t,n=_createForOfIteratorHelper(e.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=e.div.querySelector('[data-annotation-id="'.concat(r.id,'"]'));a&&(a.style.transform="matrix(".concat(e.viewport.transform.join(","),")"))}}catch(e){n.e(e)}finally{n.f()}e.div.removeAttribute("hidden")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var b=n(1),i=n(4),A=n(7);t.SVGGraphics=function(){throw new Error("Not implemented: SVGGraphics")};var y={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},s="http://www.w3.org/1999/xlink",r=["butt","round","square"],o=["miter","round","bevel"],c=function(){for(var m=new Uint8Array([137,80,78,71,13,10,26,10]),s=new Int32Array(256),e=0;e<256;e++){for(var t=e,n=0;n<8;n++)t=1&t?3988292384^t>>1&2147483647:t>>1&2147483647;s[e]=t}function y(e,t,n,r){var a=r,i=t.length;n[a]=i>>24&255,n[a+1]=i>>16&255,n[a+2]=i>>8&255,n[a+3]=255&i,n[a+=4]=255&e.charCodeAt(0),n[a+1]=255&e.charCodeAt(1),n[a+2]=255&e.charCodeAt(2),n[a+3]=255&e.charCodeAt(3),n.set(t,a+=4);t=function(e,t,n){for(var r=-1,a=t;a<n;a++)var i=255&(r^e[a]),r=r>>>8^s[i];return-1^r}(n,r+4,a+=t.length);n[a]=t>>24&255,n[a+1]=t>>16&255,n[a+2]=t>>8&255,n[a+3]=255&t}function _(e){var t=e.length,n=65535,r=Math.ceil(t/n),a=new Uint8Array(2+t+5*r+4),i=0;a[i++]=120,a[i++]=156;for(var s=0;n<t;)a[i++]=0,a[i++]=255,a[i++]=255,a[i++]=0,a[i++]=0,a.set(e.subarray(s,s+n),i),i+=n,s+=n,t-=n;a[i++]=1,a[i++]=255&t,a[i++]=t>>8&255,a[i++]=255&~t,a[i++]=(65535&~t)>>8&255,a.set(e.subarray(s),i),i+=e.length-s;r=function(e,t,n){for(var r=1,a=0,i=t;i<n;++i)a=(a+(r=(r+(255&e[i]))%65521))%65521;return a<<16|r}(e,0,e.length);return a[i++]=r>>24&255,a[i++]=r>>16&255,a[i++]=r>>8&255,a[i++]=255&r,a}function r(e,t,n,r){var a,i,s,o=e.width,c=e.height,l=e.data;switch(t){case b.ImageKind.GRAYSCALE_1BPP:i=0,a=1,s=o+7>>3;break;case b.ImageKind.RGB_24BPP:i=2,a=8,s=3*o;break;case b.ImageKind.RGBA_32BPP:i=6,a=8,s=4*o;break;default:throw new Error("invalid format")}for(var u=new Uint8Array((1+s)*c),h=0,d=0,p=0;p<c;++p)u[h++]=0,u.set(l.subarray(d,d+s),h),d+=s,h+=s;if(t===b.ImageKind.GRAYSCALE_1BPP&&r)for(var h=0,f=0;f<c;f++){h++;for(var g=0;g<s;g++)u[h++]^=255}var v=new Uint8Array([o>>24&255,o>>16&255,o>>8&255,255&o,c>>24&255,c>>16&255,c>>8&255,255&c,a,i,0,0,0]),e=function(e){if(!A.isNodeJS)return _(e);try{var t=8<=parseInt(process.versions.node)?e:Buffer.from(e),n=__webpack_require__(15232).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(e){(0,b.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return _(e)}(u),t=m.length+36+v.length+e.length,r=new Uint8Array(t),t=0;return r.set(m,0),y("IHDR",v,r,t+=m.length),y("IDATA",e,r,t+=12+v.length),t+=12+e.length,y("IEND",new Uint8Array(0),r,t),(0,b.createObjectURL)(r,"image/png",n)}return function(e,t,n){return r(e,void 0===e.kind?b.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}(),l=function(){function e(){_classCallCheck(this,e),this.fontSizeScale=1,this.fontWeight=y.fontWeight,this.fontSize=0,this.textMatrix=b.IDENTITY_MATRIX,this.fontMatrix=b.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=b.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=y.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}();function _(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;for(;"0"===t[--n];);return t.substring(0,"."===t[n]?n:n+1)}function k(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(_(e[0])," ").concat(_(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(_(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(_(e[4])," ").concat(_(e[5]),")");return"matrix(".concat(_(e[0])," ").concat(_(e[1])," ").concat(_(e[2])," ").concat(_(e[3])," ").concat(_(e[4])," ")+"".concat(_(e[5]),")")}var u=0,h=0,f=0;t.SVGGraphics=function(){function a(e,t,n){for(var r in _classCallCheck(this,a),this.svgFactory=new i.DOMSVGFactory,this.current=new l,this.transformMatrix=b.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!n,this._operatorIdMapping=[],b.OPS)this._operatorIdMapping[b.OPS[r]]=r}return _createClass(a,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var r=this,t=e.fnArray,n=e.argsArray,a=0,i=t.length;a<i;a++)if(t[a]===b.OPS.dependency){var s,o=_createForOfIteratorHelper(n[a]);try{for(o.s();!(s=o.n()).done;)!function(){var t=s.value,n=t.startsWith("g_")?r.commonObjs:r.objs,e=new Promise(function(e){n.get(t,e)});r.current.dependencies.push(e)}()}catch(e){o.e(e)}finally{o.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,r,a,i){this.transformMatrix=b.Util.transform(this.transformMatrix,[e,t,n,r,a,i]),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var r=this._initialize(t);return this.loadDependencies(e).then(function(){return n.transformMatrix=b.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),r})}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,a=[],i=0,s=r.length;i<s;i++){var o=r[i];a.push({fnId:o,fn:t[o],args:n[i]})}return function(e){var t,n=[],r=[],a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;"save"!==i.fn?"restore"===i.fn?n=r.pop():n.push(i):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(e){a.e(e)}finally{a.f()}return n}(a)}},{key:"executeOpTree",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.fn,i=r.fnId,s=r.args;switch(0|i){case b.OPS.beginText:this.beginText();break;case b.OPS.dependency:break;case b.OPS.setLeading:this.setLeading(s);break;case b.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case b.OPS.setFont:this.setFont(s);break;case b.OPS.showText:case b.OPS.showSpacedText:this.showText(s[0]);break;case b.OPS.endText:this.endText();break;case b.OPS.moveText:this.moveText(s[0],s[1]);break;case b.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case b.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case b.OPS.setHScale:this.setHScale(s[0]);break;case b.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case b.OPS.setTextRise:this.setTextRise(s[0]);break;case b.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case b.OPS.setLineWidth:this.setLineWidth(s[0]);break;case b.OPS.setLineJoin:this.setLineJoin(s[0]);break;case b.OPS.setLineCap:this.setLineCap(s[0]);break;case b.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case b.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case b.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case b.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case b.OPS.setFillColorN:this.setFillColorN(s);break;case b.OPS.shadingFill:this.shadingFill(s[0]);break;case b.OPS.setDash:this.setDash(s[0],s[1]);break;case b.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case b.OPS.setFlatness:this.setFlatness(s[0]);break;case b.OPS.setGState:this.setGState(s[0]);break;case b.OPS.fill:this.fill();break;case b.OPS.eoFill:this.eoFill();break;case b.OPS.stroke:this.stroke();break;case b.OPS.fillStroke:this.fillStroke();break;case b.OPS.eoFillStroke:this.eoFillStroke();break;case b.OPS.clip:this.clip("nonzero");break;case b.OPS.eoClip:this.clip("evenodd");break;case b.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case b.OPS.paintJpegXObject:this.paintJpegXObject(s[0],s[1],s[2]);break;case b.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case b.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case b.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case b.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case b.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case b.OPS.closePath:this.closePath();break;case b.OPS.closeStroke:this.closeStroke();break;case b.OPS.closeFillStroke:this.closeFillStroke();break;case b.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case b.OPS.nextLine:this.nextLine();break;case b.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case b.OPS.constructPath:this.constructPath(s[0],s[1]);break;case b.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,b.warn)("Unimplemented operator ".concat(a))}}}catch(e){n.e(e)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,a,i){var s=this.current;s.textMatrix=s.lineMatrix=[e,t,n,r,a,i],s.textMatrixScale=Math.sqrt(e*e+t*t),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size","".concat(_(s.fontSize),"px")),s.tspan.setAttributeNS(null,"y",_(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.appendChild(s.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=b.IDENTITY_MATRIX,e.lineMatrix=b.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(_(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",_(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,r=t.fontSize;if(0!==r){var a,i=t.charSpacing,s=t.wordSpacing,o=t.fontDirection,c=t.textHScale*o,l=n.vertical,u=r*t.fontMatrix[0],h=0,d=_createForOfIteratorHelper(e);try{for(d.s();!(a=d.n()).done;){var p,f,g,v=a.value;null!==v?(0,b.isNum)(v)?h+=-v*r*.001:(p=v.width,f=v.fontChar,g=p*u+((v.isSpace?s:0)+i)*o,(v.isInFont||n.missingFile)&&(t.xcoords.push(t.x+h),t.tspan.textContent+=f),h+=g):h+=o*s}}catch(e){d.e(e)}finally{d.f()}l?t.y-=h*c:t.x+=h*c,t.tspan.setAttributeNS(null,"x",t.xcoords.map(_).join(" ")),t.tspan.setAttributeNS(null,"y",_(-t.y)),t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(_(t.fontSize),"px")),t.fontStyle!==y.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==y.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);l=t.textRenderingMode&b.TextRenderingMode.FILL_STROKE_MASK;l===b.TextRenderingMode.FILL||l===b.TextRenderingMode.FILL_STROKE?(t.fillColor!==y.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===b.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),l!==b.TextRenderingMode.STROKE&&l!==b.TextRenderingMode.FILL_STROKE||(m=1/(t.textMatrixScale||1),this._setStrokeAttributes(t.tspan,m));var m=t.textMatrix;0!==t.textRise&&((m=m.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(k(m)," scale(").concat(_(c),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,b.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),r=e[1];t.font=n,this.embedFonts&&n.data&&!this.embeddedFonts[n.loadedName]&&(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||b.FONT_IDENTITY_MATRIX;var a="normal";n.black?a="900":n.bold&&(a="bold");e=n.italic?"italic":"normal";r<0?(r=-r,t.fontDirection=-1):t.fontDirection=1,t.fontSize=r,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=e,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",_(-t.y)),t.xcoords=[]}},{key:"endText",value:function(){var e=this.current;e.textRenderingMode&b.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){0<e&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=r[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=o[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=b.Util.makeCssRgb(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=b.Util.makeCssRgb(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,r=b.Util.inverseTransform(this.transformMatrix),a=b.Util.applyTransform([0,0],r),i=b.Util.applyTransform([0,n],r),s=b.Util.applyTransform([t,0],r),o=b.Util.applyTransform([t,n],r),t=Math.min(a[0],i[0],s[0],o[0]),n=Math.min(a[1],i[1],s[1],o[1]),r=Math.max(a[0],i[0],s[0],o[0]),s=Math.max(a[1],i[1],s[1],o[1]),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x",t),o.setAttributeNS(null,"y",n),o.setAttributeNS(null,"width",r-t),o.setAttributeNS(null,"height",s-n),o.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this._ensureTransformGroup().appendChild(o)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],r=e[3]||b.IDENTITY_MATRIX,a=_slicedToArray(e[4],4),i=a[0],s=a[1],o=a[2],c=a[3],l=e[5],u=e[6],h=e[7],d="shading".concat(f++),p=b.Util.applyTransform([i,s],r),a=_slicedToArray(p,2),e=a[0],i=a[1],s=b.Util.applyTransform([o,c],r),p=_slicedToArray(s,2),a=p[0],o=p[1],c=b.Util.singularValueDecompose2dScale(r),s=_slicedToArray(c,2),p=l*s[0],c=u*s[1],l=this.svgFactory.createElement("svg:pattern");l.setAttributeNS(null,"id",d),l.setAttributeNS(null,"patternUnits","userSpaceOnUse"),l.setAttributeNS(null,"width",p),l.setAttributeNS(null,"height",c),l.setAttributeNS(null,"x","".concat(e)),l.setAttributeNS(null,"y","".concat(i));u=this.svg,s=this.transformMatrix,p=this.current.fillColor,c=this.current.strokeColor,i=this.svgFactory.create(a-e,o-i);return this.svg=i,this.transformMatrix=r,2===h&&(t=(h=b.Util).makeCssRgb.apply(h,_toConsumableArray(t)),this.current.fillColor=t,this.current.strokeColor=t),this.executeOpTree(this.convertOpList(n)),this.svg=u,this.transformMatrix=s,this.current.fillColor=p,this.current.strokeColor=c,l.appendChild(i.childNodes[0]),this.defs.appendChild(l),"url(#".concat(d,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t="shading".concat(f++),n=e[3];switch(e[1]){case"axial":var r,a=e[4],i=e[5];(r=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"x1",a[0]),r.setAttributeNS(null,"y1",a[1]),r.setAttributeNS(null,"x2",i[0]),r.setAttributeNS(null,"y2",i[1]);break;case"radial":var s=e[4],o=e[5],a=e[6],i=e[7];(r=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",t),r.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),r.setAttributeNS(null,"cx",o[0]),r.setAttributeNS(null,"cy",o[1]),r.setAttributeNS(null,"r",i),r.setAttributeNS(null,"fx",s[0]),r.setAttributeNS(null,"fy",s[1]),r.setAttributeNS(null,"fr",a);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var c,l=_createForOfIteratorHelper(n);try{for(l.s();!(c=l.n()).done;){var u=c.value,h=this.svgFactory.createElement("svg:stop");h.setAttributeNS(null,"offset",u[0]),h.setAttributeNS(null,"stop-color",u[1]),r.appendChild(h)}}catch(e){l.e(e)}finally{l.f()}return this.defs.appendChild(r),"url(#".concat(t,")");case"Mesh":return(0,b.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,r=this.current,a=r.x,i=r.y,s=[],o=0,c=_createForOfIteratorHelper(e);try{for(c.s();!(n=c.n()).done;)switch(0|n.value){case b.OPS.rectangle:var a=t[o++],i=t[o++],l=t[o++],u=t[o++],h=a+l,d=i+u;s.push("M",_(a),_(i),"L",_(h),_(i),"L",_(h),_(d),"L",_(a),_(d),"Z");break;case b.OPS.moveTo:a=t[o++],i=t[o++],s.push("M",_(a),_(i));break;case b.OPS.lineTo:a=t[o++],i=t[o++],s.push("L",_(a),_(i));break;case b.OPS.curveTo:a=t[o+4],i=t[o+5],s.push("C",_(t[o]),_(t[o+1]),_(t[o+2]),_(t[o+3]),_(a),_(i)),o+=6;break;case b.OPS.curveTo2:s.push("C",_(a),_(i),_(t[o]),_(t[o+1]),_(t[o+2]),_(t[o+3])),a=t[o+2],i=t[o+3],o+=4;break;case b.OPS.curveTo3:a=t[o+2],i=t[o+3],s.push("C",_(t[o]),_(t[o+1]),_(a),_(i),_(a),_(i)),o+=4;break;case b.OPS.closePath:s.push("Z")}}catch(e){c.e(e)}finally{c.f()}s=s.join(" "),r.path&&0<e.length&&e[0]!==b.OPS.rectangle&&e[0]!==b.OPS.moveTo?s=r.path.getAttributeNS(null,"d")+s:(r.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(r.path)),r.path.setAttributeNS(null,"d",s),r.path.setAttributeNS(null,"fill","none"),r.element=r.path,r.setCurrentPoint(a,i)}},{key:"endPath",value:function(){var e,t,n,r=this.current;r.path=null,this.pendingClip&&(r.element?(e="clippath".concat(u++),(t=this.svgFactory.createElement("svg:clipPath")).setAttributeNS(null,"id",e),t.setAttributeNS(null,"transform",k(this.transformMatrix)),n=r.element.cloneNode(!0),"evenodd"===this.pendingClip?n.setAttributeNS(null,"clip-rule","evenodd"):n.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,t.appendChild(n),this.defs.appendChild(t),r.activeClipUrl&&(r.clipGroup=null,this.extraStack.forEach(function(e){e.clipGroup=null}),t.setAttributeNS(null,"clip-path",r.activeClipUrl)),r.activeClipUrl="url(#".concat(e,")"),this.tgrp=null):this.pendingClip=null)}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e,t=this.current;t.path&&(e="".concat(t.path.getAttributeNS(null,"d"),"Z"),t.path.setAttributeNS(null,"d",e))}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=_slicedToArray(t.value,2),a=r[0],i=r[1];switch(a){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i);break;case"CA":this.setStrokeAlpha(i);break;case"ca":this.setFillAlpha(i);break;default:(0,b.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(e){n.e(e)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&0<r.length&&(r=r.map(function(e){return t*e})),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",_(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",_(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(_).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",_(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintJpegXObject",value:function(e,t,n){var r=this.objs.get(e),e=this.svgFactory.createElement("svg:image");e.setAttributeNS(s,"xlink:href",r.src),e.setAttributeNS(null,"width",_(t)),e.setAttributeNS(null,"height",_(n)),e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y",_(-n)),e.setAttributeNS(null,"transform","scale(".concat(_(1/t)," ").concat(_(-1/n),")")),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=this.objs.get(e);t?this.paintInlineImageXObject(t):(0,b.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,a=c(e,this.forceDataSchema,!!t),e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width",_(n)),e.setAttributeNS(null,"height",_(r)),this.current.element=e,this.clip("nonzero");e=this.svgFactory.createElement("svg:image");e.setAttributeNS(s,"xlink:href",a),e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y",_(-r)),e.setAttributeNS(null,"width",_(n)+"px"),e.setAttributeNS(null,"height",_(r)+"px"),e.setAttributeNS(null,"transform","scale(".concat(_(1/n)," ").concat(_(-1/r),")")),(t||this._ensureTransformGroup()).appendChild(e)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,a=t.fillColor;t.maskId="mask".concat(h++);var i=this.svgFactory.createElement("svg:mask");i.setAttributeNS(null,"id",t.maskId);var s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",_(n)),s.setAttributeNS(null,"height",_(r)),s.setAttributeNS(null,"fill",a),s.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(i),this._ensureTransformGroup().appendChild(s),this.paintInlineImageXObject(e,i)}},{key:"paintFormXObjectBegin",value:function(e,t){var n,r;Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t&&(n=t[2]-t[0],r=t[3]-t[1],(e=this.svgFactory.createElement("svg:rect")).setAttributeNS(null,"x",t[0]),e.setAttributeNS(null,"y",t[1]),e.setAttributeNS(null,"width",_(n)),e.setAttributeNS(null,"height",_(r)),this.current.element=e,this.clip("nonzero"),this.endPath())}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;n=this.svgFactory.createElement("svg:g");return n.setAttributeNS(null,"transform",k(e.transform)),t.appendChild(n),this.svg=n,t}},{key:"_ensureClipGroup",value:function(){var e;return this.current.clipGroup||((e=this.svgFactory.createElement("svg:g")).setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e),this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",k(this.transformMatrix)),(this.current.activeClipUrl?this._ensureClipGroup():this.svg).appendChild(this.tgrp)),this.tgrp}}]),a}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var c=n(1),i=n(20),s=__webpack_require__(49080),l=__webpack_require__(57588),u=__webpack_require__(3071),a=__webpack_require__(4918),o=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=function(){function r(e){var t,n;_classCallCheck(this,r),this.source=e,this.url=(t=e.url,"file:"===(n=a.parse(t)).protocol||n.host?n:/^[a-z]:[/\\]/i.test(t)?a.parse("file:///".concat(t)):(n.host||(n.protocol="file:"),n)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(r,[{key:"getFullReader",value:function(){return(0,c.assert)(!this._fullRequestReader),this._fullRequestReader=new(this.isFsUrl?g:p)(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;t=new(this.isFsUrl?v:f)(this,e,t);return this._rangeRequestReaders.push(t),t}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),r}();var r=function(){function t(e){_classCallCheck(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;e=e.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)(),this._headersCapability=(0,c.createPromiseCapability)()}var e;return _createClass(t,[{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t,n;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=4;break;case 4:if(this._storedError)throw this._storedError;e.next=6;break;case 6:if(null===(t=this._readableStream.read()))return this._readCapability=(0,c.createPromiseCapability)(),e.abrupt("return",this.read());e.next=10;break;case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;(this._readableStream=e).on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}(),h=function(){function t(e){_classCallCheck(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,c.createPromiseCapability)();e=e.source;this._isStreamingSupported=!e.disableStream}var e;return _createClass(t,[{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t,n;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=4;break;case 4:if(this._storedError)throw this._storedError;e.next=6;break;case 6:if(null===(t=this._readableStream.read()))return this._readCapability=(0,c.createPromiseCapability)(),e.abrupt("return",this.read());e.next=10;break;case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;(this._readableStream=e).on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}();function d(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var p=function(){_inherits(n,r);var t=_createSuper(n);function n(r){_classCallCheck(this,n);function e(e){if(404===e.statusCode){var t=new c.MissingPDFException('Missing PDF "'.concat(a._url,'".'));return a._storedError=t,void a._headersCapability.reject(t)}function n(e){return a._readableStream.headers[e.toLowerCase()]}a._headersCapability.resolve(),a._setReadableStream(e),t=(0,i.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:r.isHttp,rangeChunkSize:a._rangeChunkSize,disableRange:a._disableRange}),e=t.allowRangeRequests,t=t.suggestedLength,a._isRangeSupported=e,a._contentLength=t||a._contentLength,a._filename=(0,i.extractFilenameFromHeader)(n)}var a;return(a=t.call(this,r))._request=null,"http:"===a._url.protocol?a._request=l.request(d(a._url,r.httpHeaders),e):a._request=u.request(d(a._url,r.httpHeaders),e),a._request.on("error",function(e){a._storedError=e,a._headersCapability.reject(e)}),a._request.end(),a}return n}(),f=function(){_inherits(o,h);var s=_createSuper(o);function o(e,t,n){var r,a;for(a in _classCallCheck(this,o),(r=s.call(this,e))._httpHeaders={},e.httpHeaders){var i=e.httpHeaders[a];void 0!==i&&(r._httpHeaders[a]=i)}r._httpHeaders.Range="bytes=".concat(t,"-").concat(n-1);n=function(e){404!==e.statusCode?r._setReadableStream(e):(e=new c.MissingPDFException('Missing PDF "'.concat(r._url,'".')),r._storedError=e)};return r._request=null,"http:"===r._url.protocol?r._request=l.request(d(r._url,r._httpHeaders),n):r._request=u.request(d(r._url,r._httpHeaders),n),r._request.on("error",function(e){r._storedError=e}),r._request.end(),r}return o}(),g=function(){_inherits(a,r);var t=_createSuper(a);function a(e){_classCallCheck(this,a);var n=t.call(this,e),r=decodeURIComponent(n._url.path);return o.test(n._url.href)&&(r=r.replace(/^\//,"")),s.lstat(r,function(e,t){return e?("ENOENT"===e.code&&(e=new c.MissingPDFException('Missing PDF "'.concat(r,'".'))),n._storedError=e,void n._headersCapability.reject(e)):(n._contentLength=t.size,n._setReadableStream(s.createReadStream(r)),void n._headersCapability.resolve())}),n}return a}(),v=function(){_inherits(i,h);var a=_createSuper(i);function i(e,t,n){_classCallCheck(this,i);var r=a.call(this,e),e=decodeURIComponent(r._url.path);return o.test(r._url.href)&&(e=e.replace(/^\//,"")),r._setReadableStream(s.createReadStream(e,{start:t,end:n-1})),r}return i}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){if(404===e||0===e&&t.startsWith("file:"))return new s.MissingPDFException('Missing PDF "'+t+'".');return new s.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){e=e("Content-Disposition");if(e){e=(0,r.getFilenameFromContentDispositionHeader)(e);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(e){}if(/\.pdf$/i.test(e))return e}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,r=e.rangeChunkSize,a=e.disableRange;(0,s.assert)(0<r,"Range chunk size must be larger than zero");var i={allowRangeRequests:!1,suggestedLength:void 0},e=parseInt(t("Content-Length"),10);if(!Number.isInteger(e))return i;if((i.suggestedLength=e)<=2*r)return i;return!a&&n&&"bytes"===t("Accept-Ranges")&&"identity"===(t("Content-Encoding")||"identity")&&(i.allowRangeRequests=!0),i},t.validateResponseStatus=function(e){return 200===e||206===e};var s=n(1),r=n(21)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var a=!0,t=u("filename\\*","i").exec(e);if(t){var n=h(t=t[1]);return r(n=s(n=d(n=unescape(n))))}if(t=function(e){var t=[],n=u("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(i=n.exec(e));){var r=_slicedToArray(i,4),a=r[1],i=r[2],r=r[3];if((a=parseInt(a,10))in t){if(0===a)break}else t[a]=[i,r]}for(var s=[],o=0;o<t.length&&o in t;++o){var c=_slicedToArray(t[o],2),l=c[0],c=c[1];c=h(c),l&&(c=unescape(c),0===o&&(c=d(c))),s.push(c)}return s.join("")}(e))return r(s(t));if(t=u("filename","i").exec(e))return t=t[1],r(s(h(t)));function u(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var e=new TextDecoder(t,{fatal:!0}),r=Array.from(n,function(e){return 255&e.charCodeAt(0)});n=e.decode(new Uint8Array(r)),a=!1}catch(e){if(/^utf-?8$/i.test(t))try{n=decodeURIComponent(escape(n)),a=!1}catch(e){}}}return n}function r(e){return a&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),a&&(e=i("iso-8859-1",e))),e}function h(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function d(e){var t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function s(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,r){if("q"===n||"Q"===n)return i(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{r=atob(r)}catch(e){}return i(t,r)})}return""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i=n(1),s=n(20);var r=function(){function n(e,t){_classCallCheck(this,n),this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(n,[{key:"requestRange",value:function(e,t,n){var r,a={begin:e,end:t};for(r in n)a[r]=n[r];return this.request(a)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(t){var e,n=this.getXhr(),r=this.currXhrId++,a=this.pendingRequests[r]={xhr:n};for(e in n.open("GET",this.url),n.withCredentials=this.withCredentials,this.httpHeaders){var i=this.httpHeaders[e];void 0!==i&&n.setRequestHeader(e,i)}return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),a.expectedStatus=206):a.expectedStatus=200,n.responseType="arraybuffer",t.onError&&(n.onerror=function(e){t.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,n.send(null),r}},{key:"onProgress",value:function(e,t){e=this.pendingRequests[e];e&&e.onProgress&&e.onProgress(t)}},{key:"onStateChange",value:function(e,t){var n,r,a=this.pendingRequests[e];a&&(2<=(n=a.xhr).readyState&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),4===n.readyState&&e in this.pendingRequests&&(delete this.pendingRequests[e],(0!==n.status||!this.isHttp)&&(200===(r=n.status||200)&&206===a.expectedStatus||r===a.expectedStatus)?(e="string"!=typeof(e=(e=n).response)?e:(0,i.stringToBytes)(e).buffer,206===r?(r=n.getResponseHeader("Content-Range"),r=/bytes (\d+)-(\d+)\/(\d+)/.exec(r),a.onDone({begin:parseInt(r[1],10),chunk:e})):e?a.onDone({begin:0,chunk:e}):a.onError&&a.onError(n.status)):a.onError&&a.onError(n.status)))}},{key:"hasPendingRequests",value:function(){for(var e in this.pendingRequests)return!0;return!1}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortAllRequests",value:function(){for(var e in this.pendingRequests)this.abortRequest(0|e)}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),n}();t.PDFNetworkStream=function(){function t(e){_classCallCheck(this,t),this._source=e,this._manager=new r(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(t,[{key:"_onRangeRequestReaderClosed",value:function(e){e=this._rangeRequestReaders.indexOf(e);0<=e&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return(0,i.assert)(!this._fullRequestReader),this._fullRequestReader=new a(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){t=new o(this._manager,e,t);return t.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(t),t}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}}]),t}();var a=function(){function r(e,t){_classCallCheck(this,r),this._manager=e;var n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersReceivedCapability=(0,i.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var e;return _createClass(r,[{key:"_onHeadersReceived",value:function(){function e(e){return n.getResponseHeader(e)}var t=this._fullRequestId,n=this._manager.getRequestXhr(t),r=(0,s.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=r.allowRangeRequests,r=r.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(e),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(0<this._requests.length?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,0<this._cachedChunks.length||(this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(e){var t=this._url,n=(0,s.createResponseStatusError)(e,t);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach(function(e){e.reject(n)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._storedError)throw this._storedError;e.next=2;break;case 2:if(0<this._cachedChunks.length)return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});e.next=5;break;case 5:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=7;break;case 7:return t=(0,i.createPromiseCapability)(),this._requests.push(t),e.abrupt("return",t.promise);case 10:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),r}(),o=function(){function a(e,t,n){_classCallCheck(this,a),this._manager=e;var r={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}var e;return _createClass(a,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){e=e.chunk;0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._queuedChunk)return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});e.next=4;break;case 4:if(this._done)return e.abrupt("return",{value:void 0,done:!0});e.next=6;break;case 6:return t=(0,i.createPromiseCapability)(),this._requests.push(t),e.abrupt("return",t.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach(function(e){e.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),a}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var s=n(1),o=n(20);function c(e,t,n){return{method:"GET",headers:e,signal:n&&n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function l(e){var t,n=new Headers;for(t in e){var r=e[t];void 0!==r&&n.append(t,r)}return n}t.PDFFetchStream=function(){function t(e){_classCallCheck(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(t,[{key:"getFullReader",value:function(){return(0,s.assert)(!this._fullRequestReader),this._fullRequestReader=new r(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;t=new a(this,e,t);return this._rangeRequestReaders.push(t),t}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach(function(e){e.cancel(t)})}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}}]),t}();var r=function(){function t(e){var a=this;_classCallCheck(this,t),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;e=e.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=l(this._stream.httpHeaders);var i=e.url;fetch(i,c(this._headers,this._withCredentials,this._abortController)).then(function(t){if(!(0,o.validateResponseStatus)(t.status))throw(0,o.createResponseStatusError)(t.status,i);a._reader=t.body.getReader(),a._headersCapability.resolve();function e(e){return t.headers.get(e)}var n=(0,o.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:a._stream.isHttp,rangeChunkSize:a._rangeChunkSize,disableRange:a._disableRange}),r=n.allowRangeRequests,n=n.suggestedLength;a._isRangeSupported=r,a._contentLength=n||a._contentLength,a._filename=(0,o.extractFilenameFromHeader)(e),!a._isStreamingSupported&&a._isRangeSupported&&a.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var e;return _createClass(t,[{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t,n;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=e.sent,t=n.value,n=n.done)return e.abrupt("return",{value:t,done:n});e.next=9;break;case 9:return this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),t}(),a=function(){function i(e,t,n){var r=this;_classCallCheck(this,i),this._stream=e,this._reader=null,this._loaded=0;e=e.source;this._withCredentials=e.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!e.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=l(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(t,"-").concat(n-1));var a=e.url;fetch(a,c(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,a);r._readCapability.resolve(),r._reader=e.body.getReader()}),this.onProgress=null}var e;return _createClass(i,[{key:"read",value:(e=_asyncToGenerator(_regeneratorRuntime.mark(function e(){var t,n;return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=e.sent,t=n.value,n=n.done)return e.abrupt("return",{value:t,done:n});e.next=9;break;case 9:return this._loaded+=t.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),i}()}],Rp={},Sp.m=Qp,Sp.c=Rp,Sp.d=function(e,t,n){Sp.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},Sp.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},Sp.t=function(t,e){if(1&e&&(t=Sp(t)),8&e)return t;if(4&e&&"object"===_typeof(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(Sp.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)Sp.d(n,r,function(e){return t[e]}.bind(null,r));return n},Sp.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Sp.d(t,"a",t),t},Sp.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Sp.p="",Sp(Sp.s=0);function Sp(e){if(Rp[e])return Rp[e].exports;var t=Rp[e]={i:e,l:!1,exports:{}};return Qp[e].call(t.exports,t,t.exports,Sp),t.l=!0,t.exports}var Qp,Rp},"object"===_typeof(exports)&&"object"===_typeof(module)?module.exports=Pp():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=Pp)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},10239:function(e,t,n){"use strict";var o=n(45559),s=n(82853),r=n(82147);t.dM=void 0;var c=n(85926);t.dM=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.eventBus,n=e.externalLinkTarget,r=void 0===n?null:n,a=e.externalLinkRel,n=void 0===a?null:a,a=e.externalLinkEnabled,a=void 0===a||a,e=e.ignoreDestinationZoom,e=void 0!==e&&e;s(this,i),this.eventBus=t||(0,c.getGlobalEventBus)(),this.externalLinkTarget=r,this.externalLinkRel=n,this.externalLinkEnabled=a,this._ignoreDestinationZoom=e,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return r(i,[{key:"setDocument",value:function(e){this.baseUrl=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"navigateTo",value:function(i){function s(e){var t,n=e.namedDest,r=e.explicitDest,a=r[0];if(a instanceof Object){if(null===(t=o._cachedPageNumber(a)))return void o.pdfDocument.getPageIndex(a).then(function(e){o.cachePageRef(e+1,a),s({namedDest:n,explicitDest:r})}).catch(function(){console.error('PDFLinkService.navigateTo: "'.concat(a,'" is not ')+'a valid page reference, for dest="'.concat(i,'".'))})}else{if(!Number.isInteger(a))return void console.error('PDFLinkService.navigateTo: "'.concat(a,'" is not ')+'a valid destination reference, for dest="'.concat(i,'".'));t=a+1}!t||t<1||t>o.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(t,'" is not ')+'a valid page number, for dest="'.concat(i,'".')):(o.pdfHistory&&(o.pdfHistory.pushCurrentPosition(),o.pdfHistory.push({namedDest:n,explicitDest:r,pageNumber:t})),o.pdfViewer.scrollPageIntoView({pageNumber:t,destArray:r,ignoreDestinationZoom:o._ignoreDestinationZoom}))}var o=this;new Promise(function(t,e){"string"!=typeof i?t({namedDest:"",explicitDest:i}):o.pdfDocument.getDestination(i).then(function(e){t({namedDest:i,explicitDest:e})})}).then(function(e){Array.isArray(e.explicitDest)?s(e):console.error('PDFLinkService.navigateTo: "'.concat(e.explicitDest,'" is')+' not a valid destination array, for dest="'.concat(i,'".'))})}},{key:"getDestinationHash",value:function(e){if("string"==typeof e)return this.getAnchorUrl("#"+escape(e));if(Array.isArray(e)){e=JSON.stringify(e);return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(e.includes("=")){var r,a,i,s=(0,c.parseQueryString)(e);"search"in s&&this.eventBus.dispatch("findfromurlhash",{source:this,query:s.search.replace(/"/g,""),phraseSearch:"true"===s.phrase}),"nameddest"in s?this.navigateTo(s.nameddest):("page"in s&&(t=0|s.page||1),"zoom"in s&&(a=(r=s.zoom.split(","))[0],i=parseFloat(a),a.includes("Fit")?"Fit"===a||"FitB"===a?n=[null,{name:a}]:"FitH"===a||"FitBH"===a||"FitV"===a||"FitBV"===a?n=[null,{name:a},1<r.length?0|r[1]:null]:"FitR"===a?5!==r.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:a},0|r[1],0|r[2],0|r[3],0|r[4]]:console.error('PDFLinkService.setHash: "'.concat(a,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},1<r.length?0|r[1]:null,2<r.length?0|r[2]:null,i?i/100:a]),n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),"pagemode"in s&&this.eventBus.dispatch("pagemode",{source:this,mode:s.pagemode}))}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(e){}"string"==typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length;if(t<2)return!1;var n=e[0];if(!("object"===o(n)&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&0<=n))return!1;n=e[1];if("object"!==o(n)||"string"!=typeof n.name)return!1;var r=!0;switch(n.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;r=!1;break;default:return!1}for(var a=2;a<t;a++){var i=e[a];if(!("number"==typeof i||r&&null===i))return!1}return!0}(n)?this.navigateTo(n):console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){switch(e){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.page<this.pagesCount&&this.page++;break;case"PrevPage":1<this.page&&this.page--;break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){t&&(t=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen),this._pagesRefCache[t]=e)}},{key:"_cachedPageNumber",value:function(e){e=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return this._pagesRefCache&&this._pagesRefCache[e]||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}}]),i}()},85926:function(e,t,n){"use strict";var i=n(82853),r=n(82147),l=n(45559),s=n(61432),a=n(28129),o=n(68357);Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(c).includes(e)&&e!==c.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(u).includes(e)&&e!==u.UNKNOWN},t.isPortraitOrientation=function(e){return e.width<=e.height},t.getGlobalEventBus=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];console.error("getGlobalEventBus is deprecated, use a manually created EventBus instance instead."),f=f||new p({dispatchToDOM:e});return f},t.clamp=g,t.getPDFFileNameFromURL=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(function(e){var t=0,n=e.length;for(;t<n&&""===e[t].trim();)t++;return"data:"===e.substring(t,t+5).toLowerCase()}(e))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),t;var n=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i,e=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e),e=n.exec(e[1])||n.exec(e[2])||n.exec(e[3]);if(e&&(e=e[0]).includes("%"))try{e=n.exec(decodeURIComponent(e))[0]}catch(e){}return e||t},t.noContextMenuHandler=function(e){e.preventDefault()},t.parseQueryString=function(e){for(var t=e.split("&"),n=Object.create(null),r=0,a=t.length;r<a;++r){var i=t[r].split("="),s=i[0].toLowerCase(),i=1<i.length?i[1]:null;n[decodeURIComponent(s)]=decodeURIComponent(i)}return n},t.backtrackBeforeAllVisibleElements=A,t.getVisibleElements=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=e.scrollTop,i=a+e.clientHeight,s=e.scrollLeft,o=s+e.clientWidth;var c=[],l=t.length,u=0===l?0:b(t,r?function(e){return e=(e=e.div).offsetLeft+e.clientLeft+e.clientWidth,s<e}:function(e){return e=(e=e.div).offsetTop+e.clientTop+e.clientHeight,a<e});0<u&&u<l&&!r&&(u=A(u,t,a));for(var h=r?o:-1,d=u;d<l;d++){var p=t[d],f=p.div,g=f.offsetLeft+f.clientLeft,v=f.offsetTop+f.clientTop,m=f.clientWidth,y=f.clientHeight,_=g+m,f=v+y;if(-1===h)i<=f&&(h=f);else if(h<(r?g:v))break;f<=a||i<=v||_<=s||o<=g||(f=Math.max(0,a-v)+Math.max(0,f-i),_=Math.max(0,s-g)+Math.max(0,_-o),m=(y-f)*(m-_)*100/y/m|0,c.push({id:p.id,x:g,y:v,view:p,percent:m}))}e=c[0],u=c[c.length-1];n&&c.sort(function(e,t){var n=e.percent-t.percent;return.001<Math.abs(n)?-n:e.id-t.id});return{first:e,last:u,views:c}},t.roundToDivide=function(e,t){var n=e%t;return 0==n?e:Math.round(e-n+t)},t.getPageSizeInches=function(e){var t=e.view,n=e.userUnit,r=e.rotate,a=s(t,4),i=a[0],e=a[1],t=a[2],a=a[3],r=r%180!=0,i=(t-i)/72*n,n=(a-e)/72*n;return{width:r?n:i,height:r?i:n}},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;{if(8<t)return[1,8];if(Math.floor(t)===t)return[1,t]}var n=1<e?t:e,r=0,a=1,i=1,s=1;for(;;){var o=r+i,c=a+s;if(8<c)break;n<=o/c?(i=o,s=c):(r=o,a=c)}e=n-r/a<i/s-n?n===e?[r,a]:[a,r]:n===e?[i,s]:[s,i];return e},t.getOutputScale=function(e){var t=window.devicePixelRatio||1,e=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,e=t/e;return{sx:e,sy:e,scaled:1!=e}},t.scrollIntoView=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(r){for(var a=e.offsetTop+e.clientTop,i=e.offsetLeft+e.clientLeft;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&"hidden"===getComputedStyle(r).overflow;)if(r.dataset._scaleY&&(a/=r.dataset._scaleY,i/=r.dataset._scaleX),a+=r.offsetTop,i+=r.offsetLeft,!(r=r.offsetParent))return;t&&(void 0!==t.top&&(a+=t.top),void 0!==t.left&&(i+=t.left,r.scrollLeft=i)),r.scrollTop=a}else console.error("offsetParent is not set -- cannot scroll")},t.watchScroll=function(n,r){function e(e){i=i||window.requestAnimationFrame(function(){i=null;var e=n.scrollLeft,t=a.lastX;e!==t&&(a.right=t<e),a.lastX=e;t=n.scrollTop,e=a.lastY;t!==e&&(a.down=e<t),a.lastY=t,r(a)})}var a={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:e},i=null;return n.addEventListener("scroll",e,!0),a},t.binarySearchFirstItem=b,t.normalizeWheelEventDelta=function(e){var t=Math.sqrt(e.deltaX*e.deltaX+e.deltaY*e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t);0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30);return t},t.waitOnEventOrTimeout=function(e){var s=e.target,o=e.name,e=e.delay,c=void 0===e?0:e;return new Promise(function(t,e){if("object"!==l(s)||!o||"string"!=typeof o||!(Number.isInteger(c)&&0<=c))throw new Error("waitOnEventOrTimeout - invalid parameters.");function n(e){s instanceof p?s._off(o,r):s.removeEventListener(o,r),i&&clearTimeout(i),t(e)}var r=n.bind(null,h.EVENT);s instanceof p?s._on(o,r):s.addEventListener(o,r);var a=n.bind(null,h.TIMEOUT),i=setTimeout(a,c)})},t.moveToEndOfArray=function(e,t){for(var n=[],r=e.length,a=0,i=0;i<r;++i)t(e[i])?n.push(e[i]):(e[a]=e[i],++a);for(var s=0;a<r;++s,++a)e[a]=n[s]},t.WaitOnType=t.animationStarted=t.ProgressBar=t.EventBus=t.NullL10n=t.SpreadMode=t.ScrollMode=t.TextLayerMode=t.RendererType=t.PresentationModeState=t.VERTICAL_PADDING=t.SCROLLBAR_PADDING=t.MAX_AUTO_SCALE=t.UNKNOWN_SCALE=t.MAX_SCALE=t.MIN_SCALE=t.DEFAULT_SCALE=t.DEFAULT_SCALE_VALUE=t.CSS_UNITS=t.AutoPrintRegExp=void 0;t.CSS_UNITS=96/72;t.DEFAULT_SCALE_VALUE="auto";t.DEFAULT_SCALE=1;t.MIN_SCALE=.1;t.MAX_SCALE=10;t.UNKNOWN_SCALE=0;t.MAX_AUTO_SCALE=1.25;t.SCROLLBAR_PADDING=40;t.VERTICAL_PADDING=5;t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};t.RendererType={CANVAS:"canvas",SVG:"svg"};t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var c={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=c;var u={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=u;function b(e,t){var n=0,r=e.length-1;if(0===e.length||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var a=n+r>>1;t(e[a])?r=a:n=1+a}return n}function A(e,t,n){if(e<2)return e;var r=t[e].div,a=r.offsetTop+r.clientTop;n<=a&&(a=(r=t[e-1].div).offsetTop+r.clientTop);for(var i=e-2;0<=i&&!((r=t[i].div).offsetTop+r.clientTop+r.clientHeight<=a);--i)e=i;return e}t.AutoPrintRegExp=/\bprint\s*\(/,t.NullL10n={getLanguage:function(){return o(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}},e)}))()},getDirection:function(){return o(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}},e)}))()},get:function(e,t,n){return o(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",function(e,n){return n?e.replace(/\{\{\s*(\w+)\s*\}\}/g,function(e,t){return t in n?n[t]:"{{"+t+"}}"}):e}(n,t));case 1:case"end":return e.stop()}},e)}))()},translate:function(e){return o(a.mark(function e(){return a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}};var h={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=h;n=new Promise(function(e){window.requestAnimationFrame(e)});function d(e,t){var t=1<arguments.length&&void 0!==t?t:null,n=Object.create(null);if(t&&0<t.length){var r,a=t[0];for(r in a){var i=a[r];if("source"!==r)n[r]=i;else if(i===window||i===document)return}}t=document.createEvent("CustomEvent");t.initCustomEvent(e,!0,!0,n),document.dispatchEvent(t)}t.animationStarted=n;var p=function(){function t(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).dispatchToDOM,e=void 0!==e&&e;i(this,t),this._listeners=Object.create(null),this._dispatchToDOM=!0===e,e&&console.error("The `eventBusDispatchToDOM` option/preference is deprecated, add event listeners to the EventBus instance rather than the DOM.")}return r(t,[{key:"on",value:function(e,t){this._on(e,t,{external:!0})}},{key:"off",value:function(e,t){this._off(e,t,{external:!0})}},{key:"dispatch",value:function(e){var n,r,t=this._listeners[e];t&&0!==t.length?(n=Array.prototype.slice.call(arguments,1),t.slice(0).forEach(function(e){var t=e.listener;e.external?(r=r||[]).push(t):t.apply(null,n)}),r&&(r.forEach(function(e){e.apply(null,n)}),r=null),this._dispatchToDOM&&d(e,n)):this._dispatchToDOM&&d(e,Array.prototype.slice.call(arguments,1))}},{key:"_on",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=this._listeners[e];r||(this._listeners[e]=r=[]),r.push({listener:t,external:!0===(n&&n.external)})}},{key:"_off",value:function(e,t){var n=this._listeners[e];if(n)for(var r=0,a=n.length;r<a;r++)if(n[r].listener===t)return void n.splice(r,1)}}]),t}();t.EventBus=p;var f=null;function g(e,t,n){return Math.min(Math.max(e,t),n)}t.ProgressBar=function(){function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.height,r=t.width,t=t.units;i(this,a),this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=n||100,this.width=r||100,this.units=t||"%",this.div.style.height=this.height+this.units,this.percent=0}return r(a,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var e=this.width*this._percent/100;this.div.style.width=e+this.units}},{key:"setWidth",value:function(e){!e||0<(e=e.parentNode.offsetWidth-e.offsetWidth)&&(this.bar.style.width="calc(100% - ".concat(e,"px)"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(e){this._indeterminate=isNaN(e),this._percent=g(e,0,100),this._updateBar()}}]),a}()},42546:function(e,t,n){"use strict";var r=n(68922),r=n.n(r)()(function(e){return e[1]});r.push([e.id,'/* Copyright 2014 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n.annotationLayer section {\n  position: absolute;\n}\n\n.annotationLayer .linkAnnotation > a,\n.annotationLayer .buttonWidgetAnnotation.pushButton > a {\n  position: absolute;\n  font-size: 1em;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.annotationLayer .linkAnnotation > a:hover,\n.annotationLayer .buttonWidgetAnnotation.pushButton > a:hover {\n  opacity: 0.2;\n  background: #ff0;\n  box-shadow: 0px 2px 10px #ff0;\n}\n\n.annotationLayer .textAnnotation img {\n  position: absolute;\n  cursor: pointer;\n}\n\n.annotationLayer .textWidgetAnnotation input,\n.annotationLayer .textWidgetAnnotation textarea,\n.annotationLayer .choiceWidgetAnnotation select,\n.annotationLayer .buttonWidgetAnnotation.checkBox input,\n.annotationLayer .buttonWidgetAnnotation.radioButton input {\n  background-color: rgba(0, 54, 255, 0.13);\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  font-size: 9px;\n  height: 100%;\n  margin: 0;\n  padding: 0 3px;\n  vertical-align: top;\n  width: 100%;\n}\n\n.annotationLayer .choiceWidgetAnnotation select option {\n  padding: 0;\n}\n\n.annotationLayer .buttonWidgetAnnotation.radioButton input {\n  border-radius: 50%;\n}\n\n.annotationLayer .textWidgetAnnotation textarea {\n  font: message-box;\n  font-size: 9px;\n  resize: none;\n}\n\n.annotationLayer .textWidgetAnnotation input[disabled],\n.annotationLayer .textWidgetAnnotation textarea[disabled],\n.annotationLayer .choiceWidgetAnnotation select[disabled],\n.annotationLayer .buttonWidgetAnnotation.checkBox input[disabled],\n.annotationLayer .buttonWidgetAnnotation.radioButton input[disabled] {\n  background: none;\n  border: 1px solid transparent;\n  cursor: not-allowed;\n}\n\n.annotationLayer .textWidgetAnnotation input:hover,\n.annotationLayer .textWidgetAnnotation textarea:hover,\n.annotationLayer .choiceWidgetAnnotation select:hover,\n.annotationLayer .buttonWidgetAnnotation.checkBox input:hover,\n.annotationLayer .buttonWidgetAnnotation.radioButton input:hover {\n  border: 1px solid #000;\n}\n\n.annotationLayer .textWidgetAnnotation input:focus,\n.annotationLayer .textWidgetAnnotation textarea:focus,\n.annotationLayer .choiceWidgetAnnotation select:focus {\n  background: none;\n  border: 1px solid transparent;\n}\n\n.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,\n.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after,\n.annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before {\n  background-color: #000;\n  content: \'\';\n  display: block;\n  position: absolute;\n}\n\n.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before,\n.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after {\n  height: 80%;\n  left: 45%;\n  width: 1px;\n}\n\n.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before {\n  transform: rotate(45deg);\n}\n\n.annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after {\n  transform: rotate(-45deg);\n}\n\n.annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before {\n  border-radius: 50%;\n  height: 50%;\n  left: 30%;\n  top: 20%;\n  width: 50%;\n}\n\n.annotationLayer .textWidgetAnnotation input.comb {\n  font-family: monospace;\n  padding-left: 2px;\n  padding-right: 0;\n}\n\n.annotationLayer .textWidgetAnnotation input.comb:focus {\n  /*\n   * Letter spacing is placed on the right side of each character. Hence, the\n   * letter spacing of the last character may be placed outside the visible\n   * area, causing horizontal scrolling. We avoid this by extending the width\n   * when the element has focus and revert this when it loses focus.\n   */\n  width: 115%;\n}\n\n.annotationLayer .buttonWidgetAnnotation.checkBox input,\n.annotationLayer .buttonWidgetAnnotation.radioButton input {\n  appearance: none;\n  padding: 0;\n}\n\n.annotationLayer .popupWrapper {\n  position: absolute;\n  width: 20em;\n}\n\n.annotationLayer .popup {\n  position: absolute;\n  z-index: 200;\n  max-width: 20em;\n  background-color: #FFFF99;\n  box-shadow: 0px 2px 5px #888;\n  border-radius: 2px;\n  padding: 6px;\n  margin-left: 5px;\n  cursor: pointer;\n  font: message-box;\n  font-size: 9px;\n  word-wrap: break-word;\n}\n\n.annotationLayer .popup > * {\n  font-size: 9px;\n}\n\n.annotationLayer .popup h1 {\n  display: inline-block;\n}\n\n.annotationLayer .popup span {\n  display: inline-block;\n  margin-left: 5px;\n}\n\n.annotationLayer .popup p {\n  border-top: 1px solid #333;\n  margin-top: 2px;\n  padding-top: 2px;\n}\n\n.annotationLayer .highlightAnnotation,\n.annotationLayer .underlineAnnotation,\n.annotationLayer .squigglyAnnotation,\n.annotationLayer .strikeoutAnnotation,\n.annotationLayer .freeTextAnnotation,\n.annotationLayer .lineAnnotation svg line,\n.annotationLayer .squareAnnotation svg rect,\n.annotationLayer .circleAnnotation svg ellipse,\n.annotationLayer .polylineAnnotation svg polyline,\n.annotationLayer .polygonAnnotation svg polygon,\n.annotationLayer .caretAnnotation,\n.annotationLayer .inkAnnotation svg polyline,\n.annotationLayer .stampAnnotation,\n.annotationLayer .fileAttachmentAnnotation {\n  cursor: pointer;\n}\n',""]),t.Z=r},9094:function(e,t,n){"use strict";var r=n(93379),a=n.n(r),r=n(42546),n={insert:"head",singleton:!1};a()(r.Z,n),r.Z.locals}}]);