(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[41072],{59340:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(61432),f=n.n(r),t=n(56156),a=n.n(t),r=n(51265),d=n.n(r),t=n(20305),l=n.n(t),h=n(78709),v=n(49073),i=n(82186),E=n(96282),s=n(41713),o=n(73772),c=n(88325),Z=n(33395),b=n(86926),y=n(92466),x=n(64297),N=n(70888),w=n(48258),r=n(40962),t=n(85053),u=n.n(t),t=n(87638),g=n.n(t),S=n(28344),p=n(65129),t=n(58905),P=n.n(t),k=n(58913),n=n(55110);function m(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function C(e){var t=e.variant,n=e.classes,r=e.inputRef,a=void 0===r?function(){}:r,s=e.ref,e=l()(e,["variant","classes","inputRef","ref"]);return h.createElement("div",{className:"w-full relative"},"basic"===t?h.createElement(h.Fragment,null,h.createElement(i.Z,d()({fullWidth:!0,InputProps:{inputRef:function(e){s(e),a(e)},classes:{input:(0,S.Z)(n.input,"py-0 px-16 h-48 ltr:pr-48 rtl:pl-48"),notchedOutline:"rounded-8"}},variant:"outlined"},e)),h.createElement(E.Z,{className:"absolute top-0 ltr:right-0 rtl:left-0 h-48 w-48 p-12 pointer-events-none",color:"action"},"search")):h.createElement(i.Z,d()({fullWidth:!0,InputProps:{disableUnderline:!0,inputRef:function(e){s(e),a(e)},classes:{input:(0,S.Z)(n.input,"py-0 px-16 h-64")}},variant:"standard"},e)))}function j(e,t){var n=t.query,t=t.isHighlighted,n=u()(e.title,n),n=g()(e.title,n);return h.createElement(s.Z,{selected:t,component:"div"},h.createElement(o.Z,{className:"min-w-40"},e.icon?h.createElement(E.Z,null,e.icon):h.createElement("span",{className:"text-20 w-24 font-bold uppercase text-center"},e.title[0])),h.createElement(c.Z,{primary:n.map(function(e,t){return e.highlight?h.createElement("span",{key:String(t),style:{fontWeight:600}},e.text):h.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)})}))}function T(e){return e.title}var L=(0,r.Z)(function(e){return{root:{},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing(),left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"},input:{transition:e.transitions.create(["background-color"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.short}),"&:focus":{backgroundColor:e.palette.background.paper}}}}),D={searchText:"",search:!1,navigation:null,suggestions:[],noSuggestions:!1};function F(e,t){switch(t.type){case"open":return O(O({},e),{},{opened:!0});case"close":return O(O({},e),{},{opened:!1,searchText:""});case"setSearchText":return O(O({},e),{},{searchText:t.value});case"setNavigation":return O(O({},e),{},{navigation:t.value});case"updateSuggestions":n=(n=t.value,r=e.navigation,n=(a=p.Z.deburr(n.trim()).toLowerCase()).length,(s=0)===n?[]:r.filter(function(e){e=s<10&&0<u()(e.title,a).length;return e&&(s+=1),e})),r=!(""===t.value.trim())&&0===n.length;return O(O({},e),{},{suggestions:n,noSuggestions:r});case"clearSuggestions":return O(O({},e),{},{suggestions:[],noSuggestions:!1});case"decrement":return{count:e.count-1};default:throw new Error}var n,r,a,s}function R(n){var t=(0,k.v9)(function(e){return e.auth.user.role}),e=(0,k.v9)(function(e){return e.fuse.navigation}),r=(0,h.useReducer)(F,D),r=f()(r,2),a=r[0],s=r[1],l=L(n),i=(0,h.useRef)(null),o=(0,h.useRef)(null);function c(){s({type:"open"}),document.addEventListener("keydown",g,!1)}function u(){s({type:"close"}),document.removeEventListener("keydown",g,!1)}function g(e){27===e.keyCode&&u()}function p(e){s({type:"setSearchText",value:e.target.value})}(0,h.useEffect)(function(){s({type:"setNavigation",value:v.Z.getFlatNavigation(e).filter(function(e){return v.Z.hasPermission(e.auth,t)})})},[t,e]);var m={renderInputComponent:C,highlightFirstSuggestion:!0,suggestions:a.suggestions,onSuggestionsFetchRequested:function(e){e=e.value,s({type:"updateSuggestions",value:e})},onSuggestionsClearRequested:function(){s({type:"clearSuggestions"})},onSuggestionSelected:function(e,t){t=t.suggestion,e.preventDefault(),e.stopPropagation(),t.url&&(n.history.push(t.url),u())},getSuggestionValue:T,renderSuggestion:j};switch(n.variant){case"basic":return h.createElement("div",{className:(0,S.Z)("flex items-center w-full",n.className),ref:o},h.createElement(P(),d()({},m,{inputProps:{variant:n.variant,classes:l,placeholder:"Search",value:a.searchText,onChange:p,onFocus:c,InputLabelProps:{shrink:!0},autoFocus:!1},theme:{container:"flex flex-1 w-full",suggestionsList:l.suggestionsList,suggestion:l.suggestion},renderSuggestionsContainer:function(e){return h.createElement(Z.Z,{anchorEl:o.current,open:Boolean(e.children)||a.noSuggestions,popperOptions:{positionFixed:!0},className:"z-9999"},h.createElement("div",{ref:i},h.createElement(b.Z,d()({elevation:1,square:!0},e.containerProps,{style:{width:o.current?o.current.clientWidth:null}}),e.children,a.noSuggestions&&h.createElement(y.Z,{className:"px-16 py-12"},"No results.."))))}})));case"full":return h.createElement("div",{className:(0,S.Z)(l.root,"flex",n.className)},h.createElement(x.ZP,{title:"Click to search",placement:"bottom"},h.createElement("div",{onClick:c,onKeyDown:c,role:"button",tabIndex:0},n.trigger)),a.opened&&h.createElement(N.Z,{onClickAway:function(e){return(!i.current||!i.current.contains(e.target))&&u()}},h.createElement(b.Z,{className:"absolute left-0 right-0 h-full z-9999",square:!0},h.createElement("div",{className:"flex items-center w-full",ref:o},h.createElement(P(),d()({},m,{inputProps:{classes:l,placeholder:"Search",value:a.searchText,onChange:p,InputLabelProps:{shrink:!0},autoFocus:!0},theme:{container:"flex flex-1 w-full",suggestionsList:l.suggestionsList,suggestion:l.suggestion},renderSuggestionsContainer:function(e){return h.createElement(Z.Z,{anchorEl:o.current,open:Boolean(e.children)||a.noSuggestions,popperOptions:{positionFixed:!0},className:"z-9999"},h.createElement("div",{ref:i},h.createElement(b.Z,d()({elevation:1,square:!0},e.containerProps,{style:{width:o.current?o.current.clientWidth:null}}),e.children,a.noSuggestions&&h.createElement(y.Z,{className:"px-16 py-12"},"No results.."))))}})),h.createElement(w.Z,{onClick:u,className:"mx-8"},h.createElement(E.Z,null,"close"))))));default:return null}}R.propTypes={},R.defaultProps={trigger:h.createElement(w.Z,{className:"w-64 h-64"},h.createElement(E.Z,null,"search")),variant:"full"};var I=(0,n.EN)(h.memo(R))},41072:function(e,t,n){"use strict";n.r(t);var r=n(78709),a=n(32986),s=n(28344),l=n(58913),i=n(59340),o=n(84403),c=n(95272),u=n(27349),g=n(40962),p=n(96450),m=(0,a.ZP)(function(){return n.e(92230).then(n.bind(n,92230))}),f=(0,a.ZP)(function(){return n.e(40641).then(n.bind(n,40641))}),d=(0,a.ZP)(function(){return n.e(9247).then(n.bind(n,9247))}),h=(0,a.ZP)(function(){return n.e(49317).then(n.bind(n,49317))}),v=(0,a.ZP)(function(){return n.e(53897).then(n.bind(n,76131))}),E=(0,a.ZP)(function(){return n.e(84098).then(n.bind(n,50717))}),Z=(0,g.Z)(function(e){return{separator:{width:1,height:64,backgroundColor:e.palette.divider}}});function b(e){var t=(0,l.v9)(function(e){return e.fuse.settings.current.layout.config}),n=(0,l.v9)(function(e){return e.fuse.settings.toolbarTheme}),e=Z(e);return r.createElement(p.Z,{theme:n},r.createElement(o.Z,{id:"fuse-toolbar",className:"flex relative z-10",color:"default",style:{backgroundColor:n.palette.background.default}},r.createElement(c.Z,{className:"container p-0 lg:px-24"},t.navbar.display&&r.createElement(u.Z,{lgUp:!0},r.createElement(f,{className:"w-64 h-64 p-0"}),r.createElement("div",{className:e.separator})),r.createElement(u.Z,{mdDown:!0},r.createElement("div",{className:(0,s.Z)("flex flex-shrink-0 items-center")},r.createElement(h,null))),r.createElement("div",{className:"flex flex-1"},r.createElement(u.Z,{xsDown:!0},r.createElement(i.Z,{className:"mx-16 lg:mx-24",variant:"basic"}))),r.createElement("div",{className:"flex"},r.createElement(u.Z,{smUp:!0},r.createElement(i.Z,null),r.createElement("div",{className:e.separator})),r.createElement(v,null),r.createElement(u.Z,{lgUp:!0},r.createElement("div",{className:e.separator}),r.createElement(m,null)),r.createElement("div",{className:e.separator}),r.createElement(E,null),r.createElement("div",{className:e.separator}),r.createElement(d,null),r.createElement(u.Z,{mdDown:!0},r.createElement("div",{className:e.separator}))))))}t.default=r.memo(b)}}]);