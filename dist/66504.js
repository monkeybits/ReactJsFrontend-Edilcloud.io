(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[66504],{92505:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var t=n(56156),a=n.n(t),t=n(20305),r=n.n(t),t=n(51265),l=n.n(t),i=n(78709),t=n(40962),o=n(389),c=n(92466),s=n(82186),u=n(41713),m=n(23610),d=n(86926),p=n(28344),f=n(67485),h=n(94435);function g(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}var b=(0,t.Z)(function(e){return{root:{"& .fuse-chip-select__input":{color:e.palette.text.primary},"&.standard":{"& $placeholder":{},"& $valueContainer":{paddingTop:4}},"&.filled":{"& $placeholder":{left:12},"& $valueContainer":{paddingTop:24,paddingLeft:12},"& $chip":{border:"1px solid rgba(0, 0, 0, 0.12)"}},"&.outlined":{"& $placeholder":{left:12},"& $valueContainer":{paddingLeft:12,paddingTop:12}}},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",paddingBottom:4,paddingTop:12,minHeight:40},chip:{margin:"4px 4px 4px 0"},chipFocused:{backgroundColor:(0,o.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing(),"px ").concat(e.spacing(2),"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:0,fontSize:16,margin:0},paper:{position:"absolute",zIndex:2,marginTop:e.spacing(),left:0,right:0},divider:{height:e.spacing(2)}}});function v(e){var t=e.inputRef,e=r()(e,["inputRef"]);return i.createElement("div",l()({ref:t},e))}var E={Control:function(e){var t=b();return i.createElement(s.Z,l()({fullWidth:!0,className:(0,p.Z)(t.root,e.selectProps.textFieldProps.variant),required:e.selectProps.required,error:e.selectProps.error,InputProps:{inputComponent:v,inputProps:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({className:t.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){var t=b();return i.createElement(d.Z,l()({square:!0,className:t.paper},e.innerProps),e.children)},MultiValue:function(t){var e=b();return i.createElement(m.Z,{tabIndex:-1,label:t.children,className:(0,p.Z)(e.chip,a()({},e.chipFocused,t.isFocused),t.data.class),onDelete:function(e){t.removeProps.onClick(),t.removeProps.onMouseDown(e)}})},NoOptionsMessage:function(e){var t=b();return i.createElement(c.Z,l()({color:"textSecondary",className:t.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return i.createElement(u.Z,l()({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?600:400}},e.innerProps),e.children)},Placeholder:function(e){var t=b();return i.createElement(c.Z,l()({color:"textSecondary",className:t.placeholder},e.innerProps),e.children)},SingleValue:function(e){var t=b();return i.createElement(c.Z,l()({className:t.singleValue},e.innerProps),e.children)},ValueContainer:function(e){var t=b();return i.createElement("div",{className:t.valueContainer},e.children)}};function y(t){function e(e){null===e&&(e=[]),t.onChange&&t.onChange(e)}return"fixed"===t.variant?i.createElement(f.ZP,l()({classNamePrefix:"fuse-chip-select"},t,{components:E,onChange:e})):i.createElement(h.ZP,l()({classNamePrefix:"fuse-chip-select"},t,{components:E,onChange:e}))}var x=i.memo(y)},6182:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var t=n(61432),r=n.n(t),l=n(35923),i=n(29796),o=n(92466),t=n(16526),t=n.n(t),c=n(78709);function a(e){var t=(0,c.useState)(!e.delay),n=r()(t,2),t=n[0],a=n[1];return(0,l.KS)(function(){a(!0)},e.delay),t?c.createElement("div",{className:"flex flex-1 flex-col items-center justify-center"},c.createElement(o.Z,{className:"text-20 mb-16",color:"textSecondary"},"Sto caricando.."),c.createElement(i.Z,{className:"w-xs",color:"secondary"})):null}a.propTypes={delay:t().oneOfType([t().number,t().bool])},a.defaultProps={delay:!1};var s=a},35923:function(e,t,n){"use strict";n.d(t,{Nr:function(){return r},KW:function(){return f},cI:function(){return a},KS:function(){return l},rf:function(){return i}});var t=n(56156),c=n.n(t),t=n(61432),s=n.n(t),u=n(65129),m=n(78709);function d(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}var a=function(e,t){var n=(0,m.useState)(e),a=(o=s()(n,2))[0],r=o[1],l=(0,m.useCallback)(function(t){t.persist(),r(function(e){return u.Z.setIn(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach(function(e){c()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e),t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value)})},[]),i=(0,m.useCallback)(function(){u.Z.isEqual(e,a)||r(e)},[a,e]),n=(0,m.useCallback)(function(t,n){r(function(e){return u.Z.setIn(e,t,n)})},[]),o=(0,m.useCallback)(function(e){e&&e.preventDefault(),t&&t()},[t]);return{form:a,handleChange:l,handleSubmit:o,resetForm:i,setForm:r,setInForm:n}};var r=function(e,t,n){return(0,m.useRef)(u.Z.debounce(e,t,n)).current};var l=function(t,n){var a=(0,m.useRef)(t);(0,m.useEffect)(function(){a.current=t},[t]),(0,m.useEffect)(function(){var e;return n&&t&&"function"==typeof t&&(e=setTimeout(a.current,n||0)),function(){e&&clearTimeout(e)}},[t,n])};var i=function(e,t){var n=(0,m.useRef)(!0);(0,m.useEffect)(n.current?function(){n.current=!1}:e,t)},t=(n(45559),n(89962)),o=n.n(t);function p(e){var t=m.useRef();return o()(e,t.current)||(t.current=e),t.current}var f=function(e,t){m.useEffect(e,p(t))}},66504:function(e,t,n){"use strict";n.r(t);var a=n(79545),p=n.n(a),r=n(56156),l=n.n(r),a=n(61432),f=n.n(a),h=n(42401),g=n(92505),b=n(6182),v=n(5078),E=n(35923),y=n(49073),x=n(65129),Z=n(92466),w=n(96282),P=n(13786),O=n(20103),N=n(82707),I=n(82186),C=n(92571),i=n(80029),r=n(40962),j=n(58626),a=n(97692),S=n(28344),F=n(78709),k=n(58913),T=n(55110),D=n(12707),W=n(47467),n=n(87121);function o(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){l()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var $=(0,r.Z)(function(e){return{productImageFeaturedStar:{position:"absolute",top:0,right:0,color:i.Z[400],opacity:0},productImageUpload:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut},productImageItem:{transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,"&:hover":{"& $productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:e.shadows[3],"& $productImageFeaturedStar":{opacity:1},"&:hover $productImageFeaturedStar":{opacity:1}}}}});t.default=(0,a.Z)("eCommerceApp",n.Z)(function(e){var t=(0,k.I0)(),n=(0,k.v9)(function(e){return e.eCommerceApp.product}),a=(0,j.Z)(),r=$(e),l=(0,F.useState)(0),e=(c=f()(l,2))[0],i=c[1],o=(l=(0,E.cI)(null)).form,c=l.handleChange,s=l.setForm,u=(0,T.UO)();function m(e,t){s(x.Z.set(R({},o),t,e.map(function(e){return e.value})))}function d(e){s(x.Z.set(R({},o),"featuredImageId",e))}return(0,E.KW)(function(){var e;e=u.productId,t("new"===e?W.AC():W.wv(u))},[t,u]),(0,F.useEffect)(function(){(n.data&&!o||n.data&&o&&n.data.id!==o.id)&&s(n.data)},[o,n.data,s]),(!n.data||n.data&&u.productId!==n.data.id)&&"new"!==u.productId?F.createElement(b.Z,null):F.createElement(v.Z,{classes:{toolbar:"p-0",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:o&&F.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},F.createElement("div",{className:"flex flex-col items-start max-w-full"},F.createElement(h.Z,{animation:"transition.slideRightIn",delay:300},F.createElement(Z.Z,{className:"normal-case flex items-center sm:mb-12",component:D.rU,role:"button",to:"/apps/e-commerce/products",color:"inherit"},F.createElement(w.Z,{className:"text-20"},"ltr"===a.direction?"arrow_back":"arrow_forward"),F.createElement("span",{className:"mx-4"},"Products"))),F.createElement("div",{className:"flex items-center max-w-full"},F.createElement(h.Z,{animation:"transition.expandIn",delay:300},0<o.images.length&&o.featuredImageId?F.createElement("img",{className:"w-32 sm:w-48 rounded",src:x.Z.find(o.images,{id:o.featuredImageId}).url,alt:o.name}):F.createElement("img",{className:"w-32 sm:w-48 rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:o.name})),F.createElement("div",{className:"flex flex-col min-w-0 mx-8 sm:mc-16"},F.createElement(h.Z,{animation:"transition.slideLeftIn",delay:300},F.createElement(Z.Z,{className:"text-16 sm:text-20 truncate"},o.name||"New Product")),F.createElement(h.Z,{animation:"transition.slideLeftIn",delay:300},F.createElement(Z.Z,{variant:"caption"},"Product Detail"))))),F.createElement(h.Z,{animation:"transition.slideRightIn",delay:300},F.createElement(P.Z,{className:"whitespace-no-wrap normal-case",variant:"contained",color:"secondary",disabled:!(0<o.name.length&&!x.Z.isEqual(n.data,o)),onClick:function(){return t(W.gg(o))}},"Save"))),contentToolbar:F.createElement(O.Z,{value:e,onChange:function(e,t){i(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64"}},F.createElement(N.Z,{className:"h-64 normal-case",label:"Basic Info"}),F.createElement(N.Z,{className:"h-64 normal-case",label:"Product Images"}),F.createElement(N.Z,{className:"h-64 normal-case",label:"Pricing"}),F.createElement(N.Z,{className:"h-64 normal-case",label:"Inventory"}),F.createElement(N.Z,{className:"h-64 normal-case",label:"Shipping"})),content:o&&F.createElement("div",{className:"p-16 sm:p-24 max-w-2xl"},0===e&&F.createElement("div",null,F.createElement(I.Z,{className:"mt-8 mb-16",error:""===o.name,required:!0,label:"Name",autoFocus:!0,id:"name",name:"name",value:o.name,onChange:c,variant:"outlined",fullWidth:!0}),F.createElement(I.Z,{className:"mt-8 mb-16",id:"description",name:"description",onChange:c,label:"Description",type:"text",value:o.description,multiline:!0,rows:5,variant:"outlined",fullWidth:!0}),F.createElement(g.default,{className:"mt-8 mb-24",value:o.categories.map(function(e){return{value:e,label:e}}),onChange:function(e){return m(e,"categories")},placeholder:"Select multiple categories",textFieldProps:{label:"Categories",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0}),F.createElement(g.default,{className:"mt-8 mb-16",value:o.tags.map(function(e){return{value:e,label:e}}),onChange:function(e){return m(e,"tags")},placeholder:"Select multiple tags",textFieldProps:{label:"Tags",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0})),1===e&&F.createElement("div",null,F.createElement("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-8"},F.createElement("label",{htmlFor:"button-file",className:(0,S.Z)(r.productImageUpload,"flex items-center justify-center relative w-128 h-128 rounded-4 mx-8 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5")},F.createElement("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(e){var t,n=e.target.files[0];n&&((t=new FileReader).readAsBinaryString(n),t.onload=function(){s(x.Z.set(R({},o),"images",[{id:y.Z.generateGUID(),url:"data:".concat(n.type,";base64,").concat(btoa(t.result)),type:"image"}].concat(p()(o.images))))},t.onerror=function(){})}}),F.createElement(w.Z,{fontSize:"large",color:"action"},"cloud_upload")),o.images.map(function(e){return F.createElement("div",{onClick:function(){return d(e.id)},onKeyDown:function(){return d(e.id)},role:"button",tabIndex:0,className:(0,S.Z)(r.productImageItem,"flex items-center justify-center relative w-128 h-128 rounded-4 mx-8 mb-16 overflow-hidden cursor-pointer shadow-1 hover:shadow-5",e.id===o.featuredImageId&&"featured"),key:e.id},F.createElement(w.Z,{className:r.productImageFeaturedStar},"star"),F.createElement("img",{className:"max-w-none w-auto h-full",src:e.url,alt:"product"}))}))),2===e&&F.createElement("div",null,F.createElement(I.Z,{className:"mt-8 mb-16",label:"Tax Excluded Price",id:"priceTaxExcl",name:"priceTaxExcl",value:o.priceTaxExcl,onChange:c,InputProps:{startAdornment:F.createElement(C.Z,{position:"start"},"$")},type:"number",variant:"outlined",autoFocus:!0,fullWidth:!0}),F.createElement(I.Z,{className:"mt-8 mb-16",label:"Tax Included Price",id:"priceTaxIncl",name:"priceTaxIncl",value:o.priceTaxIncl,onChange:c,InputProps:{startAdornment:F.createElement(C.Z,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0}),F.createElement(I.Z,{className:"mt-8 mb-16",label:"Tax Rate",id:"taxRate",name:"taxRate",value:o.taxRate,onChange:c,InputProps:{startAdornment:F.createElement(C.Z,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0}),F.createElement(I.Z,{className:"mt-8 mb-16",label:"Compared Price",id:"comparedPrice",name:"comparedPrice",value:o.comparedPrice,onChange:c,InputProps:{startAdornment:F.createElement(C.Z,{position:"start"},"$")},type:"number",variant:"outlined",fullWidth:!0,helperText:"Add a compare price to show next to the real price"})),3===e&&F.createElement("div",null,F.createElement(I.Z,{className:"mt-8 mb-16",required:!0,label:"SKU",autoFocus:!0,id:"sku",name:"sku",value:o.sku,onChange:c,variant:"outlined",fullWidth:!0}),F.createElement(I.Z,{className:"mt-8 mb-16",label:"Quantity",id:"quantity",name:"quantity",value:o.quantity,onChange:c,variant:"outlined",type:"number",fullWidth:!0})),4===e&&F.createElement("div",null,F.createElement("div",{className:"flex -mx-4"},F.createElement(I.Z,{className:"mt-8 mb-16 mx-4",label:"Width",autoFocus:!0,id:"width",name:"width",value:o.width,onChange:c,variant:"outlined",fullWidth:!0}),F.createElement(I.Z,{className:"mt-8 mb-16 mx-4",label:"Height",id:"height",name:"height",value:o.height,onChange:c,variant:"outlined",fullWidth:!0}),F.createElement(I.Z,{className:"mt-8 mb-16 mx-4",label:"Depth",id:"depth",name:"depth",value:o.depth,onChange:c,variant:"outlined",fullWidth:!0})),F.createElement(I.Z,{className:"mt-8 mb-16",label:"Weight",id:"weight",name:"weight",value:o.weight,onChange:c,variant:"outlined",fullWidth:!0}),F.createElement(I.Z,{className:"mt-8 mb-16",label:"Extra Shipping Fee",id:"extraShippingFee",name:"extraShippingFee",value:o.extraShippingFee,onChange:c,variant:"outlined",InputProps:{startAdornment:F.createElement(C.Z,{position:"start"},"$")},fullWidth:!0}))),innerScroll:!0})})}}]);