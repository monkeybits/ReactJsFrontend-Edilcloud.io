(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[30674],{10281:function(t,e,n){"use strict";n.d(e,{f:function(){return o},H:function(){return a}});var u=n(55110),r=n(97439),c=n(78709);function o(t,n,r){return void 0===r&&(r=[]),t.some(function(t){var e=t.path?(0,u.LX)(n,t):r.length?r[r.length-1].match:u.F0.computeRootMatch(n);return e&&(r.push({route:t,match:e}),t.routes&&o(t.routes,n,r)),e}),r}function a(t,n,e){return void 0===n&&(n={}),void 0===e&&(e={}),t?c.createElement(u.rs,e,t.map(function(e,t){return c.createElement(u.AW,{key:e.key||t,path:e.path,exact:e.exact,strict:e.strict,render:function(t){return e.render?e.render((0,r.Z)({},t,{},n,{route:e})):c.createElement(e.component,(0,r.Z)({},t,n,{route:e}))}})})):null}},30674:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var r=n(82853),u=n.n(r),c=n(82147),o=n.n(c),e=n(38050),a=n.n(e),r=n(3056),s=n.n(r),c=n(71470),i=n.n(c),l=n(49073),e=n(70519),f=n(78709),r=n(58913),h=n(10281),c=n(55110);function p(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=i()(n);return e=r?(t=i()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),s()(this,e)}}n=function(t){a()(r,t);var n=p(r);function r(t,e){u()(this,r);t=n.call(this,t),e=e.routes;return t.state={accessGranted:!0,routes:e},t}return o()(r,[{key:"componentDidMount",value:function(){this.state.accessGranted||this.redirectRoute()}},{key:"shouldComponentUpdate",value:function(t,e){return e.accessGranted!==this.state.accessGranted}},{key:"componentDidUpdate",value:function(){this.state.accessGranted||this.redirectRoute()}},{key:"redirectRoute",value:function(){var t=this.props,e=t.location,n=t.userRole,r=t.history,t=e.pathname,e=e.state,e=e&&e.redirectUrl?e.redirectUrl:"/";n&&0!==n.length?r.push({pathname:e}):r.push({pathname:"/pages/auth/login",state:{redirectUrl:t}})}},{key:"render",value:function(){return this.state.accessGranted?f.createElement(f.Fragment,null,this.props.children):null}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.location,t=t.userRole,n=n.pathname,n=(0,h.f)(e.routes,n)[0];return{accessGranted:!n||l.Z.hasPermission(n.route.auth,t)}}}]),r}(f.Component);n.contextType=e.Z;var d=(0,c.EN)((0,r.$j)(function(t){return{userRole:t.auth.user.role}})(n))}}]);