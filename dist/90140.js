(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[90140],{63752:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(78709);function r(e){var t=a.useState(e),n=t[0],r=t[1],e=e||n;return a.useEffect(function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))},[n]),e}},41931:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var o=n(78709);function r(e){var t=e.controlled,n=e.default,e=(e.name,e.state),r=o.useRef(void 0!==t).current,e=o.useState(n),n=e[0],a=e[1];return[r?t:n,o.useCallback(function(e){r||a(e)},[])]}},66256:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var t=n(51265),r=n.n(t),t=n(56156),a=n.n(t),t=n(16526),t=n.n(t),o=n(78709),c=n(3640);n(20683);function l(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var u={animation:"transition.fadeIn",stagger:50,duration:200,display:null,visibility:"visible",delay:0},s={stagger:50,duration:200,display:null,visibility:"visible",delay:0};function d(e){return o.createElement(c.VelocityTransitionGroup,r()({},e,{enter:i(i({},u),e.enter),leave:i(i({},s),e.leave)}))}d.propTypes={children:t().any},d.defaultProps={enter:u,leave:s,easing:[.4,0,.2,1],runOnMount:!0,enterHideStyle:{visibility:"visible"},enterShowStyle:{visibility:"hidden"}};var f=o.memo(d)},79172:function(e,t,n){"use strict";n.r(t);var r=n(56156),a=n.n(r),r=n(79545),p=n.n(r),r=n(61432),m=n.n(r),b=n(78709),y=n(66256),g=n(17725),v=n(64297),h=n(13786),O=n(25710),j=n(92466),r=n(40962),x=n(28344),k=n(58913),w=n(53369),P=n(72131);function o(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var C=(0,r.Z)(function(e){return{root:{background:e.palette.background.default},contactButton:{width:350,minWidth:70,flex:"0 0 auto",justifyContent:"start",padding:"20px 15px","&.active:after":{position:"absolute",top:8,right:0,bottom:8,content:"''",width:4,borderTopLeftRadius:4,borderBottomLeftRadius:4,backgroundColor:e.palette.primary.main}},unreadBadge:{position:"absolute",minWidth:18,height:18,top:4,left:10,borderRadius:9,padding:"0 5px",fontSize:11,textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,boxShadow:"0 2px 2px 0 rgba(0, 0, 0, 0.35)",zIndex:10},status:{position:"absolute",width:12,height:12,bottom:4,left:44,border:"2px solid ".concat(e.palette.background.default),borderRadius:"50%",zIndex:10,"&.online":{backgroundColor:"#4CAF50"},"&.do-not-disturb":{backgroundColor:"#F44336"},"&.away":{backgroundColor:"#FFC107"},"&.offline":{backgroundColor:"#646464"}}}});function c(e){var n=(0,w.$)("chat_panel").t,r=(0,k.I0)(),t=(0,k.v9)(function(e){return e.chatPanel.contacts.entities}),a=(0,k.v9)(function(e){return e.chatPanel.contacts.selectedContactId}),o=((0,k.v9)(function(e){return e.chatPanel.user}),(0,b.useState)([])),o=m()(o,2),c=o[0],l=o[1],i=(0,k.v9)(function(e){e=e.chatApp;return null==e?void 0:e.company}),u=C(),s=(0,b.useRef)(null),d=function(){s.current.scrollTop=0};(0,b.useEffect)(function(){var e=[];i&&i.id&&t&&(e=[E(E({},i),{},{type:"company"})].concat(p()(t)).sort(function(e,t){return new Date(t.last_message_created)-new Date(e.last_message_created)})),i&&i.id&&l(e)},[t,i]);function f(e){var t=e.contact;return b.createElement(v.ZP,{title:t.name,placement:"left"},b.createElement(h.Z,{onClick:function(){return e=t,r(P.uK()),r(P.mb(e)),void d();var e},className:(0,x.Z)(u.contactButton,{active:a===t.id})},!(null===(e=t.talks)||void 0===e||!e.length)&&!(null==t||(null===(e=t.talks[0])||void 0===e||!e.unread_count))&&b.createElement("div",{className:u.unreadBadge},t.talks[0].unread_count),b.createElement("div",{className:(0,x.Z)(t.status,u.status)}),b.createElement(O.Z,{src:t.logo,alt:t.name},t.logo&&""!==t.logo?"":t.name[0]),b.createElement("div",{className:"chatText truncate flex-1"},b.createElement(j.Z,{className:"ml-16 text-left text-16 normal-case truncate font-medium",color:"inherit"},t.name),b.createElement(j.Z,{className:"ml-16 text-left text-12 normal-case truncate",color:"inherit"},"project"==t.type?t.address:n("COMPANY_CHAT")))))}return b.createElement(g.Z,{className:(0,x.Z)(u.root,"flex flex-shrink-0 flex-col overflow-y-auto py-8 team-chat-body"),ref:s},0<c.length&&b.createElement(b.Fragment,null,b.createElement(y.Z,{enter:{},className:"flex flex-col flex-shrink-0"},c.map(function(e,t){return b.createElement(b.Fragment,null,b.createElement(f,{key:e.id,contact:e}),t!=c.length-1)}))))}t.default=b.memo(c)}}]);