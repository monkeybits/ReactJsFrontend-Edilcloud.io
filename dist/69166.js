(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[69166],{22981:function(e,t,n){"use strict";n.d(t,{Bv:function(){return a},a:function(){return r},HV:function(){return o}});var a=[{label:"Owner",key:"o"},{label:"Delegate",key:"d"},{label:"Manager",key:"m"},{label:"Worker",key:"w"}],r=["apps/chat"],o=["apps/file-manager"]},69166:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var t=n(56156),a=n.n(t),t=n(68357),T=n.n(t),t=n(61432),z=n.n(t),t=n(28129),F=n.n(t),V=n(78997),Y=n(92466),M=n(96282),W=n(22981),I=n(3089),K=n(78709),X=n(58913),$=n(63982),q=n(49073),G=n(11208),J=n(88572),Q=n(53369),ee=n(20074),t=n(32986);function r(t,e){var n,a=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)),a}function te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ne=(0,t.ZP)(function(){return Promise.all([n.e(21284),n.e(48190)]).then(n.bind(n,48190))}),ae=(0,t.ZP)(function(){return n.e(3212).then(n.bind(n,85956))}),re=(0,t.ZP)(function(){return Promise.all([n.e(10930),n.e(85431)]).then(n.bind(n,85431))});function o(t){var e,o=t.id,c=t.name,i=t.lastName,l=t.role,s=t.email,u=t.position,n=t.status,a=t.avatar,r=(t.address,t.company),m=t.phone,f=t.language,p=t.can_access_chat,d=t.can_access_files,v=t.onCardClick,b=t.editPermission,g=((0,Q.$)("contacts_project").t,(0,X.I0)()),y=(0,K.useRef)(null),h=(0,K.useState)(!1),E=z()(h,2),w=E[0],O=E[1],P=(0,K.useState)(!1),h=z()(P,2),E=h[0],j=h[1],P=(0,K.useState)(null),h=z()(P,2),x=h[0],N=h[1],P=(0,K.useState)(null),h=z()(P,2),P=h[0],k=h[1],d=(0,K.useState)({can_access_chat:p,can_access_files:d}),d=z()(d,2),_=d[0],d=(d[1],(0,K.useState)({file:void 0,imagePreviewUrl:void 0})),d=z()(d,2),D=(d[0],d[1]),d=K.useState(!1),d=z()(d,2),S=d[0],C=d[1],Z=(0,X.v9)(function(e){return e.contactsAppProject.contacts.routeParams}),R=(0,X.v9)(function(e){return e.notificationPanel}),L=(0,K.useRef)(null),U=(null===(d=R.notificationData)||void 0===d||null===(H=d.notification)||void 0===H?void 0:H.object_id)==o;(0,K.useEffect)(function(){U?setTimeout(function(){C(!0)},300):C(!0)},[o,U]),(0,K.useEffect)(function(){var e=null===(e=R.notificationData)||void 0===e?void 0:e.notification;R.viewing&&"team"==(null==e?void 0:e.content_type)&&S&&L.current&&(g($.sM()),q.Z.notificationBackrondColor(L,"custom-notification-bg"))},[R.viewing,L,S]);var A=function(){var a=T()(F().mark(function e(t,n,a){var r;return F().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.t1=o,e.t2=c,e.t3=i,e.t4=s,e.t5=W.Bv.filter(function(e){return e.label==l})[0].key,e.t6=f,e.t7=u,e.next=10,(0,I.y6)(a);case 10:e.t8=e.sent,e.t9={id:e.t1,name:e.t2,lastName:e.t3,email:e.t4,role:e.t5,language:e.t6,position:e.t7,photo:e.t8},e.t10=n,r=(0,e.t0)(e.t9,e.t10),g(ee.Tk(r,o,!0)),t&&t();case 16:case"end":return e.stop()}},e)}));return function(e,t,n){return a.apply(this,arguments)}}();function B(){return j(!1)}var d=K.useState(null),H=z()(d,2),d=H[0];H[1],Boolean(d);return w?K.createElement(ne,{image:P,viewCroper:w,onCrop:function(e){var t=new FileReader;t.onloadend=function(){D({file:e,imagePreviewUrl:t.result}),A(void 0,_,e)},t.readAsDataURL(e)},onHide:function(){return O(!1)}}):K.createElement(V.Z,{className:"px-6 mb-20",item:!0,xs:6,sm:6,md:3,xl:3},K.createElement(ae,{text:K.createElement(K.Fragment,null,K.createElement(Y.Z,null,"Are you sure want to delete ?")),isOpenDeleteDialog:E,colseDeleteFileDialog:B,onYes:function(){var e=x.id,t=x.email,e=(0,G.hV)(e);(0,J.k)(e,{},function(e){g(ee.zY(t)),B(),g(ee.K2(Z))},function(e){return console.log(e)},J.Y.DELETE,(0,I.XW)())},onNo:B}),K.createElement("div",{ref:(null===(E=R.notificationData)||void 0===E||null===(e=E.notification)||void 0===e?void 0:e.object_id)==o?L:null,className:"card-container flex flex-col px-10 text-13"},K.createElement("span",{className:"pro ".concat(String(n).toLowerCase())},n),K.createElement("div",{className:"team-action"},K.createElement(re,{canHaveDeleteOption:b,deleteHandler:function(e){e.stopPropagation(),N(t),j(!0)},onView:v})),K.createElement("input",{type:"file",accept:"image/*",id:"file",ref:y,onChange:function(e){k(URL.createObjectURL(e.currentTarget.files[0])),O(!0)},style:{display:"none"}}),K.createElement("img",{className:"round",src:P||a,alt:"user"}),K.createElement("h4",{className:"font-weight-600 mb-8"},"".concat(c," ").concat(i)),K.createElement("p",{className:"font-500 text-muted mb-8"},u||"N/A"),K.createElement("p",{className:"font-500 text-muted mb-8"},l),K.createElement("p",{className:"font-500 text-muted mb-8"},r),K.createElement("a",{className:"flex font-700 mb-10 mx-28 whitespace-no-wrap normal-case custom-email-button justify-center items-center py-6 rounded-md",href:"mailto:".concat(s)},K.createElement(M.Z,{size:"small",className:"mr-8"},"email"),"Email"),K.createElement("a",{className:"flex font-700 mb-10 mx-28 whitespace-no-wrap normal-case custom-email-button justify-center items-center py-6 rounded-md",href:"tel:".concat(m)},K.createElement(M.Z,{size:"small",className:"mr-8"},"phone"),"Phone")))}}}]);