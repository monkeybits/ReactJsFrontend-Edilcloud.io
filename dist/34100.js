(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[34100,9408],{84403:function(t,e,n){"use strict";var a=n(97439),s=n(84818),l=n(78709),r=n(16526),u=n(30367),r=n(6274),c=n(54059),h=n(86926),n=l.forwardRef(function(t,e){var n=t.classes,r=t.className,i=t.color,o=void 0===i?"primary":i,i=t.position,i=void 0===i?"fixed":i,t=(0,s.Z)(t,["classes","className","color","position"]);return l.createElement(h.Z,(0,a.Z)({square:!0,component:"header",elevation:4,className:(0,u.Z)(n.root,n["position".concat((0,c.Z)(i))],n["color".concat((0,c.Z)(o))],r,"fixed"===i&&"mui-fixed"),ref:e},t))});e.Z=(0,r.Z)(function(t){var e="light"===t.palette.type?t.palette.grey[100]:t.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:t.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:e,color:t.palette.getContrastText(e)},colorPrimary:{backgroundColor:t.palette.primary.main,color:t.palette.primary.contrastText},colorSecondary:{backgroundColor:t.palette.secondary.main,color:t.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}},{name:"MuiAppBar"})(n)},77821:function(t,e,n){"use strict";var u=n(97439),c=n(84818),h=n(78709),r=n(16526),d=n(30367),r=n(6274),f=n(67332),n=h.forwardRef(function(t,e){var n=t.children,r=t.classes,i=t.className,o=t.invisible,a=void 0!==o&&o,s=t.open,l=t.transitionDuration,o=t.TransitionComponent,o=void 0===o?f.Z:o,t=(0,c.Z)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return h.createElement(o,(0,u.Z)({in:s,timeout:l},t),h.createElement("div",{className:(0,d.Z)(r.root,i,a&&r.invisible),"aria-hidden":!0,ref:e},n))});e.Z=(0,r.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(n)},28103:function(t,e,n){"use strict";var v=n(97439),m=n(84818),b=n(78709),r=(n(55532),n(16526)),_=n(30367),x=n(54059),i=n(70621),r=n(6274);n(13786).Z.styles;n=b.forwardRef(function(t,e){var n=t.children,r=t.classes,i=t.className,o=t.color,a=void 0===o?"default":o,s=t.component,l=void 0===s?"div":s,o=t.disabled,u=void 0!==o&&o,s=t.disableElevation,c=void 0!==s&&s,o=t.disableFocusRipple,h=void 0!==o&&o,s=t.disableRipple,d=void 0!==s&&s,o=t.fullWidth,f=void 0!==o&&o,s=t.orientation,o=void 0===s?"horizontal":s,s=t.size,p=void 0===s?"medium":s,s=t.variant,g=void 0===s?"outlined":s,t=(0,m.Z)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),y=(0,_.Z)(r.grouped,r["grouped".concat((0,x.Z)(o))],r["grouped".concat((0,x.Z)(g))],r["grouped".concat((0,x.Z)(g)).concat((0,x.Z)(o))],r["grouped".concat((0,x.Z)(g)).concat("default"!==a?(0,x.Z)(a):"")],u&&r.disabled);return b.createElement(l,(0,v.Z)({role:"group",className:(0,_.Z)(r.root,i,f&&r.fullWidth,c&&r.disableElevation,"contained"===g&&r.contained,"vertical"===o&&r.vertical),ref:e},t),b.Children.map(n,function(t){return b.isValidElement(t)?b.cloneElement(t,{className:(0,_.Z)(y,t.props.className),color:t.props.color||a,disabled:t.props.disabled||u,disableElevation:t.props.disableElevation||c,disableFocusRipple:h,disableRipple:d,fullWidth:f,size:t.props.size||p,variant:t.props.variant||g}):null}))});e.Z=(0,r.Z)(function(t){return{root:{display:"inline-flex",borderRadius:t.shape.borderRadius},contained:{boxShadow:t.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat("light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:(0,i.U1)(t.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:(0,i.U1)(t.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:t.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:t.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(t.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(t.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(t.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(t.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:t.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:t.palette.secondary.dark}}}},{name:"MuiButtonGroup"})(n)},19462:function(t,e,n){"use strict";var o=n(97439),a=n(84818),s=n(78709),r=n(16526),l=n(30367),r=n(6274),n=s.forwardRef(function(t,e){var n=t.disableSpacing,r=void 0!==n&&n,i=t.classes,n=t.className,t=(0,a.Z)(t,["disableSpacing","classes","className"]);return s.createElement("div",(0,o.Z)({className:(0,l.Z)(i.root,n,!r&&i.spacing),ref:e},t))});e.Z=(0,r.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(n)},80896:function(t,e,n){"use strict";var o=n(97439),a=n(84818),s=n(78709),r=n(16526),l=n(30367),r=n(6274),n=s.forwardRef(function(t,e){var n=t.classes,r=t.className,i=t.dividers,i=void 0!==i&&i,t=(0,a.Z)(t,["classes","className","dividers"]);return s.createElement("div",(0,o.Z)({className:(0,l.Z)(n.root,r,i&&n.dividers),ref:e},t))});e.Z=(0,r.Z)(function(t){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}}},{name:"MuiDialogContent"})(n)},70964:function(t,e,n){"use strict";var a=n(97439),s=n(84818),l=n(78709),r=n(16526),u=n(30367),r=n(6274),c=n(92466),n=l.forwardRef(function(t,e){var n=t.children,r=t.classes,i=t.className,o=t.disableTypography,o=void 0!==o&&o,t=(0,s.Z)(t,["children","classes","className","disableTypography"]);return l.createElement("div",(0,a.Z)({className:(0,u.Z)(r.root,i),ref:e},t),o?n:l.createElement(c.Z,{component:"h2",variant:"h6"},n))});e.Z=(0,r.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(n)},99904:function(t,e,n){"use strict";var F=n(97439),A=n(84818),r=n(93535),N=n(78709),O=(n(16526),n(30367)),i=n(6274),R=n(54059),D=n(60894),I=n(77821),L=n(67332),o=n(58147),G=n(86926),z={enter:o.x9.enteringScreen,exit:o.x9.leavingScreen},o=N.forwardRef(function(t,e){var n=t.BackdropProps,r=t.children,i=t.classes,o=t.className,a=t.disableBackdropClick,s=void 0!==a&&a,l=t.disableEscapeKeyDown,u=void 0!==l&&l,c=t.fullScreen,h=void 0!==c&&c,d=t.fullWidth,f=void 0!==d&&d,p=t.maxWidth,g=void 0===p?"sm":p,y=t.onBackdropClick,v=t.onClose,m=t.onEnter,b=t.onEntered,_=t.onEntering,x=t.onEscapeKeyDown,S=t.onExit,w=t.onExited,C=t.onExiting,P=t.open,k=t.PaperComponent,T=void 0===k?G.Z:k,E=t.PaperProps,a=void 0===E?{}:E,l=t.scroll,c=void 0===l?"paper":l,d=t.TransitionComponent,p=void 0===d?L.Z:d,k=t.transitionDuration,E=void 0===k?z:k,l=t.TransitionProps,d=t["aria-describedby"],k=t["aria-labelledby"],t=(0,A.Z)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),M=N.useRef();return N.createElement(D.Z,(0,F.Z)({className:(0,O.Z)(i.root,o),BackdropComponent:I.Z,BackdropProps:(0,F.Z)({transitionDuration:E},n),closeAfterTransition:!0,disableBackdropClick:s,disableEscapeKeyDown:u,onEscapeKeyDown:x,onClose:v,open:P,ref:e},t),N.createElement(p,(0,F.Z)({appear:!0,in:P,timeout:E,onEnter:m,onEntering:_,onEntered:b,onExit:S,onExiting:C,onExited:w,role:"none presentation"},l),N.createElement("div",{className:(0,O.Z)(i.container,i["scroll".concat((0,R.Z)(c))]),onMouseUp:function(t){t.target===t.currentTarget&&t.target===M.current&&(M.current=null,y&&y(t),!s&&v&&v(t,"backdropClick"))},onMouseDown:function(t){M.current=t.target}},N.createElement(T,(0,F.Z)({elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":k},a,{className:(0,O.Z)(i.paper,i["paperScroll".concat((0,R.Z)(c))],i["paperWidth".concat((0,R.Z)(String(g)))],a.className,h&&i.paperFullScreen,f&&i.paperFullWidth)}),r))))});e.Z=(0,i.Z)(function(t){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(t.breakpoints.values.xs,444),"&$paperScrollBody":(0,r.Z)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:t.breakpoints.values.sm,"&$paperScrollBody":(0,r.Z)({},t.breakpoints.down(t.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:t.breakpoints.values.md,"&$paperScrollBody":(0,r.Z)({},t.breakpoints.down(t.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:t.breakpoints.values.lg,"&$paperScrollBody":(0,r.Z)({},t.breakpoints.down(t.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:t.breakpoints.values.xl,"&$paperScrollBody":(0,r.Z)({},t.breakpoints.down(t.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},{name:"MuiDialog"})(o)},67332:function(t,e,n){"use strict";var b=n(97439),_=n(35313),x=n(84818),S=n(78709),w=(n(16526),n(30765)),r=n(58147),C=n(58626),P=n(13117),k=n(70198),T={entering:{opacity:1},entered:{opacity:1}},E={enter:r.x9.enteringScreen,exit:r.x9.leavingScreen};e.Z=S.forwardRef(function(t,e){var n=t.children,r=t.disableStrictModeCompat,i=void 0!==r&&r,o=t.in,a=t.onEnter,s=t.onEntered,l=t.onEntering,u=t.onExit,c=t.onExited,h=t.onExiting,d=t.style,f=t.TransitionComponent,r=void 0===f?w.ZP:f,f=t.timeout,p=void 0===f?E:f,f=(0,x.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),g=(0,C.Z)(),y=g.unstable_strictMode&&!i,v=S.useRef(null),t=(0,k.Z)(n.ref,e),m=(0,k.Z)(y?v:void 0,t),i=function(n){return function(t,e){n&&(t=y?[v.current,t]:[t,e],t=(e=(0,_.Z)(t,2))[0],void 0===(e=e[1])?n(t):n(t,e))}},e=i(l),t=i(function(t,e){(0,P.n)(t);var n=(0,P.C)({style:d,timeout:p},{mode:"enter"});t.style.webkitTransition=g.transitions.create("opacity",n),t.style.transition=g.transitions.create("opacity",n),a&&a(t,e)}),l=i(s),s=i(h),h=i(function(t){var e=(0,P.C)({style:d,timeout:p},{mode:"exit"});t.style.webkitTransition=g.transitions.create("opacity",e),t.style.transition=g.transitions.create("opacity",e),u&&u(t)}),c=i(c);return S.createElement(r,(0,b.Z)({appear:!0,in:o,nodeRef:y?v:void 0,onEnter:t,onEntered:l,onEntering:e,onExit:h,onExited:c,onExiting:s,timeout:p},f),function(t,e){return S.cloneElement(n,(0,b.Z)({style:(0,b.Z)({opacity:0,visibility:"exited"!==t||o?void 0:"hidden"},T[t],d,n.props.style),ref:m},e))})})},97115:function(t,e,n){"use strict";var u=n(78709),c=n(91169),h=(n(16526),n(17700)),d=n(70198);var f="undefined"!=typeof window?u.useLayoutEffect:u.useEffect;e.Z=u.forwardRef(function(t,e){var n=t.children,r=t.container,i=t.disablePortal,o=void 0!==i&&i,a=t.onRendered,t=u.useState(null),s=t[0],l=t[1],t=(0,d.Z)(u.isValidElement(n)?n.ref:null,e);return f(function(){var t;o||l((t="function"==typeof(t=r)?t():t,c.findDOMNode(t)||document.body))},[r,o]),f(function(){if(s&&!o)return(0,h.Z)(e,s),function(){(0,h.Z)(e,null)}},[e,s,o]),f(function(){a&&(s||o)&&a()},[a,s,o]),o?u.isValidElement(n)?u.cloneElement(n,{ref:t}):n:s&&c.createPortal(n,s)})},95272:function(t,e,n){"use strict";var s=n(97439),l=n(84818),r=n(93535),u=n(78709),i=n(16526),c=n(30367),i=n(6274),n=u.forwardRef(function(t,e){var n=t.classes,r=t.className,i=t.component,o=void 0===i?"div":i,a=t.disableGutters,i=void 0!==a&&a,a=t.variant,a=void 0===a?"regular":a,t=(0,l.Z)(t,["classes","className","component","disableGutters","variant"]);return u.createElement(o,(0,s.Z)({className:(0,c.Z)(n.root,n[a],r,!i&&n.gutters),ref:e},t))});e.Z=(0,i.Z)(function(t){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,r.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),regular:t.mixins.toolbar,dense:{minHeight:48}}},{name:"MuiToolbar"})(n)},13117:function(t,e,n){"use strict";n.d(e,{n:function(){return r},C:function(){return i}});var r=function(t){return t.scrollTop};function i(t,e){var n=t.timeout,t=t.style,t=void 0===t?{}:t;return{duration:t.transitionDuration||"number"==typeof n?n:n[e.mode]||0,delay:t.transitionDelay}}},88514:function(t,e,n){"use strict";function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(r,i){return null==i?r:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.apply(this,e),i.apply(this,e)}},function(){})}n.d(e,{Z:function(){return r}})},11230:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(73681),c=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},n=(i.prototype.setLayers=function(t){var e=[],e=t?0<t.length?t:[t]:[];return this.layers=e,this},i.prototype.getLayers=function(){return this.layers},i.prototype.addLayer=function(t){for(var e=this.layers,n=e.length,r=0;r<n;r++)if(e[r]._id===t._id)return!1;return this.layers.push(t),!0},i.prototype.isRunning=function(){for(var t=i.animations,e=t.length,n=0;n<e;n++)if(t[n].id===this.id)return!0;return!1},i.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=c(),i._addAnimation(this),this},i.prototype.stop=function(){return i._removeAnimation(this),this},i.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},i._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},i._removeAnimation=function(t){for(var e=t.id,n=this.animations,r=n.length,i=0;i<r;i++)if(n[i].id===e){this.animations.splice(i,1);break}},i._runFrames=function(){for(var t,e,n,r,i,o,a,s={},l=this.animations,u=0;u<l.length;u++)if(e=(t=l[u]).layers,n=t.func,t._updateFrameObject(c()),i=e.length,!n||!1!==n.call(t,t.frame))for(r=0;r<i;r++)void 0!==(o=e[r])._id&&(s[o._id]=o);for(a in s)s.hasOwnProperty(a)&&s[a].draw()},i._animationLoop=function(){var t=i;t.animations.length?(t._runFrames(),requestAnimationFrame(t._animationLoop)):t.animRunning=!1},i._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},i.animations=[],i.animIdCounter=0,i.animRunning=!1,i);function i(t,e){this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:c(),frameRate:0},this.func=t,this.setLayers(e)}e.Animation=n},41190:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(48134),l=n(73681),u=n(45432),c=n(79788);h.prototype.getContext=function(){return this.context},h.prototype.getPixelRatio=function(){return this.pixelRatio},h.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},h.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";t=this.pixelRatio;this.getContext()._context.scale(t,t)},h.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";t=this.pixelRatio;this.getContext()._context.scale(t,t)},h.prototype.getWidth=function(){return this.width},h.prototype.getHeight=function(){return this.height},h.prototype.setSize=function(t,e){this.setWidth(t||0),this.setHeight(e||0)},h.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return a.Util.error("Unable to get data URL. "+t.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},n=h;function h(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;t=(t||{}).pixelRatio||l.Konva.pixelRatio||function(){if(o)return o;var t=a.Util.createCanvasElement().getContext("2d");return o=(l.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}();this.pixelRatio=t,this._canvas=a.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}e.Canvas=n,u.Factory.addGetterSetter(n,"pixelRatio",void 0,c.getNumberValidator());var d,c=(i(f,d=n),f);function f(t){var e=d.call(this,t=void 0===t?{width:0,height:0}:t)||this;return e.context=new s.SceneContext(e),e.setSize(t.width,t.height),e}e.SceneCanvas=c;var p,n=(i(g,p=n),g);function g(t){var e=p.call(this,t=void 0===t?{width:0,height:0}:t)||this;return e.hitCanvas=!0,e.context=new s.HitContext(e),e.setSize(t.width,t.height),e}e.HitCanvas=n},66916:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(19193),n=n(79788),i=(o=l.Node,i(u,o),u.prototype.getChildren=function(e){if(!e)return this.children;var n=new a.Collection;return this.children.each(function(t){e(t)&&n.push(t)}),n},u.prototype.hasChildren=function(){return 0<this.getChildren().length},u.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new a.Collection,this},u.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new a.Collection,this},u.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1<arguments.length){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=t[0];if(r.getParent())return r.moveTo(this),this;var i=this.children;return this._validateAdd(r),r._clearCaches(),r.index=i.length,r.parent=this,i.push(r),this._fire("add",{child:r}),this},u.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),o.prototype.destroy.call(this),this},u.prototype.find=function(t){return this._generalFind(t,!1)},u.prototype.get=function(t){return a.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},u.prototype.findOne=function(t){t=this._generalFind(t,!0);return 0<t.length?t[0]:void 0},u.prototype._generalFind=function(n,r){var i=[];return this._descendants(function(t){var e=t._isMatch(n);return e&&i.push(t),!(!e||!r)}),a.Collection.toCollection(i)},u.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},u.prototype.toObject=function(){var t=l.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,r=0;r<n;r++){var i=e[r];t.children.push(i.toObject())}return t},u.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},u.prototype.clone=function(t){var e=l.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},u.prototype.getAllIntersections=function(e){var n=[];return this.find("Shape").each(function(t){t.isVisible()&&t.intersects(e)&&n.push(t)}),n},u.prototype._setChildrenIndices=function(){this.children.each(function(t,e){t.index=e})},u.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas(),i=r&&r.getContext(),t=this._getCanvasCache(),n=t&&t.scene,t=r&&r.isCache;return(this.isVisible()||t)&&(n?(i.save(),n=this.getAbsoluteTransform(e).getMatrix(),i.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._drawCachedSceneCanvas(i),i.restore()):this._drawChildren("drawScene",r,e)),this},u.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),r=t||n&&n.hitCanvas,t=r&&r.getContext(),n=this._getCanvasCache();return n&&n.hit?(t.save(),n=this.getAbsoluteTransform(e).getMatrix(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._drawCachedHitCanvas(t),t.restore()):this._drawChildren("drawHit",r,e),this},u.prototype._drawChildren=function(e,n,r){var t,i,o,a=n&&n.getContext(),s=this.clipWidth(),l=this.clipHeight(),u=this.clipFunc(),c=s&&l||u,h=r===this;c&&(a.save(),i=(t=this.getAbsoluteTransform(r)).getMatrix(),a.transform(i[0],i[1],i[2],i[3],i[4],i[5]),a.beginPath(),u?u.call(this,a,this):(o=this.clipX(),u=this.clipY(),a.rect(o,u,s,l)),a.clip(),i=t.copy().invert().getMatrix(),a.transform(i[0],i[1],i[2],i[3],i[4],i[5]));h=!h&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===e;h&&(a.save(),a._applyGlobalCompositeOperation(this)),this.children.each(function(t){t[e](n,r)}),h&&a.restore(),c&&a.restore()},u.prototype.getClientRect=function(e){var n,r,i,o,t=(e=e||{}).skipTransform,a=e.relativeTo,s={x:1/0,y:1/0,width:0,height:0},l=this;this.children.each(function(t){t.visible()&&(0===(t=t.getClientRect({relativeTo:l,skipShadow:e.skipShadow,skipStroke:e.skipStroke})).width&&0===t.height||(o=void 0===n?(n=t.x,r=t.y,i=t.x+t.width,t.y+t.height):(n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x+t.width),Math.max(o,t.y+t.height))))});for(var u=this.find("Shape"),c=!1,h=0;h<u.length;h++)if(u[h]._isVisible(this)){c=!0;break}return s=c&&void 0!==n?{x:n,y:r,width:i-n,height:o-r}:{x:0,y:0,width:0,height:0},t?s:this._transformedRect(s,a)},u);function u(){var t=null!==o&&o.apply(this,arguments)||this;return t.children=new a.Collection,t}e.Container=i,s.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),s.Factory.addGetterSetter(i,"clipX",void 0,n.getNumberValidator()),s.Factory.addGetterSetter(i,"clipY",void 0,n.getNumberValidator()),s.Factory.addGetterSetter(i,"clipWidth",void 0,n.getNumberValidator()),s.Factory.addGetterSetter(i,"clipHeight",void 0,n.getNumberValidator()),s.Factory.addGetterSetter(i,"clipFunc"),a.Collection.mapMethods(i)},48134:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var l=n(98727),u=n(73681),a=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],o=(s.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},s.prototype._fill=function(t){},s.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},s.prototype._stroke=function(t){},s.prototype.fillStrokeShape=function(t){this.fillShape(t),this.strokeShape(t)},s.prototype.getTrace=function(t){for(var e,n,r,i=this.traceArr,o=i.length,a="",s=0;s<o;s++)(n=(e=i[s]).method)?(r=e.args,a+=n,t?a+="()":l.Util._isArray(r[0])?a+="(["+r.join(",")+"])":a+="("+r.join(",")+")"):(a+=e.property,t||(a+="="+e.val)),a+=";";return a},s.prototype.clearTrace=function(){this.traceArr=[]},s.prototype._trace=function(t){var e=this.traceArr;e.push(t),100<=e.length&&e.shift()},s.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(+t,0,0,+t,0,0)},s.prototype.getCanvas=function(){return this.canvas},s.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},s.prototype._applyLineCap=function(t){t=t.getLineCap();t&&this.setAttr("lineCap",t)},s.prototype._applyOpacity=function(t){t=t.getAbsoluteOpacity();1!==t&&this.setAttr("globalAlpha",t)},s.prototype._applyLineJoin=function(t){t=t.attrs.lineJoin;t&&this.setAttr("lineJoin",t)},s.prototype.setAttr=function(t,e){this._context[t]=e},s.prototype.arc=function(t,e,n,r,i,o){this._context.arc(t,e,n,r,i,o)},s.prototype.arcTo=function(t,e,n,r,i){this._context.arcTo(t,e,n,r,i)},s.prototype.beginPath=function(){this._context.beginPath()},s.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._context.bezierCurveTo(t,e,n,r,i,o)},s.prototype.clearRect=function(t,e,n,r){this._context.clearRect(t,e,n,r)},s.prototype.clip=function(){this._context.clip()},s.prototype.closePath=function(){this._context.closePath()},s.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},s.prototype.createLinearGradient=function(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)},s.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},s.prototype.createRadialGradient=function(t,e,n,r,i,o){return this._context.createRadialGradient(t,e,n,r,i,o)},s.prototype.drawImage=function(t,e,n,r,i,o,a,s,l){var u=arguments,c=this._context;3===u.length?c.drawImage(t,e,n):5===u.length?c.drawImage(t,e,n,r,i):9===u.length&&c.drawImage(t,e,n,r,i,o,a,s,l)},s.prototype.ellipse=function(t,e,n,r,i,o,a,s){this._context.ellipse(t,e,n,r,i,o,a,s)},s.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},s.prototype.fill=function(){this._context.fill()},s.prototype.fillRect=function(t,e,n,r){this._context.fillRect(t,e,n,r)},s.prototype.strokeRect=function(t,e,n,r){this._context.strokeRect(t,e,n,r)},s.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},s.prototype.measureText=function(t){return this._context.measureText(t)},s.prototype.getImageData=function(t,e,n,r){return this._context.getImageData(t,e,n,r)},s.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},s.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},s.prototype.rect=function(t,e,n,r){this._context.rect(t,e,n,r)},s.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},s.prototype.quadraticCurveTo=function(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)},s.prototype.restore=function(){this._context.restore()},s.prototype.rotate=function(t){this._context.rotate(t)},s.prototype.save=function(){this._context.save()},s.prototype.scale=function(t,e){this._context.scale(t,e)},s.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},s.prototype.getLineDash=function(){return this._context.getLineDash()},s.prototype.setTransform=function(t,e,n,r,i,o){this._context.setTransform(t,e,n,r,i,o)},s.prototype.stroke=function(){this._context.stroke()},s.prototype.strokeText=function(t,e,n,r){this._context.strokeText(t,e,n,r)},s.prototype.transform=function(t,e,n,r,i,o){this._context.transform(t,e,n,r,i,o)},s.prototype.translate=function(t,e){this._context.translate(t,e)},s.prototype._enableTrace=function(){for(var r,i=this,t=a.length,o=l.Util._simplifyArray,n=this.setAttr,e=0;e<t;e++)!function(t){var e,n=i[t];i[t]=function(){return r=o(Array.prototype.slice.call(arguments,0)),e=n.apply(i,arguments),i._trace({method:t,args:r}),e}}(a[e]);i.setAttr=function(){n.apply(i,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),i._trace({property:t,val:e})}},s.prototype._applyGlobalCompositeOperation=function(t){t=t.getGlobalCompositeOperation();"source-over"!==t&&this.setAttr("globalCompositeOperation",t)},s);function s(t){this.canvas=t,this._context=t._canvas.getContext("2d"),u.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}e.Context=o,["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"].forEach(function(e){Object.defineProperty(o.prototype,e,{get:function(){return this._context[e]},set:function(t){this._context[e]=t}})});var c,n=(i(h,c=o),h.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},h.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),r=u.Konva.getAngle(t.getFillPatternRotation()),i=t.getFillPatternOffsetX(),o=t.getFillPatternOffsetY(),a=t.getFillPatternScaleX(),s=t.getFillPatternScaleY();(e||n)&&this.translate(e||0,n||0),r&&this.rotate(r),(a||s)&&this.scale(a,s),(i||o)&&this.translate(-1*i,-1*o),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},h.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},h.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},h.prototype._fill=function(t){var e,n,r,i=t.fill(),o=t.getFillPriority();i&&"color"===o?this._fillColor(t):(e=t.getFillPatternImage())&&"pattern"===o?this._fillPattern(t):(n=t.getFillLinearGradientColorStops())&&"linear-gradient"===o?this._fillLinearGradient(t):(r=t.getFillRadialGradientColorStops())&&"radial-gradient"===o?this._fillRadialGradient(t):i?this._fillColor(t):e?this._fillPattern(t):n?this._fillLinearGradient(t):r&&this._fillRadialGradient(t)},h.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}},h.prototype._stroke=function(t){var e,n=t.dash(),r=t.getStrokeScaleEnabled();t.hasStroke()&&(r||(this.save(),e=this.getCanvas().getPixelRatio(),this.setTransform(e,0,0,e,0,0)),this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore())},h.prototype._applyShadow=function(t){var e=l.Util,n=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),o=t.getAbsoluteScale(),e=this.canvas.getPixelRatio(),t=o.x*e,e=o.y*e;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(t),Math.abs(e))),this.setAttr("shadowOffsetX",i.x*t),this.setAttr("shadowOffsetY",i.y*e)},h);function h(){return null!==c&&c.apply(this,arguments)||this}e.SceneContext=n;var d,i=(i(f,d=o),f.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},f.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},f.prototype._stroke=function(t){var e,n;t.hasHitStroke()&&((e=t.getStrokeScaleEnabled())||(this.save(),n=this.getCanvas().getPixelRatio(),this.setTransform(n,0,0,n,0,0)),this._applyLineCap(t),n="auto"===(n=t.hitStrokeWidth())?t.strokeWidth():n,this.setAttr("lineWidth",n),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore())},f);function f(){return null!==d&&d.apply(this,arguments)||this}e.HitContext=i},45622:function(t,e,n){n=n(18523).Konva;n._injectGlobal(n),(e.default=n).default=n,t.exports=e.default},85097:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e(73681),s=e(98727);i.DD={get isDragging(){var e=!1;return i.DD._dragElements.forEach(function(t){"dragging"===t.dragStatus&&(e=!0)}),e},justDragged:!1,get node(){var e;return i.DD._dragElements.forEach(function(t){e=t.node}),e},_dragElements:new Map,_drag:function(o){var a=[];i.DD._dragElements.forEach(function(e,t){var n=e.node,r=n.getStage();r.setPointersPositions(o),void 0===e.pointerId&&(e.pointerId=s.Util._getFirstPointerId(o));var i=r._changedPointerPositions.find(function(t){return t.id===e.pointerId});if(i){if("dragging"!==e.dragStatus){r=n.dragDistance();if(Math.max(Math.abs(i.x-e.startPointerPos.x),Math.abs(i.y-e.startPointerPos.y))<r)return;if(n.startDrag({evt:o}),!n.isDragging())return}n._setDragPosition(o,e),a.push(n)}}),a.forEach(function(t){t.fire("dragmove",{type:"dragmove",target:t,evt:o},!0)})},_endDragBefore:function(r){i.DD._dragElements.forEach(function(e,t){var n=e.node.getStage();r&&n.setPointersPositions(r),n._changedPointerPositions.find(function(t){return t.id===e.pointerId})&&("dragging"!==e.dragStatus&&"stopped"!==e.dragStatus||(i.DD.justDragged=!0,o.Konva.listenClickTap=!1,e.dragStatus="stopped"),(n=e.node.getLayer()||e.node instanceof o.Konva.Stage&&e.node)&&n.draw())})},_endDragAfter:function(n){i.DD._dragElements.forEach(function(t,e){"stopped"===t.dragStatus&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:n},!0),"dragging"!==t.dragStatus&&i.DD._dragElements.delete(e)})}},o.Konva.isBrowser&&(window.addEventListener("mouseup",i.DD._endDragBefore,!0),window.addEventListener("touchend",i.DD._endDragBefore,!0),window.addEventListener("mousemove",i.DD._drag),window.addEventListener("touchmove",i.DD._drag),window.addEventListener("mouseup",i.DD._endDragAfter,!1),window.addEventListener("touchend",i.DD._endDragAfter,!1))},45432:function(t,d,e){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var f=e(98727),p=e(79788),g="get",y="set";d.Factory={addGetterSetter:function(t,e,n,r,i){d.Factory.addGetter(t,e,n),d.Factory.addSetter(t,e,r,i),d.Factory.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,n){var r=g+f.Util._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,e,n,r){var i=y+f.Util._capitalize(e);t.prototype[i]||d.Factory.overWriteSetter(t,e,n,r)},overWriteSetter:function(t,e,n,r){var i=y+f.Util._capitalize(e);t.prototype[i]=function(t){return n&&null!=t&&(t=n.call(this,t,e)),this._setAttr(e,t),r&&r.call(this),this}},addComponentsGetterSetter:function(t,r,e,i,o){var n,a,s=e.length,l=f.Util._capitalize,u=g+l(r),c=y+l(r);t.prototype[u]=function(){var t={};for(n=0;n<s;n++)t[a=e[n]]=this.getAttr(r+l(a));return t};var h=p.getComponentValidator(e);t.prototype[c]=function(t){var e,n=this.attrs[r];for(e in i&&(t=i.call(this,t)),h&&h.call(this,t,r),t)t.hasOwnProperty(e)&&this._setAttr(r+l(e),t[e]);return this._fireChangeEvent(r,n,t),o&&o.call(this),this},d.Factory.addOverloadedGetterSetter(t,r)},addOverloadedGetterSetter:function(t,e){var n=f.Util._capitalize(e),r=y+n,i=g+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter:function(t,e,n,r){f.Util.error("Adding deprecated "+e);var i=g+f.Util._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){f.Util.error(o);var t=this.attrs[e];return void 0===t?n:t},d.Factory.addSetter(t,e,r,function(){f.Util.error(o)}),d.Factory.addOverloadedGetterSetter(t,e)},backCompat:function(a,t){f.Util.each(t,function(t,e){var n=a.prototype[e],r=g+f.Util._capitalize(t),i=y+f.Util._capitalize(t);function o(){n.apply(this,arguments),f.Util.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+e+'" instead.')}a.prototype[t]=o,a.prototype[r]=o,a.prototype[i]=o})},afterSetFilter:function(){this._filterUpToDate=!1}}},83236:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(22291),n=n(73681),i=(o=s.Layer,i(l,o),l);function l(t){t=o.call(this,t)||this;return t.listening(!1),a.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),t}(e.FastLayer=i).prototype.nodeType="FastLayer",n._registerNode(i),a.Collection.mapMethods(i)},73681:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Math.PI/180;e._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),t=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:function(t){var e=t.indexOf("msie ");if(0<e)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(0<t.indexOf("trident/")){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}n=t.indexOf("edge/");return 0<n&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}(e),mobile:r,ieMobile:t}},e.glob=void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{},e.Konva={_global:e.glob,version:"7.0.6",isBrowser:"undefined"!=typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window)),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return e.Konva.angleDeg?t*r:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return e.Konva.DD.isDragging},isDragReady:function(){return!!e.Konva.DD.node},UA:e._parseUA(e.glob.navigator&&e.glob.navigator.userAgent||""),document:e.glob.document,_injectGlobal:function(t){e.glob.Konva=t},_parseUA:e._parseUA},e._NODES_REGISTRY={},e._registerNode=function(t){e._NODES_REGISTRY[t.prototype.getClassName()]=t,e.Konva[t.prototype.getClassName()]=t}},90013:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(66916),n=n(73681),i=(o=s.Container,i(l,o),l.prototype._validateAdd=function(t){t=t.getType();"Group"!==t&&"Shape"!==t&&a.Util.throw("You may only add groups and shapes to groups.")},l);function l(){return null!==o&&o.apply(this,arguments)||this}(e.Group=i).prototype.nodeType="Group",n._registerNode(i),a.Collection.mapMethods(i)},22291:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(66916),l=n(19193),u=n(45432),c=n(41190),h=n(79788),d=n(48568),n=n(73681),f=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=f.length,i=(o=s.Container,i(g,o),g.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},g.prototype.getCanvas=function(){return this.canvas},g.prototype.getHitCanvas=function(){return this.hitCanvas},g.prototype.getContext=function(){return this.getCanvas().getContext()},g.prototype.clear=function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},g.prototype.setZIndex=function(t){o.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.children.length-1?e.content.insertBefore(this.getCanvas()._canvas,e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},g.prototype.moveToTop=function(){l.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},g.prototype.moveUp=function(){if(!l.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},g.prototype.moveDown=function(){if(l.Node.prototype.moveDown.call(this)){var t,e=this.getStage();return e&&(t=e.children,e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[this.index+1].getCanvas()._canvas)),!0}return!1},g.prototype.moveToBottom=function(){if(l.Node.prototype.moveToBottom.call(this)){var t,e=this.getStage();return e&&(t=e.children,e.content.removeChild(this.getCanvas()._canvas),e.content.insertBefore(this.getCanvas()._canvas,t[1].getCanvas()._canvas)),!0}return!1},g.prototype.getLayer=function(){return this},g.prototype.remove=function(){var t=this.getCanvas()._canvas;return l.Node.prototype.remove.call(this),t&&t.parentNode&&a.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},g.prototype.getStage=function(){return this.parent},g.prototype.setSize=function(t){var e=t.width,t=t.height;return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this},g.prototype._validateAdd=function(t){t=t.getType();"Group"!==t&&"Shape"!==t&&a.Util.throw("You may only add groups and shapes to a layer.")},g.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),l.Node.prototype._toKonvaCanvas.call(this,t)},g.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},g.prototype._setSmoothEnabled=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},g.prototype.getWidth=function(){if(this.parent)return this.parent.width()},g.prototype.setWidth=function(){a.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},g.prototype.getHeight=function(){if(this.parent)return this.parent.height()},g.prototype.setHeight=function(){a.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},g.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,a.Util.requestAnimFrame(function(){t.draw(),t._waitingForDraw=!1})),this},g.prototype.getIntersection=function(t,e){var n,r,i;if(!this.isListening()||!this.isVisible())return null;for(var o=1,a=!1;;){for(r=0;r<p;r++){if((i=(n=this._getIntersection({x:t.x+(i=f[r]).x*o,y:t.y+i.y*o})).shape)&&e)return i.findAncestor(e,!0);if(i)return i;if(a=!!n.antialiased,!n.antialiased)break}if(!a)return null;o+=1}},g.prototype._getIntersection=function(t){var e=this.hitCanvas.pixelRatio,t=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,e=t[3];return 255===e?(t=a.Util._rgbToHex(t[0],t[1],t[2]),(t=d.shapes["#"+t])?{shape:t}:{antialiased:!0}):0<e?{antialiased:!0}:{}},g.prototype.drawScene=function(t,e){var n=this.getLayer(),n=t||n&&n.getCanvas();return this._fire("beforeDraw",{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),s.Container.prototype.drawScene.call(this,n,e),this._fire("draw",{node:this}),this},g.prototype.drawHit=function(t,e){var n=this.getLayer(),t=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),s.Container.prototype.drawHit.call(this,t,e),this},g.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},g.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},g.prototype.setHitGraphEnabled=function(t){a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)},g.prototype.getHitGraphEnabled=function(t){return a.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()},g.prototype.toggleHitCanvas=function(){var t;this.parent&&(t=this.parent,!!this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas))},g);function g(t){t=o.call(this,t)||this;return t.canvas=new c.SceneCanvas,t.hitCanvas=new c.HitCanvas({pixelRatio:1}),t._waitingForDraw=!1,t.on("visibleChange.konva",t._checkVisibility),t._checkVisibility(),t.on("imageSmoothingEnabledChange.konva",t._setSmoothEnabled),t._setSmoothEnabled(),t}(e.Layer=i).prototype.nodeType="Layer",n._registerNode(i),u.Factory.addGetterSetter(i,"imageSmoothingEnabled",!0),u.Factory.addGetterSetter(i,"clearBeforeDraw",!0),u.Factory.addGetterSetter(i,"hitGraphEnabled",!0,h.getBooleanValidator()),a.Collection.mapMethods(i)},19193:function(t,o,e){"use strict";var u=e(45559);Object.defineProperty(o,"__esModule",{value:!0});var h=e(98727),n=e(45432),d=e(41190),c=e(73681),r=e(85097),i=e(79788);o.ids={},o.names={};o._removeId=function(t,e){t&&o.ids[t]===e&&delete o.ids[t]},o._addName=function(t,e){e&&(o.names[e]||(o.names[e]=[]),o.names[e].push(t))},o._removeName=function(t,e){if(t){var n=o.names[t];if(n){for(var r=0;r<n.length;r++)n[r]._id===e&&n.splice(r,1);0===n.length&&delete o.names[t]}}};var f="absoluteOpacity",a="absoluteTransform",p="absoluteScale",g="canvas",s="listening",l="mouseenter",y="mouseleave",v="transform",m="visible",b=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(" "),_=(["scaleXChange.konva","scaleYChange.konva"].join(" "),new h.Collection),x=1,e=(S.prototype.hasChildren=function(){return!1},S.prototype.getChildren=function(){return _},S.prototype._clearCache=function(t){t!==v&&t!==a||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0},S.prototype._getCache=function(t,e){var n=this._cache.get(t);return(void 0===n||(t===v||t===a)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n},S.prototype._calculate=function(t,e,n){var r=this;return this._attachedDepsListeners.get(t)||(e=e.map(function(t){return t+"Change.konva"}).join(" "),this.on(e,function(){r._clearCache(t)}),this._attachedDepsListeners.set(t,!0)),this._getCache(t,n)},S.prototype._getCanvasCache=function(){return this._cache.get(g)},S.prototype._clearSelfAndDescendantCache=function(e,t){this._clearCache(e),t&&e===a&&this.fire("_clearTransformCache"),this.isCached()||this.children&&this.children.each(function(t){t._clearSelfAndDescendantCache(e,!0)})},S.prototype.clearCache=function(){return this._cache.delete(g),this._clearSelfAndDescendantCache(),this},S.prototype.cache=function(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var r=Math.ceil(e.width||n.width),i=Math.ceil(e.height||n.height),o=e.pixelRatio,a=(void 0===e.x?n:e).x,s=(void 0===e.y?n:e).y,l=e.offset||0,u=e.drawBorder||!1;if(r&&i){a-=l,s-=l;var c=new d.SceneCanvas({pixelRatio:o,width:r+=2*l,height:i+=2*l}),t=new d.SceneCanvas({pixelRatio:o,width:0,height:0}),n=new d.HitCanvas({pixelRatio:1,width:r,height:i}),l=c.getContext(),o=n.getContext();return n.isCache=!0,c.isCache=!0,this._cache.delete("canvas"),(this._filterUpToDate=!1)===e.imageSmoothingEnabled&&(c.getContext()._context.imageSmoothingEnabled=!1,t.getContext()._context.imageSmoothingEnabled=!1),l.save(),o.save(),l.translate(-a,-s),o.translate(-a,-s),this._isUnderCache=!0,this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(p),this.drawScene(c,this),this.drawHit(n,this),this._isUnderCache=!1,l.restore(),o.restore(),u&&(l.save(),l.beginPath(),l.rect(0,0,r,i),l.closePath(),l.setAttr("strokeStyle","red"),l.setAttr("lineWidth",5),l.stroke(),l.restore()),this._cache.set(g,{scene:c,filter:t,hit:n,x:a,y:s}),this}h.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},S.prototype.isCached=function(){return this._cache.has("canvas")},S.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},S.prototype._transformedRect=function(t,e){var n,r,i,o,t=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getAbsoluteTransform(e);return t.forEach(function(t){t=a.point(t);void 0===n&&(n=i=t.x,r=o=t.y),n=Math.min(n,t.x),r=Math.min(r,t.y),i=Math.max(i,t.x),o=Math.max(o,t.y)}),{x:n,y:r,width:i-n,height:o-r}},S.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),e=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/e,n.height/e),t.restore()},S.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},S.prototype._getCachedSceneCanvas=function(){var t,e,n,r,i=this.filters(),o=this._getCanvasCache(),a=o.scene,s=o.filter,l=s.getContext();if(i){if(!this._filterUpToDate){o=a.pixelRatio;s.setSize(a.width/a.pixelRatio,a.height/a.pixelRatio);try{for(t=i.length,l.clear(),l.drawImage(a._canvas,0,0,a.getWidth()/o,a.getHeight()/o),e=l.getImageData(0,0,s.getWidth(),s.getHeight()),n=0;n<t;n++)"function"==typeof(r=i[n])?(r.call(this,e),l.putImageData(e,0,0)):h.Util.error("Filter should be type of function, but got "+u(r)+" instead. Please check correct filters")}catch(t){h.Util.error("Unable to apply filter. "+t.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return a},S.prototype.on=function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);for(var n,r,i=t.split(" "),o=i.length,a=0;a<o;a++)n=(r=i[a].split("."))[0],r=r[1]||"",this.eventListeners[n]||(this.eventListeners[n]=[]),this.eventListeners[n].push({name:r,handler:e});return this},S.prototype.off=function(t,e){var n,r,i,o,a,s=(t||"").split(" "),l=s.length;if(!t)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(o=(i=s[n].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,e);else for(r in this.eventListeners)this._off(r,a,e);return this},S.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},S.prototype.addEventListener=function(t,e){return this.on(t,function(t){e.call(this,t.evt)}),this},S.prototype.removeEventListener=function(t){return this.off(t),this},S.prototype._delegate=function(t,r,i){var o=this;this.on(t,function(t){for(var e=t.target.findAncestors(r,!0,o),n=0;n<e.length;n++)(t=h.Util.cloneObject(t)).currentTarget=e[n],i.call(e[n],t)})},S.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),r.DD._dragElements.delete(this._id),this._remove(),this},S.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache("stage"),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(s)},S.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},S.prototype.destroy=function(){o._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),e=0;e<t.length;e++){var n=t[e];o._removeName(n,this._id)}return this.remove(),this},S.prototype.getAttr=function(t){var e="get"+h.Util._capitalize(t);return h.Util._isFunction(this[e])?this[e]():this.attrs[t]},S.prototype.getAncestors=function(){for(var t=this.getParent(),e=new h.Collection;t;)e.push(t),t=t.getParent();return e},S.prototype.getAttrs=function(){return this.attrs||{}},S.prototype.setAttrs=function(n){var r=this;return this._batchTransformChanges(function(){var t,e;if(!n)return r;for(t in n)"children"!==t&&(e="set"+h.Util._capitalize(t),h.Util._isFunction(r[e])?r[e](n[t]):r._setAttr(t,n[t]))}),this},S.prototype.isListening=function(){return this._getCache(s,this._isListening)},S.prototype._isListening=function(t){if(!this.listening())return!1;var e=this.getParent();return!e||e===t||this===t||e._isListening(t)},S.prototype.isVisible=function(){return this._getCache(m,this._isVisible)},S.prototype._isVisible=function(t){if(!this.visible())return!1;var e=this.getParent();return!e||e===t||this===t||e._isVisible(t)},S.prototype.shouldDrawHit=function(t){if(t)return this._isVisible(t)&&this._isListening(t);var e=this.getLayer(),n=!1;r.DD._dragElements.forEach(function(t){"dragging"!==t.dragStatus||"Stage"!==t.node.nodeType&&t.node.getLayer()!==e||(n=!0)});t=!c.Konva.hitOnDragEnabled&&n;return this.isListening()&&this.isVisible()&&!t},S.prototype.show=function(){return this.visible(!0),this},S.prototype.hide=function(){return this.visible(!1),this},S.prototype.getZIndex=function(){return this.index||0},S.prototype.getAbsoluteZIndex=function(){var n,r,i,o,a=this.getDepth(),s=this,l=0;return"Stage"!==s.nodeType&&function t(e){for(n=[],r=e.length,i=0;i<r;i++)o=e[i],l++,"Shape"!==o.nodeType&&(n=n.concat(o.getChildren().toArray())),o._id===s._id&&(i=r);0<n.length&&n[0].getDepth()<=a&&t(n)}(s.getStage().getChildren()),l},S.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},S.prototype._batchTransformChanges=function(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(v),this._clearSelfAndDescendantCache(a,!0)),this._needClearTransformCache=!1},S.prototype.setPosition=function(t){var e=this;return this._batchTransformChanges(function(){e.x(t.x),e.y(t.y)}),this},S.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},S.prototype.getAbsolutePosition=function(t){for(var e=!1,n=this.parent;n;){if(n.isCached()){e=!0;break}n=n.parent}var r=this.getAbsoluteTransform(t=e&&!t?!0:t).getMatrix(),i=new h.Transform,t=this.offset();return i.m=r.slice(),i.translate(t.x,t.y),i.getTranslation()},S.prototype.setAbsolutePosition=function(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(v);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(v),this._clearSelfAndDescendantCache(a),this},S.prototype._setTransform=function(t){for(var e in t)this.attrs[e]=t[e]},S.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},S.prototype.move=function(t){var e=t.x,n=t.y,r=this.x(),t=this.y();return void 0!==e&&(r+=e),void 0!==n&&(t+=n),this.setPosition({x:r,y:t}),this},S.prototype._eachAncestorReverse=function(t,e){var n,r,i=[],o=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);o&&(!e||o._id!==e._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)t(i[r])}},S.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},S.prototype.moveToTop=function(){if(!this.parent)return h.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},S.prototype.moveUp=function(){if(!this.parent)return h.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},S.prototype.moveDown=function(){if(!this.parent)return h.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return 0<t&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},S.prototype.moveToBottom=function(){if(!this.parent)return h.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return 0<t&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},S.prototype.setZIndex=function(t){if(!this.parent)return h.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&h.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},S.prototype.getAbsoluteOpacity=function(){return this._getCache(f,this._getAbsoluteOpacity)},S.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},S.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},S.prototype.toObject=function(){var t,e,n,r={},i=this.getAttrs();for(t in r.attrs={},i)e=i[t],h.Util.isObject(e)&&!h.Util._isPlainObject(e)&&!h.Util._isArray(e)||(n="function"==typeof this[t]&&this[t],delete i[t],(n?n.call(this):null)!==(i[t]=e)&&(r.attrs[t]=e));return r.className=this.getClassName(),h.Util._prepareToStringify(r)},S.prototype.toJSON=function(){return JSON.stringify(this.toObject())},S.prototype.getParent=function(){return this.parent},S.prototype.findAncestors=function(t,e,n){var r=[];e&&this._isMatch(t)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(t)&&r.push(i),i=i.parent}return r},S.prototype.isAncestorOf=function(t){return!1},S.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},S.prototype._isMatch=function(t){if(!t)return!1;if("function"==typeof t)return t(this);for(var e,n=t.replace(/ /g,"").split(","),r=n.length,i=0;i<r;i++)if(e=n[i],h.Util.isValidSelector(e)||(h.Util.warn('Selector "'+e+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),h.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),h.Util.warn("Konva is awesome, right?")),"#"===e.charAt(0)){if(this.id()===e.slice(1))return!0}else if("."===e.charAt(0)){if(this.hasName(e.slice(1)))return!0}else if(this.className===e||this.nodeType===e)return!0;return!1},S.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},S.prototype.getStage=function(){return this._getCache("stage",this._getStage)},S.prototype._getStage=function(){var t=this.getParent();if(t)return t.getStage()},S.prototype.fire=function(t,e,n){return(e=void 0===e?{}:e).target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},S.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(a,this._getAbsoluteTransform)},S.prototype._getAbsoluteTransform=function(t){var n;if(t)return n=new h.Transform,this._eachAncestorReverse(function(t){var e=t.transformsEnabled();"all"===e?n.multiply(t.getTransform()):"position"===e&&n.translate(t.x()-t.offsetX(),t.y()-t.offsetY())},t),n;n=this._cache.get(a)||new h.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var e,r,i=this.transformsEnabled();return"all"===i?n.multiply(this.getTransform()):"position"===i&&(e=this.attrs.x||0,r=this.attrs.y||0,t=this.attrs.offsetX||0,i=this.attrs.offsetY||0,n.translate(e-t,r-i)),n.dirty=!1,n},S.prototype.getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}},S.prototype.getAbsoluteRotation=function(){return this.getAbsoluteTransform().decompose().rotation},S.prototype.getTransform=function(){return this._getCache(v,this._getTransform)},S.prototype._getTransform=function(){var t=this._cache.get(v)||new h.Transform;t.reset();var e=this.x(),n=this.y(),r=c.Konva.getAngle(this.rotation()),i=null!==(l=this.attrs.scaleX)&&void 0!==l?l:1,o=null!==(u=this.attrs.scaleY)&&void 0!==u?u:1,a=this.attrs.skewX||0,s=this.attrs.skewY||0,l=this.attrs.offsetX||0,u=this.attrs.offsetY||0;return 0===e&&0===n||t.translate(e,n),0!==r&&t.rotate(r),0===a&&0===s||t.skew(a,s),1===i&&1===o||t.scale(i,o),0===l&&0===u||t.translate(-1*l,-1*u),t.dirty=!1,t},S.prototype.clone=function(t){var e,n,r,i,o,a=h.Util.cloneObject(this.attrs);for(e in t)a[e]=t[e];var s=new this.constructor(a);for(e in this.eventListeners)for(r=(n=this.eventListeners[e]).length,i=0;i<r;i++)(o=n[i]).name.indexOf("konva")<0&&(s.eventListeners[e]||(s.eventListeners[e]=[]),s.eventListeners[e].push(o));return s},S.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),r=(void 0!==t.x?t:e).x,i=(void 0!==t.y?t:e).y,o=t.pixelRatio||1,n=new d.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:o}),o=n.getContext();return o.save(),(r||i)&&o.translate(-1*r,-1*i),this.drawScene(n),o.restore(),n},S.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},S.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,n=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(n),n},S.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,h.Util._urlToImage(this.toDataURL(t),function(t){e(t)})},S.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},S.prototype.getSize=function(){return{width:this.width(),height:this.height()}},S.prototype.getClassName=function(){return this.className||this.nodeType},S.prototype.getType=function(){return this.nodeType},S.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():c.Konva.dragDistance},S.prototype._off=function(t,e,n){for(var r,i,o=this.eventListeners[t],a=0;a<o.length;a++)if(r=o[a].name,i=o[a].handler,!("konva"===r&&"konva"!==e||e&&r!==e||n&&n!==i)){if(o.splice(a,1),0===o.length){delete this.eventListeners[t];break}a--}},S.prototype._fireChangeEvent=function(t,e,n){this._fire(t+"Change",{oldVal:e,newVal:n})},S.prototype.setId=function(t){var e,n=this.id();return o._removeId(n,this),e=this,(n=t)&&(o.ids[n]=e),this._setAttr("id",t),this},S.prototype.setName=function(t){for(var e,n=(this.name()||"").split(/\s/g),r=(t||"").split(/\s/g),i=0;i<n.length;i++)e=n[i],-1===r.indexOf(e)&&e&&o._removeName(e,this._id);for(i=0;i<r.length;i++)e=r[i],-1===n.indexOf(e)&&e&&o._addName(this,e);return this._setAttr("name",t),this},S.prototype.addName=function(t){var e;return this.hasName(t)||(e=this.name(),this.setName(e?e+" "+t:t)),this},S.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},S.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),t=e.indexOf(t);return-1!==t&&(e.splice(t,1),this.setName(e.join(" "))),this},S.prototype.setAttr=function(t,e){var n=this["set"+h.Util._capitalize(t)];return h.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},S.prototype._setAttr=function(t,e,n){void 0===n&&(n=!1);n=this.attrs[t];n===e&&!h.Util.isObject(e)||(null==e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,n,e))},S.prototype._setComponentAttr=function(t,e,n){var r;void 0!==n&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))},S.prototype._fireAndBubble=function(t,e,n){var r;e&&"Shape"===this.nodeType&&(e.target=this),(t===l||t===y)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)||(this._fire(t,e),r=(t===l||t===y)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent),(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e)))},S.prototype._getListeners=function(t){for(var e,n,r=[];e=e?Object.getPrototypeOf(e):this;)!e.eventListeners||(n=e.eventListeners[t])&&(r=n.concat(r),e=Object.getPrototypeOf(e));return r},S.prototype._fire=function(t,e){var n,r=this._getListeners(t);if(r.length)for((e=e||{}).currentTarget=this,e.type=t,n=0;n<r.length;n++)r[n].handler.call(this,e)},S.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},S.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),t=this.getAbsolutePosition(),n=n._getPointerById(e)||n._changedPointerPositions[0]||t;r.DD._dragElements.set(this._id,{node:this,startPointerPos:n,offset:{x:n.x-t.x,y:n.y-t.y},dragStatus:"ready",pointerId:e})},S.prototype.startDrag=function(t){r.DD._dragElements.has(this._id)||this._createDragElement(t),r.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},!0)},S.prototype._setDragPosition=function(t,e){var n=this.getStage()._getPointerById(e.pointerId);n&&(n={x:n.x-e.offset.x,y:n.y-e.offset.y},void 0!==(e=this.dragBoundFunc())&&((t=e.call(this,n,t))?n=t:h.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")),this._lastPos&&this._lastPos.x===n.x&&this._lastPos.y===n.y||(this.setAbsolutePosition(n),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=n)},S.prototype.stopDrag=function(t){var e=r.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),r.DD._endDragBefore(t),r.DD._endDragAfter(t)},S.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},S.prototype.isDragging=function(){var t=r.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},S.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var e,n=this;void 0!==t.evt.button&&!(0<=c.Konva.dragButtons.indexOf(t.evt.button))||(this.isDragging()||(e=!1,r.DD._dragElements.forEach(function(t){n.isAncestorOf(t.node)&&(e=!0)}),e||this._createDragElement(t)))})},S.prototype._dragChange=function(){var t,e;this.attrs.draggable?this._listenDrag():(this._dragCleanup(),this.getStage()&&(t=(e=r.DD._dragElements.get(this._id))&&"dragging"===e.dragStatus,e=e&&"ready"===e.dragStatus,t?this.stopDrag():e&&r.DD._dragElements.delete(this._id)))},S.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},S.create=function(t,e){return h.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},S._createNode=function(t,e){var n,r,i=S.prototype.getClassName.call(t),o=t.children;e&&(t.attrs.container=e),c._NODES_REGISTRY[i]||(h.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");var a=new c._NODES_REGISTRY[i](t.attrs);if(o)for(n=o.length,r=0;r<n;r++)a.add(S._createNode(o[r]));return a},S);function S(t){this._id=x++,this.eventListeners={},this.attrs={},this.index=0,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=_,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}(o.Node=e).prototype.nodeType="Node",e.prototype._attrsAffectingSize=[],e.prototype.eventListeners={},e.prototype.on.call(e.prototype,b,function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(v),this._clearSelfAndDescendantCache(a))}),e.prototype.on.call(e.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(m)}),e.prototype.on.call(e.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(s)}),e.prototype.on.call(e.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(f)});b=n.Factory.addGetterSetter;b(e,"zIndex"),b(e,"absolutePosition"),b(e,"position"),b(e,"x",0,i.getNumberValidator()),b(e,"y",0,i.getNumberValidator()),b(e,"globalCompositeOperation","source-over",i.getStringValidator()),b(e,"opacity",1,i.getNumberValidator()),b(e,"name","",i.getStringValidator()),b(e,"id","",i.getStringValidator()),b(e,"rotation",0,i.getNumberValidator()),n.Factory.addComponentsGetterSetter(e,"scale",["x","y"]),b(e,"scaleX",1,i.getNumberValidator()),b(e,"scaleY",1,i.getNumberValidator()),n.Factory.addComponentsGetterSetter(e,"skew",["x","y"]),b(e,"skewX",0,i.getNumberValidator()),b(e,"skewY",0,i.getNumberValidator()),n.Factory.addComponentsGetterSetter(e,"offset",["x","y"]),b(e,"offsetX",0,i.getNumberValidator()),b(e,"offsetY",0,i.getNumberValidator()),b(e,"dragDistance",null,i.getNumberValidator()),b(e,"width",0,i.getNumberValidator()),b(e,"height",0,i.getNumberValidator()),b(e,"listening",!0,i.getBooleanValidator()),b(e,"preventDefault",!0,i.getBooleanValidator()),b(e,"filters",null,function(t){return this._filterUpToDate=!1,t}),b(e,"visible",!0,i.getBooleanValidator()),b(e,"transformsEnabled","all",i.getStringValidator()),b(e,"size"),b(e,"dragBoundFunc"),b(e,"draggable",!1,i.getBooleanValidator()),n.Factory.backCompat(e,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),h.Collection.mapMethods(e)},75552:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=n(73681),i=new Map,o=void 0!==n.Konva._global.PointerEvent;function a(t){return{evt:t,pointerId:t.pointerId}}function r(t,e){var n,r=i.get(t);r&&((n=r.getStage())&&n.content,i.delete(t),o&&r._fire("lostpointercapture",a(new PointerEvent("lostpointercapture"))))}e.getCapturedShape=function(t){return i.get(t)},e.createEvent=a,e.hasPointerCapture=function(t,e){return i.get(t)===e},e.setPointerCapture=function(t,e){r(t),e.getStage()&&(i.set(t,e),o&&e._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))},e.releaseCapture=r},48568:function(t,n,e){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o,c=e(98727),a=e(45432),s=e(19193),l=e(79788),u=e(73681),h=e(75552),d="hasShadow",f="shadowRGBA",p="patternImage",g="linearGradient",y="radialGradient";function v(){return o=o||c.Util.createCanvasElement().getContext("2d")}n.shapes={};var m,i=(m=s.Node,i(b,m),b.prototype.getContext=function(){return this.getLayer().getContext()},b.prototype.getCanvas=function(){return this.getLayer().getCanvas()},b.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},b.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},b.prototype.hasShadow=function(){return this._getCache(d,this._hasShadow)},b.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},b.prototype._getFillPattern=function(){return this._getCache(p,this.__getFillPattern)},b.prototype.__getFillPattern=function(){if(this.fillPatternImage())return v().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat")},b.prototype._getLinearGradient=function(){return this._getCache(g,this.__getLinearGradient)},b.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=v(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},b.prototype._getRadialGradient=function(){return this._getCache(y,this.__getRadialGradient)},b.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=v(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},b.prototype.getShadowRGBA=function(){return this._getCache(f,this._getShadowRGBA)},b.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=c.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},b.prototype.hasFill=function(){var t=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],function(){return t.fillEnabled()&&!!(t.fill()||t.fillPatternImage()||t.fillLinearGradientColorStops()||t.fillRadialGradientColorStops())})},b.prototype.hasStroke=function(){var t=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],function(){return t.strokeEnabled()&&t.strokeWidth()&&!(!t.stroke()&&!t.strokeLinearGradientColorStops())})},b.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t},b.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),0<e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]},b.prototype.destroy=function(){return s.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this},b.prototype._useBufferCanvas=function(t){if(!this.getStage())return!1;if(!(null===(r=this.attrs.perfectDrawEnabled)||void 0===r||r))return!1;var e=t||this.hasFill(),n=this.hasStroke(),r=1!==this.getAbsoluteOpacity();if(e&&n&&r)return!0;t=this.hasShadow(),r=this.shadowForStrokeEnabled();return!!(e&&n&&t&&r)},b.prototype.setStrokeHitEnabled=function(t){c.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},b.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},b.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}},b.prototype.getClientRect=function(t){var e=(t=t||{}).skipTransform,n=t.relativeTo,r=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,a=r.height+i,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,u=s?this.shadowOffsetY():0,t=o+Math.abs(l),o=a+Math.abs(u),a=s&&this.shadowBlur()||0,s=o+2*a,o=0,r={width:t+2*a+(o=Math.round(i/2)!==i/2?1:o),height:s+o,x:-Math.round(i/2+a)+Math.min(l,0)+r.x,y:-Math.round(i/2+a)+Math.min(u,0)+r.y};return e?r:this._transformedRect(r,n)},b.prototype.drawScene=function(t,e){var n,r=this.getLayer(),i=t||r.getCanvas(),o=i.getContext(),a=this._getCanvasCache(),s=this.getSceneFunc(),l=this.hasShadow(),t=i.isCache,r=i.isCache,i=e===this;if(!this.isVisible()&&!t)return this;if(a){o.save();var u=this.getAbsoluteTransform(e).getMatrix();return o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(o),o.restore(),this}return s&&(o.save(),this._useBufferCanvas()&&!r?((r=(u=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this),n=this.getAbsoluteTransform(e).getMatrix(),r.transform(n[0],n[1],n[2],n[3],n[4],n[5]),s.call(this,r,this),r.restore(),r=u.pixelRatio,l&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(u._canvas,0,0,u.width/r,u.height/r)):(o._applyLineJoin(this),i||(n=this.getAbsoluteTransform(e).getMatrix(),o.transform(n[0],n[1],n[2],n[3],n[4],n[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),l&&o._applyShadow(this),s.call(this,o,this)),o.restore()),this},b.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),r=t||n.hitCanvas,t=r&&r.getContext(),n=this.hitFunc()||this.sceneFunc(),r=this._getCanvasCache(),r=r&&r.hit;if(this.colorKey||(console.log(this),c.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),r){t.save();r=this.getAbsoluteTransform(e).getMatrix();return t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._drawCachedHitCanvas(t),t.restore(),this}return n&&(t.save(),t._applyLineJoin(this),this===e||(e=this.getAbsoluteTransform(e).getMatrix(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])),n.call(this,t,this),t.restore()),this},b.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,r,i,o,a=this._getCanvasCache(),s=this._getCachedSceneCanvas(),l=a.hit,u=l.getContext(),a=l.getWidth(),l=l.getHeight();u.clear(),u.drawImage(s._canvas,0,0,a,l);try{for(r=(n=(e=u.getImageData(0,0,a,l)).data).length,i=c.Util._hexToRgb(this.colorKey),o=0;o<r;o+=4)t<n[o+3]?(n[o]=i.r,n[o+1]=i.g,n[o+2]=i.b,n[o+3]=255):n[o+3]=0;u.putImageData(e,0,0)}catch(t){c.Util.error("Unable to draw hit graph from cached scene canvas. "+t.message)}return this},b.prototype.hasPointerCapture=function(t){return h.hasPointerCapture(t,this)},b.prototype.setPointerCapture=function(t){h.setPointerCapture(t,this)},b.prototype.releaseCapture=function(t){h.releaseCapture(t,this)},b);function b(t){for(var e,t=m.call(this,t)||this;!(e=c.Util.getRandomColor())||e in n.shapes;);return t.colorKey=e,n.shapes[e]=t}(n.Shape=i).prototype._fillFunc=function(t){t.fill()},i.prototype._strokeFunc=function(t){t.stroke()},i.prototype._fillFuncHit=function(t){t.fill()},i.prototype._strokeFuncHit=function(t){t.stroke()},i.prototype._centroid=!1,i.prototype.nodeType="Shape",u._registerNode(i),i.prototype.eventListeners={},i.prototype.on.call(i.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(d)}),i.prototype.on.call(i.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",function(){this._clearCache(f)}),i.prototype.on.call(i.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",function(){this._clearCache(p)}),i.prototype.on.call(i.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",function(){this._clearCache(g)}),i.prototype.on.call(i.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",function(){this._clearCache(y)}),a.Factory.addGetterSetter(i,"stroke",void 0,l.getStringValidator()),a.Factory.addGetterSetter(i,"strokeWidth",2,l.getNumberValidator()),a.Factory.addGetterSetter(i,"hitStrokeWidth","auto",l.getNumberOrAutoValidator()),a.Factory.addGetterSetter(i,"strokeHitEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(i,"perfectDrawEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(i,"shadowForStrokeEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(i,"lineJoin"),a.Factory.addGetterSetter(i,"lineCap"),a.Factory.addGetterSetter(i,"sceneFunc"),a.Factory.addGetterSetter(i,"hitFunc"),a.Factory.addGetterSetter(i,"dash"),a.Factory.addGetterSetter(i,"dashOffset",0,l.getNumberValidator()),a.Factory.addGetterSetter(i,"shadowColor",void 0,l.getStringValidator()),a.Factory.addGetterSetter(i,"shadowBlur",0,l.getNumberValidator()),a.Factory.addGetterSetter(i,"shadowOpacity",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(i,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(i,"shadowOffsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(i,"shadowOffsetY",0,l.getNumberValidator()),a.Factory.addGetterSetter(i,"fillPatternImage"),a.Factory.addGetterSetter(i,"fill",void 0,l.getStringValidator()),a.Factory.addGetterSetter(i,"fillPatternX",0,l.getNumberValidator()),a.Factory.addGetterSetter(i,"fillPatternY",0,l.getNumberValidator()),a.Factory.addGetterSetter(i,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(i,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(i,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(i,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(i,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(i,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(i,"fillEnabled",!0),a.Factory.addGetterSetter(i,"strokeEnabled",!0),a.Factory.addGetterSetter(i,"shadowEnabled",!0),a.Factory.addGetterSetter(i,"dashEnabled",!0),a.Factory.addGetterSetter(i,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(i,"fillPriority","color"),a.Factory.addComponentsGetterSetter(i,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(i,"fillPatternOffsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(i,"fillPatternOffsetY",0,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(i,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(i,"fillPatternScaleX",1,l.getNumberValidator()),a.Factory.addGetterSetter(i,"fillPatternScaleY",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(i,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(i,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(i,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(i,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(i,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(i,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(i,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(i,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(i,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(i,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(i,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(i,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(i,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(i,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(i,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(i,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(i,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(i,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(i,"fillPatternRotation",0),a.Factory.backCompat(i,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),c.Collection.mapMethods(i)},79844:function(t,n,e){"use strict";var r,i=e(45559),o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e(98727),s=e(45432),l=e(66916),c=e(73681),u=e(41190),h=e(85097),d=e(73681),f=e(75552),p="mouseout",g="mouseleave",y="mouseover",v="mouseenter",m="mousemove",b="mousedown",_="mouseup",x="pointermove",S="pointerdown",w="pointerup",C="contextmenu",P="dblclick",k="touchstart",T="touchend",E="touchmove",M="wheel",F="_",A=[v,b,m,_,p,k,E,T,y,M,C,S,x,w,"pointercancel","lostpointercapture"],N=A.length;function O(t){return((t=void 0===t?{}:t).clipFunc||t.clipWidth||t.clipHeight)&&a.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}n.stages=[];var R,o=(R=l.Container,o(D,R),D.prototype._validateAdd=function(t){var e="Layer"===t.getType(),t="FastLayer"===t.getType();e||t||a.Util.throw("You may only add layers to the stage.")},D.prototype._checkVisibility=function(){var t;this.content&&(t=this.visible()?"":"none",this.content.style.display=t)},D.prototype.setContainer=function(t){var e,n;if("string"===i(t)&&!(t="."===t.charAt(0)?(e=t.slice(1),document.getElementsByClassName(e)[0]):(n="#"!==t.charAt(0)?t:t.slice(1),document.getElementById(n))))throw"Can not find container in document with id "+n;return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},D.prototype.shouldDrawHit=function(){return!0},D.prototype.clear=function(){for(var t=this.children,e=t.length,n=0;n<e;n++)t[n].clear();return this},D.prototype.clone=function(t){return(t=t||{}).container=document.createElement("div"),l.Container.prototype.clone.call(this,t)},D.prototype.destroy=function(){R.prototype.destroy.call(this);var t=this.content;t&&a.Util._isInDocument(t)&&this.container().removeChild(t);t=n.stages.indexOf(this);return-1<t&&n.stages.splice(t,1),this},D.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(a.Util.warn("Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);"),null)},D.prototype._getPointerById=function(e){return this._pointerPositions.find(function(t){return t.id===e})},D.prototype.getPointersPositions=function(){return this._pointerPositions},D.prototype.getStage=function(){return this},D.prototype.getContent=function(){return this.content},D.prototype._toKonvaCanvas=function(e){var n=(e=e||{}).x||0,r=e.y||0,t=new u.SceneCanvas({width:e.width||this.width(),height:e.height||this.height(),pixelRatio:e.pixelRatio||1}),i=t.getContext()._context,o=this.children;return(n||r)&&i.translate(-1*n,-1*r),o.each(function(t){t.isVisible()&&(t=t._toKonvaCanvas(e),i.drawImage(t._canvas,n,r,t.getWidth()/t.getPixelRatio(),t.getHeight()/t.getPixelRatio()))}),t},D.prototype.getIntersection=function(t,e){if(!t)return null;for(var n,r=this.children,i=r.length-1;0<=i;i--)if(n=r[i].getIntersection(t,e))return n;return null},D.prototype._resizeDOM=function(){var e=this.width(),n=this.height();this.content&&(this.content.style.width=e+"px",this.content.style.height=n+"px"),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.each(function(t){t.setSize({width:e,height:n}),t.draw()})},D.prototype.add=function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}R.prototype.add.call(this,t);var n=this.children.length;return 5<n&&a.Util.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),c.Konva.isBrowser&&this.content.appendChild(t.canvas._canvas),this},D.prototype.getParent=function(){return null},D.prototype.getLayer=function(){return null},D.prototype.hasPointerCapture=function(t){return f.hasPointerCapture(t,this)},D.prototype.setPointerCapture=function(t){f.setPointerCapture(t,this)},D.prototype.releaseCapture=function(t){f.releaseCapture(t,this)},D.prototype.getLayers=function(){return this.getChildren()},D.prototype._bindContentEvents=function(){if(c.Konva.isBrowser)for(var t=0;t<N;t++)!function(e,n){e.content.addEventListener(n,function(t){e[F+n](t)},!1)}(this,A[t])},D.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(v,{evt:t,target:this,currentTarget:this})},D.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire("contentMouseover",{evt:t}),this._fire(y,{evt:t,target:this,currentTarget:this})},D.prototype._mouseout=function(t){this.setPointersPositions(t);var e=null!==(n=this.targetShape)&&void 0!==n&&n.getStage()?this.targetShape:null,n=!h.DD.isDragging||c.Konva.hitOnDragEnabled;e&&n?(e._fireAndBubble(p,{evt:t}),e._fireAndBubble(g,{evt:t}),this._fire(g,{evt:t,target:this,currentTarget:this}),this.targetShape=null):n&&(this._fire(g,{evt:t,target:this,currentTarget:this}),this._fire(p,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire("contentMouseout",{evt:t})},D.prototype._mousemove=function(t){if(c.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var e,n=a.Util._getFirstPointerId(t),r=null!==(e=this.targetShape)&&void 0!==e&&e.getStage()?this.targetShape:null,i=!h.DD.isDragging||c.Konva.hitOnDragEnabled;i&&((e=this.getIntersection(this.getPointerPosition()))&&e.isListening()?i&&r!==e?(r&&(r._fireAndBubble(p,{evt:t,pointerId:n},e),r._fireAndBubble(g,{evt:t,pointerId:n},e)),e._fireAndBubble(y,{evt:t,pointerId:n},r),e._fireAndBubble(v,{evt:t,pointerId:n},r),e._fireAndBubble(m,{evt:t,pointerId:n}),this.targetShape=e):e._fireAndBubble(m,{evt:t,pointerId:n}):(r&&i&&(r._fireAndBubble(p,{evt:t,pointerId:n}),r._fireAndBubble(g,{evt:t,pointerId:n}),this._fire(y,{evt:t,target:this,currentTarget:this,pointerId:n}),this.targetShape=null),this._fire(m,{evt:t,target:this,currentTarget:this,pointerId:n})),this._fire("contentMousemove",{evt:t})),t.cancelable&&t.preventDefault()},D.prototype._mousedown=function(t){if(c.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=a.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());h.DD.justDragged=!1,c.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n)._fireAndBubble(b,{evt:t,pointerId:e}):this._fire(b,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire("contentMousedown",{evt:t})},D.prototype._mouseup=function(t){if(c.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=a.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,i=this.clickEndShape,o=!1;c.Konva.inDblClickWindow?(o=!0,clearTimeout(this.dblTimeout)):h.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout(function(){c.Konva.inDblClickWindow=!1},c.Konva.dblClickWindow),n&&n.isListening()?((this.clickEndShape=n)._fireAndBubble(_,{evt:t,pointerId:e}),c.Konva.listenClickTap&&r&&r._id===n._id&&(n._fireAndBubble("click",{evt:t,pointerId:e}),o&&i&&i===n&&n._fireAndBubble(P,{evt:t,pointerId:e}))):(this.clickEndShape=null,this._fire(_,{evt:t,target:this,currentTarget:this,pointerId:e}),c.Konva.listenClickTap&&this._fire("click",{evt:t,target:this,currentTarget:this,pointerId:e}),o&&this._fire(P,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire("contentMouseup",{evt:t}),c.Konva.listenClickTap&&(this._fire("contentClick",{evt:t}),o&&this._fire("contentDblclick",{evt:t})),c.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},D.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(C,{evt:t}):this._fire(C,{evt:t,target:this,currentTarget:this}),this._fire("contentContextmenu",{evt:t})},D.prototype._touchstart=function(n){var r=this;this.setPointersPositions(n);var i=!1;this._changedPointerPositions.forEach(function(t){var e=r.getIntersection(t);c.Konva.listenClickTap=!0,h.DD.justDragged=!1,e&&e.isListening()&&(c.Konva.captureTouchEventsEnabled&&e.setPointerCapture(t.id),(r.tapStartShape=e)._fireAndBubble(k,{evt:n,pointerId:t.id},r),i=!0,e.isListening()&&e.preventDefault()&&n.cancelable&&n.preventDefault())}),i||this._fire(k,{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchstart",{evt:n})},D.prototype._touchmove=function(n){var r,i,o=this;this.setPointersPositions(n),h.DD.isDragging&&!c.Konva.hitOnDragEnabled||(r=!1,i={},this._changedPointerPositions.forEach(function(t){var e=f.getCapturedShape(t.id)||o.getIntersection(t);e&&e.isListening()&&(i[e._id]||(i[e._id]=!0,e._fireAndBubble(E,{evt:n,pointerId:t.id}),r=!0,e.isListening()&&e.preventDefault()&&n.cancelable&&n.preventDefault()))}),r||this._fire(E,{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchmove",{evt:n})),h.DD.isDragging&&h.DD.node.preventDefault()&&n.cancelable&&n.preventDefault()},D.prototype._touchend=function(n){var r=this;this.setPointersPositions(n);var i=this.tapEndShape,o=!1;c.Konva.inDblClickWindow?(o=!0,clearTimeout(this.dblTimeout)):h.DD.justDragged||(c.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout(function(){c.Konva.inDblClickWindow=!1},c.Konva.dblClickWindow);var a=!1,s={},l=!1,u=!1;this._changedPointerPositions.forEach(function(t){var e=f.getCapturedShape(t.id)||r.getIntersection(t);e&&e.releaseCapture(t.id),e&&e.isListening()&&(s[e._id]||(s[e._id]=!0,(r.tapEndShape=e)._fireAndBubble(T,{evt:n,pointerId:t.id}),a=!0,c.Konva.listenClickTap&&e===r.tapStartShape&&(l=!0,e._fireAndBubble("tap",{evt:n,pointerId:t.id}),o&&i&&i===e&&(u=!0,e._fireAndBubble("dbltap",{evt:n,pointerId:t.id}))),e.isListening()&&e.preventDefault()&&n.cancelable&&n.preventDefault()))}),a||this._fire(T,{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),c.Konva.listenClickTap&&!l&&(this.tapEndShape=null,this._fire("tap",{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})),o&&!u&&this._fire("dbltap",{evt:n,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire("contentTouchend",{evt:n}),c.Konva.listenClickTap&&(this._fire("contentTap",{evt:n}),o&&this._fire("contentDbltap",{evt:n})),this.preventDefault()&&n.cancelable&&n.preventDefault(),c.Konva.listenClickTap=!1},D.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(M,{evt:t}):this._fire(M,{evt:t,target:this,currentTarget:this}),this._fire("contentWheel",{evt:t})},D.prototype._pointerdown=function(t){var e;c.Konva._pointerEventsEnabled&&(this.setPointersPositions(t),(e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition()))&&e._fireAndBubble(S,f.createEvent(t)))},D.prototype._pointermove=function(t){var e;c.Konva._pointerEventsEnabled&&(this.setPointersPositions(t),(e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition()))&&e._fireAndBubble(x,f.createEvent(t)))},D.prototype._pointerup=function(t){var e;c.Konva._pointerEventsEnabled&&(this.setPointersPositions(t),(e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition()))&&e._fireAndBubble(w,f.createEvent(t)),f.releaseCapture(t.pointerId))},D.prototype._pointercancel=function(t){var e;c.Konva._pointerEventsEnabled&&(this.setPointersPositions(t),(e=f.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition()))&&e._fireAndBubble(w,f.createEvent(t)),f.releaseCapture(t.pointerId))},D.prototype._lostpointercapture=function(t){f.releaseCapture(t.pointerId)},D.prototype.setPointersPositions=function(t){var e,n,r=this,i=this._getContentPosition();void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],a.Collection.prototype.each.call(t.touches,function(t){r._pointerPositions.push({id:t.identifier,x:(t.clientX-i.left)/i.scaleX,y:(t.clientY-i.top)/i.scaleY})}),a.Collection.prototype.each.call(t.changedTouches||t.touches,function(t){r._changedPointerPositions.push({id:t.identifier,x:(t.clientX-i.left)/i.scaleX,y:(t.clientY-i.top)/i.scaleY})})):(e=(t.clientX-i.left)/i.scaleX,n=(t.clientY-i.top)/i.scaleY,this.pointerPos={x:e,y:n},this._pointerPositions=[{x:e,y:n,id:a.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:e,y:n,id:a.Util._getFirstPointerId(t)}])},D.prototype._setPointerPosition=function(t){a.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},D.prototype._getContentPosition=function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},D.prototype._buildDOM=function(){if(this.bufferCanvas=new u.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new u.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),c.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},D.prototype.cache=function(){return a.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},D.prototype.clearCache=function(){return this},D.prototype.batchDraw=function(){return this.children.each(function(t){t.batchDraw()}),this},D);function D(t){var e=R.call(this,O(t))||this;return e._pointerPositions=[],e._changedPointerPositions=[],e._buildDOM(),e._bindContentEvents(),n.stages.push(e),e.on("widthChange.konva heightChange.konva",e._resizeDOM),e.on("visibleChange.konva",e._checkVisibility),e.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",function(){O(e.attrs)}),e._checkVisibility(),e}(n.Stage=o).prototype.nodeType="Stage",d._registerNode(o),s.Factory.addGetterSetter(o,"container")},95685:function(t,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var f=e(98727),u=e(11230),n=e(19193),c=e(73681),h={node:1,duration:1,easing:1,onFinish:1,yoyo:1},d=0,p=["fill","stroke","shadowColor"],g=(r.prototype.fire=function(t){t=this[t];t&&t()},r.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},r.prototype.getTime=function(){return this._time},r.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},r.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},r.prototype.play=function(){this.state=2,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},r.prototype.reverse=function(){this.state=3,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},r.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},r.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},r.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},r.prototype.update=function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")},r.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;2===this.state?this.setTime(t):3===this.state&&this.setTime(this.duration-t)},r.prototype.pause=function(){this.state=1,this.fire("onPause")},r.prototype.getTimer=function(){return(new Date).getTime()},r);function r(t,e,n,r,i,o,a){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}var i=(y.prototype._addAttr=function(t,e){var n,r,i,o,a,s,l,u,c=this.node,h=c._id,d=y.tweens[h][t];if(d&&delete y.attrs[h][d][t],n=c.getAttr(t),f.Util._isArray(e))if(r=[],o=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?n=f.Util._prepareArrayForTween(s=n,e,c.closed()):e=f.Util._prepareArrayForTween(a=e,n,c.closed())),0===t.indexOf("fill"))for(i=0;i<o;i++)i%2==0?r.push(e[i]-n[i]):(l=f.Util.colorToRGBA(n[i]),u=f.Util.colorToRGBA(e[i]),n[i]=l,r.push({r:u.r-l.r,g:u.g-l.g,b:u.b-l.b,a:u.a-l.a}));else for(i=0;i<o;i++)r.push(e[i]-n[i]);else r=-1!==p.indexOf(t)?(n=f.Util.colorToRGBA(n),{r:(u=f.Util.colorToRGBA(e)).r-n.r,g:u.g-n.g,b:u.b-n.b,a:u.a-n.a}):e-n;y.attrs[h][this._id][t]={start:n,diff:r,end:e,trueEnd:a,trueStart:s},y.tweens[h][t]=this._id},y.prototype._tweenFunc=function(t){var e,n,r,i,o,a,s,l=this.node,u=y.attrs[l._id][this._id];for(e in u){if(n=(s=u[e]).start,r=s.diff,s=s.end,f.Util._isArray(n))if(i=[],a=Math.max(n.length,s.length),0===e.indexOf("fill"))for(o=0;o<a;o++)o%2==0?i.push((n[o]||0)+r[o]*t):i.push("rgba("+Math.round(n[o].r+r[o].r*t)+","+Math.round(n[o].g+r[o].g*t)+","+Math.round(n[o].b+r[o].b*t)+","+(n[o].a+r[o].a*t)+")");else for(o=0;o<a;o++)i.push((n[o]||0)+r[o]*t);else i=-1!==p.indexOf(e)?"rgba("+Math.round(n.r+r.r*t)+","+Math.round(n.g+r.g*t)+","+Math.round(n.b+r.b*t)+","+(n.a+r.a*t)+")":n+r*t;l.setAttr(e,i)}},y.prototype._addListeners=function(){var n=this;this.tween.onPlay=function(){n.anim.start()},this.tween.onReverse=function(){n.anim.start()},this.tween.onPause=function(){n.anim.stop()},this.tween.onFinish=function(){var t=n.node,e=y.attrs[t._id][n._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),n.onFinish&&n.onFinish.call(n)},this.tween.onReset=function(){var t=n.node,e=y.attrs[t._id][n._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),n.onReset&&n.onReset()},this.tween.onUpdate=function(){n.onUpdate&&n.onUpdate.call(n)}},y.prototype.play=function(){return this.tween.play(),this},y.prototype.reverse=function(){return this.tween.reverse(),this},y.prototype.reset=function(){return this.tween.reset(),this},y.prototype.seek=function(t){return this.tween.seek(1e3*t),this},y.prototype.pause=function(){return this.tween.pause(),this},y.prototype.finish=function(){return this.tween.finish(),this},y.prototype.destroy=function(){var t,e=this.node._id,n=this._id,r=y.tweens[e];for(t in this.pause(),r)delete y.tweens[e][t];delete y.attrs[e][n]},y.attrs={},y.tweens={},y);function y(t){var e,n=this,r=t.node,i=r._id,o=t.easing||l.Easings.Linear,a=!!t.yoyo,s=void 0===t.duration?.3:0===t.duration?.001:t.duration;this.node=r,this._id=d++;r=r.getLayer()||(r instanceof c.Konva.Stage?r.getLayers():null);for(e in r||f.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new u.Animation(function(){n.tween.onEnterFrame()},r),this.tween=new g(e,function(t){n._tweenFunc(t)},o,0,1,1e3*s,a),this._addListeners(),y.attrs[i]||(y.attrs[i]={}),y.attrs[i][this._id]||(y.attrs[i][this._id]={}),y.tweens[i]||(y.tweens[i]={}),t)void 0===h[e]&&this._addAttr(e,t[e]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}l.Tween=i,n.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new i(t).play()},l.Easings={BackEaseIn:function(t,e,n,r){return n*(t/=r)*t*(2.70158*t-1.70158)+e},BackEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*(2.70158*t+1.70158)+1)+e},BackEaseInOut:function(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn:function(t,e,n,r,i,o){var a=0;return 0===t?e:1==(t/=r)?e+n:(o=o||.3*r,a=!i||i<Math.abs(n)?(i=n,o/4):o/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*--t)*Math.sin((t*r-a)*(2*Math.PI)/o))+e)},ElasticEaseOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:1==(t/=r)?e+n:(o=o||.3*r,a=!i||i<Math.abs(n)?(i=n,o/4):o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:2==(t/=r/2)?e+n:(o=o||r*(.3*1.5),a=!i||i<Math.abs(n)?(i=n,o/4):o/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*--t)*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*--t)*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,r){return n-l.Easings.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut:function(t,e,n,r){return t<r/2?.5*l.Easings.BounceEaseIn(2*t,0,n,r)+e:.5*l.Easings.BounceEaseOut(2*t-r,0,n,r)+.5*n+e},EaseIn:function(t,e,n,r){return n*(t/=r)*t+e},EaseOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,r){return n*t/r+e}}},98727:function(t,l,e){"use strict";var r=e(45559);Object.defineProperty(l,"__esModule",{value:!0});var i=e(73681),e=(o.toCollection=function(t){for(var e=new o,n=t.length,r=0;r<n;r++)e.push(t[r]);return e},o._mapMethod=function(r){o.prototype[r]=function(){for(var t=this.length,e=[].slice.call(arguments),n=0;n<t;n++)this[n][r].apply(this[n],e);return this}},o.mapMethods=function(t){for(var e in t.prototype)o._mapMethod(e)},o);function o(){}(l.Collection=e).prototype=[],e.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},e.prototype.toArray=function(){for(var t=[],e=this.length,n=0;n<e;n++)t.push(this[n]);return t};n.prototype.reset=function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0},n.prototype.copy=function(){return new n(this.m)},n.prototype.copyInto=function(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]},n.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},n.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},n.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,t=this.m[0]*-n+this.m[2]*e,e=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=t,this.m[3]=e,this},n.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},n.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,e=this.m[2]+this.m[0]*t,t=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=e,this.m[3]=t,this},n.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],t=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=t,this},n.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,i=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),t=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=t,this},n.prototype.getMatrix=function(){return this.m},n.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],a=this.m[4],r=(n*(e-this.m[5])-r*(t-a))/(n*o-r*i);return this.translate((t-a-i*r)/n,r)},n.prototype.decompose=function(){var t,e=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],o=e*i-n*r,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};return 0!=e||0!=n?(t=Math.sqrt(e*e+n*n),a.rotation=0<n?Math.acos(e/t):-Math.acos(e/t),a.scaleX=t,a.scaleY=o/t,a.skewX=(e*r+n*i)/o,a.skewY=0):0==r&&0==i||(t=Math.sqrt(r*r+i*i),a.rotation=Math.PI/2-(0<i?Math.acos(-r/t):-Math.acos(r/t)),a.scaleX=o/t,a.scaleY=t,a.skewX=0,a.skewY=(e*r+n*i)/o),a.rotation=l.Util._getRotation(a.rotation),a},e=n;function n(t){void 0===t&&(t=[1,0,0,1,0,0]),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}l.Transform=e;var a=Math.PI/180,s=180/Math.PI,u="Konva error: ",c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},h=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,d=[];l.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},_isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&!isNaN(t)&&isFinite(t)},_isString:function(t){return"[object String]"===Object.prototype.toString.call(t)},_isBoolean:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!=typeof t)return!1;t=t[0];return"#"===t||"."===t||t===t.toUpperCase()},_sign:function(t){return 0===t?0:0<t?1:-1},requestAnimFrame:function(t){d.push(t),1===d.length&&requestAnimationFrame(function(){var t=d;d=[],t.forEach(function(t){t()})})},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){for(var e,n=[],r=t.length,i=l.Util,o=0;o<r;o++)e=t[o],i._isNumber(e)?e=Math.round(1e3*e)/1e3:i._isString(e)||(e=e.toString()),n.push(e);return n},_urlToImage:function(t,e){var n=new i.glob.Image;n.onload=function(){e(n)},n.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace("#","");t=parseInt(t,16);return{r:t>>16&255,g:t>>8&255,b:255&t}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in c?{r:(e=c[t])[0],g:e[1],b:e[2]}:"#"===t[0]?this._hexToRgb(t.substring(1)):"rgb("===t.substr(0,4)?(e=h.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return l.Util._namedColorToRBA(t=t||"black")||l.Util._hex3ColorToRGBA(t)||l.Util._hex6ColorToRGBA(t)||l.Util._rgbColorToRGBA(t)||l.Util._rgbaColorToRGBA(t)||l.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){t=c[t.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){t=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){t=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),t=(e[0],e.slice(1)),n=Number(t[0])/360,e=Number(t[1])/100,t=Number(t[2])/100,r=void 0,i=void 0,o=void 0;if(0==e)return o=255*t,{r:Math.round(o),g:Math.round(o),b:Math.round(o),a:1};for(var a=2*t-(r=t<.5?t*(1+e):t+e-t*e),s=[0,0,0],l=0;l<3;l++)(i=n+1/3*-(l-1))<0&&i++,1<i&&i--,s[l]=255*(o=6*i<1?a+6*(r-a)*i:2*i<1?r:3*i<2?a+(r-a)*(2/3-i)*6:a);return{r:Math.round(s[0]),g:Math.round(s[1]),b:Math.round(s[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e,n={};for(e in t)this._isPlainObject(t[e])?n[e]=this.cloneObject(t[e]):this._isArray(t[e])?n[e]=this.cloneArray(t[e]):n[e]=t[e];return n},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*a},_radToDeg:function(t){return t*s},_getRotation:function(t){return i.Konva.angleDeg?l.Util._radToDeg(t):t},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(u+t)},error:function(t){console.error(u+t)},warn:function(t){i.Konva.showWarnings&&console.warn("Konva warning: "+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var r,i=t.prototype;for(r in t.prototype=new n,i)i.hasOwnProperty(r)&&(t.prototype[r]=i[r]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,r,i,o,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),u=a*s/(s+l),l=a*l/(s+l);return[n-u*(i-t),r-u*(o-e),n+l*(i-t),r+l*(o-e)]},_expandPoints:function(t,e){for(var n,r=t.length,i=[],o=2;o<r-2;o+=2)n=l.Util._getControlPoints(t[o-2],t[o-1],t[o],t[o+1],t[o+2],t[o+3],e),i.push(n[0]),i.push(n[1]),i.push(t[o]),i.push(t[o+1]),i.push(n[2]),i.push(n[3]);return i},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,r,i,o){var a,s,l=(t-n)*(t-n)+(e-r)*(e-r);return o=0==l?(a=t,s=e,(i-n)*(i-n)+(o-r)*(o-r)):(l=((i-t)*(n-t)+(o-e)*(r-e))/l)<0?((a=t)-i)*(t-i)+((s=e)-o)*(e-o):1<l?((a=n)-i)*(n-i)+((s=r)-o)*(r-o):((a=t+l*(n-t))-i)*(a-i)+((s=e+l*(r-e))-o)*(s-o),[a,s,o]},_getProjectionToLine:function(r,i,o){var a=l.Util.cloneObject(r),s=Number.MAX_VALUE;return i.forEach(function(t,e){var n;!o&&e===i.length-1||(n=i[(e+1)%i.length],t=(e=l.Util._getProjectionToSegment(t.x,t.y,n.x,n.y,r.x,r.y))[0],n=e[1],(e=e[2])<s&&(a.x=t,a.y=n,s=e))}),a},_prepareArrayForTween:function(t,e,n){var r,i,o=[],a=[];for(t.length>e.length&&(i=e,e=t,t=i),r=0;r<t.length;r+=2)o.push({x:t[r],y:t[r+1]});for(r=0;r<e.length;r+=2)a.push({x:e[r],y:e[r+1]});var s=[];return a.forEach(function(t){t=l.Util._getProjectionToLine(t,o,n);s.push(t.x),s.push(t.y)}),s},_prepareToStringify:function(t){var e,n;for(n in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(n)&&t[n]&&"object"==r(t[n]))if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||l.Util._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===l.Util._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},79788:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(73681),i=n(98727);function o(t){return i.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||i.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}e.RGBComponent=function(t){return 255<t?255:t<0?0:Math.round(t)},e.alphaComponent=function(t){return 1<t?1:t<1e-4?1e-4:t},e.getNumberValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}},e.getNumberOrAutoValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||"auto"===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}},e.getStringValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isString(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}},e.getFunctionValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isFunction(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}},e.getNumberArrayValidator=function(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isArray(t)?t.forEach(function(t){i.Util._isNumber(t)||i.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")}):i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}},e.getBooleanValidator=function(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}},e.getComponentValidator=function(n){if(r.Konva.isUnminified)return function(t,e){return i.Util.isObject(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be an object with properties '+n),t}}},18523:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(73681),i=n(98727),o=n(19193),a=n(66916),s=n(79844),l=n(22291),u=n(83236),c=n(90013),h=n(85097),d=n(48568),f=n(11230),p=n(95685),g=n(48134),n=n(41190);e.Konva=i.Util._assign(r.Konva,{Collection:i.Collection,Util:i.Util,Transform:i.Transform,Node:o.Node,ids:o.ids,names:o.names,Container:a.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:u.FastLayer,Group:c.Group,DD:h.DD,Shape:d.Shape,shapes:d.shapes,Animation:f.Animation,Tween:p.Tween,Easings:p.Easings,Context:g.Context,Canvas:n.Canvas})},57223:function(t,e,n){"use strict";var r=n(18523),i=n(12681),o=n(53294),a=n(65747),s=n(52113),l=n(88780),u=n(2198),c=n(77342),h=n(25857),d=n(98541),f=n(33804),p=n(23913),g=n(96023),y=n(10276),v=n(88050),m=n(54229),b=n(35635),_=n(94259),x=n(22705),S=n(95868),w=n(32104),C=n(10552),P=n(22301),k=n(2068),T=n(1742),E=n(57994),M=n(55267),F=n(46710),A=n(3717),N=n(11390),O=n(55277),R=n(92266),D=n(2897),I=n(52306),L=n(50352),G=n(78664),n=n(89102);e.S=r.Konva.Util._assign(r.Konva,{Arc:i.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:u.Label,Tag:u.Tag,Line:c.Line,Path:h.Path,Rect:d.Rect,RegularPolygon:f.RegularPolygon,Ring:p.Ring,Sprite:g.Sprite,Star:y.Star,Text:v.Text,TextPath:m.TextPath,Transformer:b.Transformer,Wedge:_.Wedge,Filters:{Blur:x.Blur,Brighten:S.Brighten,Contrast:w.Contrast,Emboss:C.Emboss,Enhance:P.Enhance,Grayscale:k.Grayscale,HSL:T.HSL,HSV:E.HSV,Invert:M.Invert,Kaleidoscope:F.Kaleidoscope,Mask:A.Mask,Noise:N.Noise,Pixelate:O.Pixelate,Posterize:R.Posterize,RGB:D.RGB,RGBA:I.RGBA,Sepia:L.Sepia,Solarize:G.Solarize,Threshold:n.Threshold}})},22705:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);function B(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var j=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],W=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];e.Blur=function(t){var e=Math.round(this.blurRadius());0<e&&function(t,e){for(var n,r,i,o,a,s,l,u,c,h,d,f,p,g,y,v,m,b,_,x,S,w,C,P=t.data,k=t.width,T=t.height,E=e+e+1,M=k-1,F=T-1,A=e+1,N=A*(A+1)/2,O=new B,R=null,D=O,I=null,L=null,G=j[e],z=W[e],U=1;U<E;U++)D=D.next=new B,U===A&&(R=D);for(D.next=O,r=s=a=0;r<T;r++){for(y=v=m=b=l=u=c=h=0,d=A*(_=P[a]),f=A*(x=P[a+1]),p=A*(S=P[a+2]),g=A*(w=P[a+3]),l+=N*_,u+=N*x,c+=N*S,h+=N*w,D=O,U=0;U<A;U++)D.r=_,D.g=x,D.b=S,D.a=w,D=D.next;for(U=1;U<A;U++)l+=(D.r=_=P[i=a+((M<U?M:U)<<2)])*(C=A-U),u+=(D.g=x=P[i+1])*C,c+=(D.b=S=P[i+2])*C,h+=(D.a=w=P[i+3])*C,y+=_,v+=x,m+=S,b+=w,D=D.next;for(I=O,L=R,n=0;n<k;n++)P[a+3]=w=h*G>>z,0!==w?(P[a]=(l*G>>z)*(w=255/w),P[a+1]=(u*G>>z)*w,P[a+2]=(c*G>>z)*w):P[a]=P[a+1]=P[a+2]=0,l-=d,u-=f,c-=p,h-=g,d-=I.r,f-=I.g,p-=I.b,g-=I.a,i=s+((i=n+e+1)<M?i:M)<<2,l+=y+=I.r=P[i],u+=v+=I.g=P[i+1],c+=m+=I.b=P[i+2],h+=b+=I.a=P[i+3],I=I.next,d+=_=L.r,f+=x=L.g,p+=S=L.b,g+=w=L.a,y-=_,v-=x,m-=S,b-=w,L=L.next,a+=4;s+=k}for(n=0;n<k;n++){for(v=m=b=y=u=c=h=l=0,d=A*(_=P[a=n<<2]),f=A*(x=P[a+1]),p=A*(S=P[a+2]),g=A*(w=P[a+3]),l+=N*_,u+=N*x,c+=N*S,h+=N*w,D=O,U=0;U<A;U++)D.r=_,D.g=x,D.b=S,D.a=w,D=D.next;for(o=k,U=1;U<=e;U++)l+=(D.r=_=P[a=o+n<<2])*(C=A-U),u+=(D.g=x=P[a+1])*C,c+=(D.b=S=P[a+2])*C,h+=(D.a=w=P[a+3])*C,y+=_,v+=x,m+=S,b+=w,D=D.next,U<F&&(o+=k);for(a=n,I=O,L=R,r=0;r<T;r++)P[(i=a<<2)+3]=w=h*G>>z,0<w?(P[i]=(l*G>>z)*(w=255/w),P[i+1]=(u*G>>z)*w,P[i+2]=(c*G>>z)*w):P[i]=P[i+1]=P[i+2]=0,l-=d,u-=f,c-=p,h-=g,d-=I.r,f-=I.g,p-=I.b,g-=I.a,i=n+((i=r+A)<F?i:F)*k<<2,l+=y+=I.r=P[i],u+=v+=I.g=P[i+1],c+=m+=I.b=P[i+2],h+=b+=I.a=P[i+3],I=I.next,d+=_=L.r,f+=x=L.g,p+=S=L.b,g+=w=L.a,y-=_,v-=x,m-=S,b-=w,L=L.next,a+=k}}(t,e)},r.Factory.addGetterSetter(i.Node,"blurRadius",0,n.getNumberValidator(),r.Factory.afterSetFilter)},95868:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);e.Brighten=function(t){for(var e=255*this.brightness(),n=t.data,r=n.length,i=0;i<r;i+=4)n[i]+=e,n[i+1]+=e,n[i+2]+=e},r.Factory.addGetterSetter(i.Node,"brightness",0,n.getNumberValidator(),r.Factory.afterSetFilter)},32104:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);e.Contrast=function(t){for(var e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,i=150,o=150,a=150,s=0;s<r;s+=4)i=n[s],o=n[s+1],a=n[s+2],i/=255,i-=.5,i*=e,i+=.5,o/=255,o-=.5,o*=e,o+=.5,a/=255,a-=.5,a*=e,a+=.5,o=(o*=255)<0?0:255<o?255:o,a=(a*=255)<0?0:255<a?255:a,n[s]=i=(i*=255)<0?0:255<i?255:i,n[s+1]=o,n[s+2]=a},r.Factory.addGetterSetter(i.Node,"contrast",0,n.getNumberValidator(),r.Factory.afterSetFilter)},10552:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),x=n(98727),n=n(79788);e.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),o=0,a=0,s=t.data,l=t.width,u=t.height,c=4*l,h=u;switch(r){case"top-left":a=o=-1;break;case"top":o=-1,a=0;break;case"top-right":o=-1,a=1;break;case"right":o=0,a=1;break;case"bottom-right":a=o=1;break;case"bottom":o=1,a=0;break;case"bottom-left":a=-(o=1);break;case"left":o=0,a=-1;break;default:x.Util.error("Unknown emboss direction: "+r)}do{var d=(h-1)*c,f=o,p=(h-1+(f=u<h+(f=h+o<1?0:o)?0:f))*l*4,g=l;do{var y=d+4*(g-1),v=a,m=p+4*(g-1+(v=l<g+(v=g+a<1?0:a)?0:v)),b=s[y]-s[m],_=s[1+y]-s[1+m],v=s[2+y]-s[2+m],m=b,b=0<m?m:-m}while(b<(0<_?_:-_)&&(m=_),b<(0<v?v:-v)&&(m=v),m*=e,i?(_=s[y]+m,b=s[1+y]+m,v=s[2+y]+m,s[y]=255<_?255:_<0?0:_,s[1+y]=255<b?255:b<0?0:b,s[2+y]=255<v?255:v<0?0:v):((m=n-m)<0?m=0:255<m&&(m=255),s[y]=s[1+y]=s[2+y]=m),--g)}while(--h)},r.Factory.addGetterSetter(i.Node,"embossStrength",.5,n.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossWhiteLevel",.5,n.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},22301:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);function m(t,e,n,r,i){n-=e,i-=r;return 0==n?r+i/2:0==i?r:i*((t-e)/n)+r}e.Enhance=function(t){var e,n,r,i,o,a,s,l,u=t.data,c=u.length,h=u[0],d=h,f=u[1],p=f,g=u[2],y=g,v=this.enhance();if(0!==v){for(n=0;n<c;n+=4)(e=u[n+0])<h?h=e:d<e&&(d=e),(e=u[n+1])<f?f=e:p<e&&(p=e),(e=u[n+2])<g?g=e:y<e&&(y=e);for(d===h&&(d=255,h=0),p===f&&(p=255,f=0),y===g&&(y=255,g=0),l=0<v?(r=d+v*(255-d),i=h-v*+h,o=p+v*(255-p),a=f-v*+f,s=y+v*(255-y),g-v*+g):(r=d+v*(d-(t=.5*(d+h))),i=h+v*(h-t),o=p+v*(p-(t=.5*(p+f))),a=f+v*(f-t),s=y+v*(y-(t=.5*(y+g))),g+v*(g-t)),n=0;n<c;n+=4)u[n+0]=m(u[n+0],h,d,i,r),u[n+1]=m(u[n+1],f,p,a,o),u[n+2]=m(u[n+2],g,y,l,s)}},r.Factory.addGetterSetter(i.Node,"enhance",0,n.getNumberValidator(),r.Factory.afterSetFilter)},2068:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Grayscale=function(t){for(var e,n=t.data,r=n.length,i=0;i<r;i+=4)e=.34*n[i]+.5*n[i+1]+.16*n[i+2],n[i]=e,n[i+1]=e,n[i+2]=e}},1742:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);r.Factory.addGetterSetter(i.Node,"hue",0,n.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,n.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"luminance",0,n.getNumberValidator(),r.Factory.afterSetFilter),e.HSL=function(t){for(var e,n,r,i,o=t.data,a=o.length,s=Math.pow(2,this.saturation()),l=Math.abs(this.hue()+360)%360,u=127*this.luminance(),t=+s*Math.cos(l*Math.PI/180),l=+s*Math.sin(l*Math.PI/180),c=.299+.701*t+.167*l,h=.587-.587*t+.33*l,d=.114-.114*t-.497*l,f=.299-.299*t-.328*l,p=.587+.413*t+.035*l,g=.114-.114*t+.293*l,y=.299-.3*t+1.25*l,v=.587-.586*t-1.05*l,m=.114+.886*t-.2*l,b=0;b<a;b+=4)e=o[b+0],n=o[b+1],r=o[b+2],i=o[b+3],o[b+0]=c*e+h*n+d*r+u,o[b+1]=f*e+p*n+g*r+u,o[b+2]=y*e+v*n+m*r+u,o[b+3]=i}},57994:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);e.HSV=function(t){for(var e,n,r,i,o=t.data,a=o.length,s=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,t=s*l*Math.cos(u*Math.PI/180),u=s*l*Math.sin(u*Math.PI/180),c=.299*s+.701*t+.167*u,h=.587*s-.587*t+.33*u,d=.114*s-.114*t-.497*u,f=.299*s-.299*t-.328*u,p=.587*s+.413*t+.035*u,g=.114*s-.114*t+.293*u,y=.299*s-.3*t+1.25*u,v=.587*s-.586*t-1.05*u,m=.114*s+.886*t-.2*u,b=0;b<a;b+=4)e=o[b+0],n=o[b+1],r=o[b+2],i=o[b+3],o[b+0]=c*e+h*n+d*r,o[b+1]=f*e+p*n+g*r,o[b+2]=y*e+v*n+m*r,o[b+3]=i},r.Factory.addGetterSetter(i.Node,"hue",0,n.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,n.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"value",0,n.getNumberValidator(),r.Factory.afterSetFilter)},55267:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Invert=function(t){for(var e=t.data,n=e.length,r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]}},46710:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),S=n(98727),n=n(79788);e.Kaleidoscope=function(t){var e,n,r,i,o,a,s,l,u,c,h=t.width,d=t.height,f=Math.round(this.kaleidoscopePower()),p=Math.round(this.kaleidoscopeAngle()),g=Math.floor(h*(p%360)/360);if(!(f<1)){p=S.Util.createCanvasElement();p.width=h,p.height=d;var y=p.getContext("2d").getImageData(0,0,h,d);!function(t,e,n){for(var r,i,o,a,s,l,u,c,h=t.data,d=e.data,f=t.width,t=t.height,p=n.polarCenterX||f/2,g=n.polarCenterY||t/2,y=Math.sqrt(p*p+g*g),v=f-p,m=t-g,n=Math.sqrt(v*v+m*m),y=y<n?n:y,b=t,_=f,x=360/_*Math.PI/180,S=0;S<_;S+=1)for(u=Math.sin(S*x),c=Math.cos(S*x),l=0;l<b;l+=1)v=Math.floor(p+y*l/b*c),i=h[0+(r=4*(Math.floor(g+y*l/b*u)*f+v))],o=h[1+r],a=h[2+r],s=h[3+r],d[0+(r=4*(S+l*f))]=i,d[1+r]=o,d[2+r]=a,d[3+r]=s}(t,y,{polarCenterX:h/2,polarCenterY:d/2});for(var v=h/Math.pow(2,f);v<=8;)v*=2,--f;var m=v=Math.ceil(v),b=0,_=m,x=1;for(h<g+v&&(b=m,_=0,x=-1),n=0;n<d;n+=1)for(e=b;e!==_;e+=x)r=Math.round(e+g)%h,o=y.data[(u=4*(h*n+r))+0],a=y.data[u+1],s=y.data[u+2],l=y.data[u+3],y.data[(c=4*(h*n+e))+0]=o,y.data[c+1]=a,y.data[c+2]=s,y.data[c+3]=l;for(n=0;n<d;n+=1)for(m=Math.floor(v),i=0;i<f;i+=1){for(e=0;e<m+1;e+=1)o=y.data[(u=4*(h*n+e))+0],a=y.data[u+1],s=y.data[u+2],l=y.data[u+3],y.data[(c=4*(h*n+2*m-e-1))+0]=o,y.data[c+1]=a,y.data[c+2]=s,y.data[c+3]=l;m*=2}!function(t,e,n){var r,i,o,a,s,l,u,c=t.data,h=e.data,d=t.width,f=t.height,p=n.polarCenterX||d/2,g=n.polarCenterY||f/2,y=Math.sqrt(p*p+g*g),v=d-p,m=f-g,t=Math.sqrt(v*v+m*m),y=y<t?t:y,b=f,_=d,x=n.polarRotation||0;for(v=0;v<d;v+=1)for(m=0;m<f;m+=1)u=v-p,r=m-g,l=Math.sqrt(u*u+r*r)*b/y,u=(180*Math.atan2(r,u)/Math.PI+360+x)%360*_/360,u=Math.floor(u),i=c[0+(u=4*(Math.floor(l)*d+u))],o=c[1+u],a=c[2+u],s=c[3+u],h[0+(u=4*(m*d+v))]=i,h[1+u]=o,h[2+u]=a,h[3+u]=s}(y,t,{polarRotation:0})}},r.Factory.addGetterSetter(i.Node,"kaleidoscopePower",2,n.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"kaleidoscopeAngle",0,n.getNumberValidator(),r.Factory.afterSetFilter)},3717:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);function h(t,e,n){n=4*(n*t.width+e),e=[];return e.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),e}function d(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function o(t,e){var n=h(t,0,0),r=h(t,t.width-1,0),i=h(t,0,t.height-1),o=h(t,t.width-1,t.height-1),a=e||10;if(d(n,r)<a&&d(r,o)<a&&d(o,i)<a&&d(i,n)<a){for(var s=function(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}([r,n,o,i]),l=[],u=0;u<t.width*t.height;u++){var c=d(s,[t.data[4*u],t.data[4*u+1],t.data[4*u+2]]);l[u]=c<a?0:255}return l}}e.Mask=function(t){var e=o(t,this.threshold());return e&&function(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}(t,function(t,e,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=l+d-o;0<=f&&f<n&&0<=p&&p<e&&(c+=t[f*e+p]*r[h*i+d])}a[u]=c}return a}(function(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=l+d-o;0<=f&&f<n&&0<=p&&p<e&&(c+=t[f*e+p]*r[h*i+d])}a[u]=1020<=c?255:0}return a}(function(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,h=0;h<i;h++)for(var d=0;d<i;d++){var f=s+h-o,p=l+d-o;0<=f&&f<n&&0<=p&&p<e&&(c+=t[f*e+p]*r[h*i+d])}a[u]=2040===c?255:0}return a}(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(i.Node,"threshold",0,n.getNumberValidator(),r.Factory.afterSetFilter)},11390:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);e.Noise=function(t){for(var e=255*this.noise(),n=t.data,r=n.length,i=e/2,o=0;o<r;o+=4)n[o+0]+=i-2*i*Math.random(),n[o+1]+=i-2*i*Math.random(),n[o+2]+=i-2*i*Math.random()},r.Factory.addGetterSetter(i.Node,"noise",.2,n.getNumberValidator(),r.Factory.afterSetFilter)},55277:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),x=n(98727),i=n(19193),n=n(79788);e.Pixelate=function(t){var e,n,r,i,o,a,s,l,u,c,h,d,f,p,g=Math.ceil(this.pixelSize()),y=t.width,v=t.height,m=Math.ceil(y/g),b=Math.ceil(v/g),_=t.data;if(g<=0)x.Util.error("pixelSize value can not be <= 0");else for(d=0;d<m;d+=1)for(f=0;f<b;f+=1){for(u=(l=d*g)+g,h=(c=f*g)+g,p=s=a=o=i=0,e=l;e<u;e+=1)if(!(y<=e))for(n=c;n<h;n+=1)v<=n||(i+=_[(r=4*(y*n+e))+0],o+=_[r+1],a+=_[r+2],s+=_[r+3],p+=1);for(i/=p,o/=p,a/=p,s/=p,e=l;e<u;e+=1)if(!(y<=e))for(n=c;n<h;n+=1)v<=n||(_[(r=4*(y*n+e))+0]=i,_[r+1]=o,_[r+2]=a,_[r+3]=s)}},r.Factory.addGetterSetter(i.Node,"pixelSize",8,n.getNumberValidator(),r.Factory.afterSetFilter)},92266:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);e.Posterize=function(t){for(var e=Math.round(254*this.levels())+1,n=t.data,r=n.length,i=255/e,o=0;o<r;o+=1)n[o]=Math.floor(n[o]/i)*i},r.Factory.addGetterSetter(i.Node,"levels",.5,n.getNumberValidator(),r.Factory.afterSetFilter)},2897:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);e.RGB=function(t){for(var e,n=t.data,r=n.length,i=this.red(),o=this.green(),a=this.blue(),s=0;s<r;s+=4)e=(.34*n[s]+.5*n[s+1]+.16*n[s+2])/255,n[s]=e*i,n[s+1]=e*o,n[s+2]=e*a,n[s+3]=n[s+3]},r.Factory.addGetterSetter(i.Node,"red",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),r.Factory.addGetterSetter(i.Node,"green",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),r.Factory.addGetterSetter(i.Node,"blue",0,n.RGBComponent,r.Factory.afterSetFilter)},52306:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);e.RGBA=function(t){for(var e,n=t.data,r=n.length,i=this.red(),o=this.green(),a=this.blue(),s=this.alpha(),l=0;l<r;l+=4)n[l]=i*s+n[l]*(e=1-s),n[l+1]=o*s+n[l+1]*e,n[l+2]=a*s+n[l+2]*e},r.Factory.addGetterSetter(i.Node,"red",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),r.Factory.addGetterSetter(i.Node,"green",0,function(t){return this._filterUpToDate=!1,255<t?255:t<0?0:Math.round(t)}),r.Factory.addGetterSetter(i.Node,"blue",0,n.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"alpha",1,function(t){return this._filterUpToDate=!1,1<t?1:t<0?0:t})},50352:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sepia=function(t){for(var e,n,r,i=t.data,o=i.length,a=0;a<o;a+=4)e=i[a+0],n=i[a+1],r=i[a+2],i[a+0]=Math.min(255,.393*e+.769*n+.189*r),i[a+1]=Math.min(255,.349*e+.686*n+.168*r),i[a+2]=Math.min(255,.272*e+.534*n+.131*r)}},78664:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Solarize=function(t){var e=t.data,n=t.width,r=4*n,i=t.height;do{var o=(i-1)*r,a=n;do{var s=o+4*(a-1),l=e[s],u=e[1+s],c=e[2+s]}while(127<l&&(l=255-l),127<u&&(u=255-u),127<c&&(c=255-c),e[s]=l,e[1+s]=u,e[2+s]=c,--a)}while(--i)}},89102:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(45432),i=n(19193),n=n(79788);e.Threshold=function(t){for(var e=255*this.threshold(),n=t.data,r=n.length,i=0;i<r;i+=1)n[i]=n[i]<e?0:255},r.Factory.addGetterSetter(i.Node,"threshold",.5,n.getNumberValidator(),r.Factory.afterSetFilter)},48346:function(t,e,n){n=n(57223).S;n._injectGlobal(n),e.default=n,t.exports=e.default},12681:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(73681),c=n(79788),n=n(73681),i=(o=l.Shape,i(h,o),h.prototype._sceneFunc=function(t){var e=u.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},h.prototype.getWidth=function(){return 2*this.outerRadius()},h.prototype.getHeight=function(){return 2*this.outerRadius()},h.prototype.setWidth=function(t){this.outerRadius(t/2)},h.prototype.setHeight=function(t){this.outerRadius(t/2)},h);function h(){return null!==o&&o.apply(this,arguments)||this}(e.Arc=i).prototype._centroid=!0,i.prototype.className="Arc",i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],n._registerNode(i),s.Factory.addGetterSetter(i,"innerRadius",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"outerRadius",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"angle",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"clockwise",!1,c.getBooleanValidator()),a.Collection.mapMethods(i)},53294:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var h,o=n(98727),a=n(45432),s=n(77342),l=n(79788),n=n(73681),i=(h=s.Line,i(u,h),u.prototype._sceneFunc=function(t){h.prototype._sceneFunc.call(this,t);var e=2*Math.PI,n=this.points(),r=n,i=0!==this.tension()&&4<n.length;i&&(r=this.getTensionPoints());var o,a=n.length,s=i?(o=n[a-2]-(r[r.length-2]+r[r.length-4])/2,n[a-1]-(r[r.length-1]+r[r.length-3])/2):(o=n[a-2]-n[a-4],n[a-1]-n[a-3]),l=(Math.atan2(s,o)+e)%e,u=this.pointerLength(),c=this.pointerWidth();t.save(),t.beginPath(),t.translate(n[a-2],n[a-1]),t.rotate(l),t.moveTo(0,0),t.lineTo(-u,c/2),t.lineTo(-u,-c/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),s=i?(o=(r[0]+r[2])/2-n[0],(r[1]+r[3])/2-n[1]):(o=n[2]-n[0],n[3]-n[1]),t.rotate((Math.atan2(-s,-o)+e)%e),t.moveTo(0,0),t.lineTo(-u,c/2),t.lineTo(-u,-c/2),t.closePath(),t.restore());c=this.dashEnabled();c&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),c&&(this.attrs.dashEnabled=!0)},u.prototype.getSelfRect=function(){var t=h.prototype.getSelfRect.call(this),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+2*e,height:t.height+2*e}},u);function u(){return null!==h&&h.apply(this,arguments)||this}(e.Arrow=i).prototype.className="Arrow",n._registerNode(i),a.Factory.addGetterSetter(i,"pointerLength",10,l.getNumberValidator()),a.Factory.addGetterSetter(i,"pointerWidth",10,l.getNumberValidator()),a.Factory.addGetterSetter(i,"pointerAtBeginning",!1),o.Collection.mapMethods(i)},65747:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(79788),n=n(73681),i=(o=l.Shape,i(c,o),c.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){return 2*this.radius()},c.prototype.getHeight=function(){return 2*this.radius()},c.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},c.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},c);function c(){return null!==o&&o.apply(this,arguments)||this}(e.Circle=i).prototype._centroid=!0,i.prototype.className="Circle",i.prototype._attrsAffectingSize=["radius"],n._registerNode(i),s.Factory.addGetterSetter(i,"radius",0,u.getNumberValidator()),a.Collection.mapMethods(i)},52113:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(79788),n=n(73681),i=(o=l.Shape,i(c,o),c.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){return 2*this.radiusX()},c.prototype.getHeight=function(){return 2*this.radiusY()},c.prototype.setWidth=function(t){this.radiusX(t/2)},c.prototype.setHeight=function(t){this.radiusY(t/2)},c);function c(){return null!==o&&o.apply(this,arguments)||this}(e.Ellipse=i).prototype.className="Ellipse",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radiusX","radiusY"],n._registerNode(i),s.Factory.addComponentsGetterSetter(i,"radius",["x","y"]),s.Factory.addGetterSetter(i,"radiusX",0,u.getNumberValidator()),s.Factory.addGetterSetter(i,"radiusY",0,u.getNumberValidator()),a.Collection.mapMethods(i)},88780:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(79788),n=n(73681),i=(o=l.Shape,i(c,o),c.prototype._useBufferCanvas=function(){return o.prototype._useBufferCanvas.call(this,!0)},c.prototype._sceneFunc=function(t){var e,n,r=this.getWidth(),i=this.getHeight(),o=this.attrs.image;o&&(e=this.attrs.cropWidth,n=this.attrs.cropHeight,n=e&&n?[o,this.cropX(),this.cropY(),e,n,0,0,r,i]:[o,0,0,r,i]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)),o&&t.drawImage.apply(t,n)},c.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){var t;return null!==(t=this.attrs.width)&&void 0!==t?t:(null===(t=this.image())||void 0===t?void 0:t.width)||0},c.prototype.getHeight=function(){var t;return null!==(t=this.attrs.height)&&void 0!==t?t:(null===(t=this.image())||void 0===t?void 0:t.height)||0},c.fromURL=function(t,e){var n=a.Util.createImageElement();n.onload=function(){var t=new c({image:n});e(t)},n.crossOrigin="Anonymous",n.src=t},c);function c(){return null!==o&&o.apply(this,arguments)||this}(e.Image=i).prototype.className="Image",n._registerNode(i),s.Factory.addGetterSetter(i,"image"),s.Factory.addComponentsGetterSetter(i,"crop",["x","y","width","height"]),s.Factory.addGetterSetter(i,"cropX",0,u.getNumberValidator()),s.Factory.addGetterSetter(i,"cropY",0,u.getNumberValidator()),s.Factory.addGetterSetter(i,"cropWidth",0,u.getNumberValidator()),s.Factory.addGetterSetter(i,"cropHeight",0,u.getNumberValidator()),a.Collection.mapMethods(i)},2198:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(90013),c=n(79788),n=n(73681),h=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],d="right",f="down",p="left",g=h.length,u=(o=u.Group,i(y,o),y.prototype.getText=function(){return this.find("Text")[0]},y.prototype.getTag=function(){return this.find("Tag")[0]},y.prototype._addListeners=function(t){for(var e=this,n=function(){e._sync()},r=0;r<g;r++)t.on(h[r]+"Change.konva",n)},y.prototype.getWidth=function(){return this.getText().width()},y.prototype.getHeight=function(){return this.getText().height()},y.prototype._sync=function(){var t,e,n,r,i,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),o=i=0,n){case"up":i=t/2,o=-1*a;break;case d:i=t+r,o=e/2;break;case f:i=t/2,o=e+a;break;case p:i=-1*r,o=e/2}l.setAttrs({x:-1*i,y:-1*o,width:t,height:e}),s.setAttrs({x:-1*i,y:-1*o})}},y);function y(t){t=o.call(this,t)||this;return t.on("add.konva",function(t){this._addListeners(t.child),this._sync()}),t}(e.Label=u).prototype.className="Label",n._registerNode(u),a.Collection.mapMethods(u);var v,i=(v=l.Shape,i(m,v),m.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=Math.min(this.cornerRadius(),e/2,n/2);t.beginPath(),a?t.moveTo(a,0):t.moveTo(0,0),"up"===r&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+i)/2,0)),a?(t.lineTo(e-a,0),t.arc(e-a,a,a,3*Math.PI/2,0,!1)):t.lineTo(e,0),r===d&&(t.lineTo(e,(n-o)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+o)/2)),a?(t.lineTo(e,n-a),t.arc(e-a,n-a,a,0,Math.PI/2,!1)):t.lineTo(e,n),r===f&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-i)/2,n)),a?(t.lineTo(a,n),t.arc(a,n-a,a,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),r===p&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-o)/2)),a&&(t.lineTo(0,a),t.arc(a,a,a,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},m.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return"up"===i?(e-=r,a+=r):i===f?a+=r:i===p?(t-=1.5*n,o+=n):i===d&&(o+=1.5*n),{x:t,y:e,width:o,height:a}},m);function m(){return null!==v&&v.apply(this,arguments)||this}(e.Tag=i).prototype.className="Tag",n._registerNode(i),s.Factory.addGetterSetter(i,"pointerDirection","none"),s.Factory.addGetterSetter(i,"pointerWidth",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"pointerHeight",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"cornerRadius",0,c.getNumberValidator()),a.Collection.mapMethods(i)},77342:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),u=n(48568),c=n(79788),n=n(73681),i=(o=u.Shape,i(h,o),h.prototype._sceneFunc=function(t){var e,n,r,i=this.points(),o=i.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&4<o){for(n=(e=this.getTensionPoints()).length,r=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);s||t.quadraticCurveTo(e[n-2],e[n-1],i[o-2],i[o-1])}else if(l)for(r=2;r<o;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)t.lineTo(i[r],i[r+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},h.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},h.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():a.Util._expandPoints(this.points(),this.tension())},h.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),r=a.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),i=a.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),n=a.Util._expandPoints(t,n);return[r[2],r[3]].concat(n).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],r[0],r[1],t[0],t[1]])},h.prototype.getWidth=function(){return this.getSelfRect().width},h.prototype.getHeight=function(){return this.getSelfRect().height},h.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,r=(t=0!==this.tension()?l([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],i=t[0],o=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],r=Math.min(r,e),i=Math.max(i,e),o=Math.min(o,n),a=Math.max(a,n);return{x:r,y:o,width:i-r,height:a-o}},h);function h(t){t=o.call(this,t)||this;return t.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")}),t}(e.Line=i).prototype.className="Line",i.prototype._attrsAffectingSize=["points","bezier","tension"],n._registerNode(i),s.Factory.addGetterSetter(i,"closed",!1),s.Factory.addGetterSetter(i,"bezier",!1),s.Factory.addGetterSetter(i,"tension",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"points",[],c.getNumberArrayValidator()),a.Collection.mapMethods(i)},25857:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),n=n(73681),i=(o=l.Shape,i(f,o),f.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=!1,r=0;r<e.length;r++){var i=e[r].command,o=e[r].points;switch(i){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],h=o[5],d=o[6],f=o[7],p=u<l?l:u,g=u<l?1:l/u,l=u<l?u/l:1;t.translate(a,s),t.rotate(d),t.scale(g,l),t.arc(0,0,p,c,c+h,1-f),t.scale(1/g,1/l),t.rotate(-d),t.translate(-a,-s);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)},f.prototype.getSelfRect=function(){var s=[];this.dataArray.forEach(function(t){if("A"===t.command){var e=t.points[4],n=t.points[5],r=t.points[4]+n,i=Math.PI/180;if(Math.abs(e-r)<i&&(i=Math.abs(e-r)),n<0)for(var o=e-i;r<o;o-=i){var a=f.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],o,0);s.push(a.x,a.y)}else for(o=e+i;o<r;o+=i){a=f.getPointOnEllipticalArc(t.points[0],t.points[1],t.points[2],t.points[3],o,0);s.push(a.x,a.y)}}else if("C"===t.command)for(o=0;o<=1;o+=.01){a=f.getPointOnCubicBezier(o,t.start.x,t.start.y,t.points[0],t.points[1],t.points[2],t.points[3],t.points[4],t.points[5]);s.push(a.x,a.y)}else s=s.concat(t.points)});for(var t,e,n=s[0],r=s[0],i=s[1],o=s[1],a=0;a<s.length/2;a++)t=s[2*a],e=s[2*a+1],isNaN(t)||(n=Math.min(n,t),r=Math.max(r,t)),isNaN(e)||(i=Math.min(i,e),o=Math.max(o,e));return{x:Math.round(n),y:Math.round(i),width:Math.round(r-n),height:Math.round(o-i)}},f.prototype.getLength=function(){return this.pathLength},f.prototype.getPointAtLength=function(t){var e,n=0,r=this.dataArray.length;if(!r)return null;for(;n<r&&t>this.dataArray[n].pathLength;)t-=this.dataArray[n].pathLength,++n;if(n===r)return{x:(e=this.dataArray[n-1].points.slice(-2))[0],y:e[1]};if(t<.01)return{x:(e=this.dataArray[n].points.slice(0,2))[0],y:e[1]};var i=this.dataArray[n],o=i.points;switch(i.command){case"L":return f.getPointOnLine(t,i.start.x,i.start.y,o[0],o[1]);case"C":return f.getPointOnCubicBezier(t/i.pathLength,i.start.x,i.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return f.getPointOnQuadraticBezier(t/i.pathLength,i.start.x,i.start.y,o[0],o[1],o[2],o[3]);case"A":var a=o[0],s=o[1],l=o[2],u=o[3],c=o[4],h=o[5],d=o[6];return c+=h*t/i.pathLength,f.getPointOnEllipticalArc(a,s,l,u,c,d)}return null},f.getLineLength=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},f.getPointOnLine=function(t,e,n,r,i,o,a){void 0===o&&(o=e),void 0===a&&(a=n);var s=(i-n)/(r-e+1e-8),l=Math.sqrt(t*t/(1+s*s));r<e&&(l*=-1);var u,c=s*l;if(r===e)u={x:o,y:a+c};else if((a-n)/(o-e+1e-8)==s)u={x:o+l,y:a+c};else{var h=this.getLineLength(e,n,r,i);if(h<1e-8)return;var d=(o-e)*(r-e)+(a-n)*(i-n),n=this.getLineLength(o,a,h=e+(d/=h*h)*(r-e),i=n+d*(i-n)),n=Math.sqrt(t*t-n*n),l=Math.sqrt(n*n/(1+s*s));r<e&&(l*=-1),u={x:h+l,y:i+(c=s*l)}}return u},f.getPointOnCubicBezier=function(t,e,n,r,i,o,a,s,l){function u(t){return t*t*t}function c(t){return 3*t*t*(1-t)}function h(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:s*u(t)+o*c(t)+r*h(t)+e*d(t),y:l*u(t)+a*c(t)+i*h(t)+n*d(t)}},f.getPointOnQuadraticBezier=function(t,e,n,r,i,o,a){function s(t){return t*t}function l(t){return 2*t*(1-t)}function u(t){return(1-t)*(1-t)}return{x:o*s(t)+r*l(t)+e*u(t),y:a*s(t)+i*l(t)+n*u(t)}},f.getPointOnEllipticalArc=function(t,e,n,r,i,o){var a=Math.cos(o),o=Math.sin(o),n=n*Math.cos(i),i=r*Math.sin(i);return{x:t+(n*a-i*o),y:e+(n*o+i*a)}},f.parsePathData=function(t){if(!t)return[];for(var e=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],n=(n=t).replace(new RegExp(" ","g"),","),r=0;r<e.length;r++)n=n.replace(new RegExp(e[r],"g"),"|"+e[r]);for(var i,o=n.split("|"),a=[],s=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,r=1;r<o.length;r++){var h=(d=o[r]).charAt(0),d=d.slice(1);for(s.length=0;i=c.exec(d);)s.push(i[0]);for(var f=[],p=0,g=s.length;p<g;p++){var y=parseFloat(s[p]);isNaN(y)?f.push(0):f.push(y)}for(;0<f.length&&!isNaN(f[0]);){var v,m,b,_,x,S,w,C,P,k,T=null,E=[],M=l,F=u;switch(h){case"l":l+=f.shift(),u+=f.shift(),T="L",E.push(l,u);break;case"L":l=f.shift(),u=f.shift(),E.push(l,u);break;case"m":var A=f.shift(),N=f.shift();if(l+=A,u+=N,T="M",2<a.length&&"z"===a[a.length-1].command)for(var O=a.length-2;0<=O;O--)if("M"===a[O].command){l=a[O].points[0]+A,u=a[O].points[1]+N;break}E.push(l,u),h="l";break;case"M":l=f.shift(),u=f.shift(),T="M",E.push(l,u),h="L";break;case"h":l+=f.shift(),T="L",E.push(l,u);break;case"H":l=f.shift(),T="L",E.push(l,u);break;case"v":u+=f.shift(),T="L",E.push(l,u);break;case"V":u=f.shift(),T="L",E.push(l,u);break;case"C":E.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),u=f.shift(),E.push(l,u);break;case"c":E.push(l+f.shift(),u+f.shift(),l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),T="C",E.push(l,u);break;case"S":m=l,b=u,"C"===(v=a[a.length-1]).command&&(m=l+(l-v.points[2]),b=u+(u-v.points[3])),E.push(m,b,f.shift(),f.shift()),l=f.shift(),u=f.shift(),T="C",E.push(l,u);break;case"s":m=l,b=u,"C"===(v=a[a.length-1]).command&&(m=l+(l-v.points[2]),b=u+(u-v.points[3])),E.push(m,b,l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),T="C",E.push(l,u);break;case"Q":E.push(f.shift(),f.shift()),l=f.shift(),u=f.shift(),E.push(l,u);break;case"q":E.push(l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),T="Q",E.push(l,u);break;case"T":m=l,b=u,"Q"===(v=a[a.length-1]).command&&(m=l+(l-v.points[0]),b=u+(u-v.points[1])),l=f.shift(),u=f.shift(),T="Q",E.push(m,b,l,u);break;case"t":m=l,b=u,"Q"===(v=a[a.length-1]).command&&(m=l+(l-v.points[0]),b=u+(u-v.points[1])),l+=f.shift(),u+=f.shift(),T="Q",E.push(m,b,l,u);break;case"A":_=f.shift(),x=f.shift(),S=f.shift(),w=f.shift(),C=f.shift(),P=l,k=u,l=f.shift(),u=f.shift(),T="A",E=this.convertEndpointToCenterParameterization(P,k,l,u,w,C,_,x,S);break;case"a":_=f.shift(),x=f.shift(),S=f.shift(),w=f.shift(),C=f.shift(),P=l,k=u,l+=f.shift(),u+=f.shift(),T="A",E=this.convertEndpointToCenterParameterization(P,k,l,u,w,C,_,x,S)}a.push({command:T||h,points:E,start:{x:M,y:F},pathLength:this.calcLength(M,F,T||h,E)})}"z"!==h&&"Z"!==h||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},f.calcLength=function(t,e,n,r){var i,o,a,s=f;switch(n){case"L":return s.getLineLength(t,e,r[0],r[1]);case"C":for(i=s.getPointOnCubicBezier(l=0,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),a=.01;a<=1;a+=.01)o=s.getPointOnCubicBezier(a,t,e,r[0],r[1],r[2],r[3],r[4],r[5]),l+=s.getLineLength(i.x,i.y,o.x,o.y),i=o;return l;case"Q":for(i=s.getPointOnQuadraticBezier(l=0,t,e,r[0],r[1],r[2],r[3]),a=.01;a<=1;a+=.01)o=s.getPointOnQuadraticBezier(a,t,e,r[0],r[1],r[2],r[3]),l+=s.getLineLength(i.x,i.y,o.x,o.y),i=o;return l;case"A":var l=0,u=r[4],c=r[5],h=r[4]+c,d=Math.PI/180;if(Math.abs(u-h)<d&&(d=Math.abs(u-h)),i=s.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),c<0)for(a=u-d;h<a;a-=d)o=s.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],a,0),l+=s.getLineLength(i.x,i.y,o.x,o.y),i=o;else for(a=u+d;a<h;a+=d)o=s.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],a,0),l+=s.getLineLength(i.x,i.y,o.x,o.y),i=o;return o=s.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],h,0),l+=s.getLineLength(i.x,i.y,o.x,o.y)}return 0},f.convertEndpointToCenterParameterization=function(t,e,n,r,i,o,a,s,l){var u=l*(Math.PI/180),c=Math.cos(u)*(t-n)/2+Math.sin(u)*(e-r)/2,h=-1*Math.sin(u)*(t-n)/2+Math.cos(u)*(e-r)/2,d=c*c/(a*a)+h*h/(s*s);1<d&&(a*=Math.sqrt(d),s*=Math.sqrt(d));l=Math.sqrt((a*a*(s*s)-a*a*(h*h)-s*s*(c*c))/(a*a*(h*h)+s*s*(c*c)));i===o&&(l*=-1);function f(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function p(t,e){return(t[0]*e[0]+t[1]*e[1])/(f(t)*f(e))}d=(l=isNaN(l)?0:l)*a*h/s,i=l*-s*c/a,l=(t+n)/2+Math.cos(u)*d-Math.sin(u)*i,t=(e+r)/2+Math.sin(u)*d+Math.cos(u)*i,n=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(p(t,e))},e=n([1,0],[(c-d)/a,(h-i)/s]),r=[(c-d)/a,(h-i)/s],i=[(-1*c-d)/a,(-1*h-i)/s],n=n(r,i);return p(r,i)<=-1&&(n=Math.PI),1<=p(r,i)&&(n=0),0===o&&0<n&&(n-=2*Math.PI),1===o&&n<0&&(n+=2*Math.PI),[l,t,a,s,e,n,u,o]},f);function f(t){var e=o.call(this,t)||this;e.dataArray=[],e.pathLength=0,e.dataArray=f.parsePathData(e.data());for(var n=e.pathLength=0;n<e.dataArray.length;++n)e.pathLength+=e.dataArray[n].pathLength;return e.on("dataChange.konva",function(){this.dataArray=f.parsePathData(this.data());for(var t=this.pathLength=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength}),e}(e.Path=i).prototype.className="Path",i.prototype._attrsAffectingSize=["data"],n._registerNode(i),s.Factory.addGetterSetter(i,"data"),a.Collection.mapMethods(i)},98541:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),n=n(73681),i=(o=l.Shape,i(u,o),u.prototype._sceneFunc=function(t){var e,n,r,i,o=this.cornerRadius(),a=this.width(),s=this.height();t.beginPath(),o?(i=r=n=e=0,"number"==typeof o?e=n=r=i=Math.min(o,a/2,s/2):(e=Math.min(o[0],a/2,s/2),n=Math.min(o[1],a/2,s/2),i=Math.min(o[2],a/2,s/2),r=Math.min(o[3],a/2,s/2)),t.moveTo(e,0),t.lineTo(a-n,0),t.arc(a-n,n,n,3*Math.PI/2,0,!1),t.lineTo(a,s-i),t.arc(a-i,s-i,i,0,Math.PI/2,!1),t.lineTo(r,s),t.arc(r,s-r,r,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,a,s),t.closePath(),t.fillStrokeShape(this)},u);function u(){return null!==o&&o.apply(this,arguments)||this}(e.Rect=i).prototype.className="Rect",n._registerNode(i),s.Factory.addGetterSetter(i,"cornerRadius",0),a.Collection.mapMethods(i)},33804:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(79788),n=n(73681),i=(o=l.Shape,i(c,o),c.prototype._sceneFunc=function(t){var e,n,r,i=this.sides(),o=this.radius();for(t.beginPath(),t.moveTo(0,0-o),e=1;e<i;e++)n=o*Math.sin(2*e*Math.PI/i),r=-1*o*Math.cos(2*e*Math.PI/i),t.lineTo(n,r);t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){return 2*this.radius()},c.prototype.getHeight=function(){return 2*this.radius()},c.prototype.setWidth=function(t){this.radius(t/2)},c.prototype.setHeight=function(t){this.radius(t/2)},c);function c(){return null!==o&&o.apply(this,arguments)||this}(e.RegularPolygon=i).prototype.className="RegularPolygon",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],n._registerNode(i),s.Factory.addGetterSetter(i,"radius",0,u.getNumberValidator()),s.Factory.addGetterSetter(i,"sides",0,u.getNumberValidator()),a.Collection.mapMethods(i)},23913:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(79788),n=n(73681),c=2*Math.PI,i=(o=l.Shape,i(h,o),h.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,c,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),c,0,!0),t.closePath(),t.fillStrokeShape(this)},h.prototype.getWidth=function(){return 2*this.outerRadius()},h.prototype.getHeight=function(){return 2*this.outerRadius()},h.prototype.setWidth=function(t){this.outerRadius(t/2)},h.prototype.setHeight=function(t){this.outerRadius(t/2)},h);function h(){return null!==o&&o.apply(this,arguments)||this}(e.Ring=i).prototype.className="Ring",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],n._registerNode(i),s.Factory.addGetterSetter(i,"innerRadius",0,u.getNumberValidator()),s.Factory.addGetterSetter(i,"outerRadius",0,u.getNumberValidator()),a.Collection.mapMethods(i)},96023:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(11230),c=n(79788),n=n(73681),i=(o=l.Shape,i(h,o),h.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[0+r],s=i[1+r],l=i[2+r],i=i[3+r],r=this.image();(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,i),t.closePath(),t.fillStrokeShape(this)),r&&(o?(e=o[e],t.drawImage(r,a,s,l,i,e[0+(n=2*n)],e[1+n],l,i)):t.drawImage(r,a,s,l,i,0,0,l,i))},h.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[2+r],r=i[3+r];t.beginPath(),o?(e=o[e],t.rect(e[0+(n=2*n)],e[1+n],a,r)):t.rect(0,0,a,r),t.closePath(),t.fillShape(this)},h.prototype._useBufferCanvas=function(){return o.prototype._useBufferCanvas.call(this,!0)},h.prototype._setInterval=function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())},h.prototype.start=function(){var t;this.isRunning()||(t=this.getLayer(),this.anim.setLayers(t),this._setInterval(),this.anim.start())},h.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},h.prototype.isRunning=function(){return this.anim.isRunning()},h.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},h);function h(t){var e=o.call(this,t)||this;return e._updated=!0,e.anim=new u.Animation(function(){var t=e._updated;return e._updated=!1,t}),e.on("animationChange.konva",function(){this.frameIndex(0)}),e.on("frameIndexChange.konva",function(){this._updated=!0}),e.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),e}(e.Sprite=i).prototype.className="Sprite",n._registerNode(i),s.Factory.addGetterSetter(i,"animation"),s.Factory.addGetterSetter(i,"animations"),s.Factory.addGetterSetter(i,"frameOffsets"),s.Factory.addGetterSetter(i,"image"),s.Factory.addGetterSetter(i,"frameIndex",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"frameRate",17,c.getNumberValidator()),s.Factory.backCompat(i,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),a.Collection.mapMethods(i)},10276:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(79788),n=n(73681),i=(o=l.Shape,i(c,o),c.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2==0?n:e,a=o*Math.sin(i*Math.PI/r),o=-1*o*Math.cos(i*Math.PI/r);t.lineTo(a,o)}t.closePath(),t.fillStrokeShape(this)},c.prototype.getWidth=function(){return 2*this.outerRadius()},c.prototype.getHeight=function(){return 2*this.outerRadius()},c.prototype.setWidth=function(t){this.outerRadius(t/2)},c.prototype.setHeight=function(t){this.outerRadius(t/2)},c);function c(){return null!==o&&o.apply(this,arguments)||this}(e.Star=i).prototype.className="Star",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],n._registerNode(i),s.Factory.addGetterSetter(i,"numPoints",5,u.getNumberValidator()),s.Factory.addGetterSetter(i,"innerRadius",0,u.getNumberValidator()),s.Factory.addGetterSetter(i,"outerRadius",0,u.getNumberValidator()),a.Collection.mapMethods(i)},88050:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(73681),c=n(79788),n=n(73681),E="auto",k="justify",h="2d",d=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],f=d.length;function M(){return o=o||a.Util.createCanvasElement().getContext(h)}var p,i=(p=l.Shape,i(g,p),g.prototype._sceneFunc=function(t){var e,n=this.padding(),r=this.fontSize(),i=this.lineHeight()*r,o=this.textArr,a=o.length,s=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),h=this.letterSpacing(),d=this.fill(),f=this.textDecoration(),p=-1!==f.indexOf("underline"),g=-1!==f.indexOf("line-through"),y=0,y=i/2,v=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline","middle"),t.setAttr("textAlign","left"),"middle"===s?l=(this.getHeight()-a*i-2*n)/2:"bottom"===s&&(l=this.getHeight()-a*i-2*n),t.translate(n,l+n),e=0;e<a;e++){var m,b,v=0,_=o[e],x=_.text,S=_.width,_=e!==a-1;if(t.save(),"right"===u?v+=c-S-2*n:"center"===u&&(v+=(c-S-2*n)/2),p&&(t.save(),t.beginPath(),t.moveTo(v,y+0+Math.round(r/2)),m=0===(w=x.split(" ").length-1),b=u===k&&_&&!m?c-2*n:S,t.lineTo(v+Math.round(b),y+0+Math.round(r/2)),t.lineWidth=r/15,t.strokeStyle=d,t.stroke(),t.restore()),g&&(t.save(),t.beginPath(),t.moveTo(v,y+0),m=0===(w=x.split(" ").length-1),b=u===k&&_&&!m?c-2*n:S,t.lineTo(v+Math.round(b),y+0),t.lineWidth=r/15,t.strokeStyle=d,t.stroke(),t.restore()),0!==h||u===k)for(var w=x.split(" ").length-1,C=0;C<x.length;C++){var P=x[C];" "===P&&e!==a-1&&u===k&&(v+=(c-2*n-S)/w),this._partialTextX=v,this._partialTextY=y+0,this._partialText=P,t.fillStrokeShape(this),v+=this.measureSize(P).width+h}else this._partialTextX=v,this._partialTextY=y+0,this._partialText=x,t.fillStrokeShape(this);t.restore(),1<a&&(y+=i)}},g.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},g.prototype.setText=function(t){t=a.Util._isString(t)?t:null==t?"":t+"";return this._setAttr("text",t),this},g.prototype.getWidth=function(){return this.attrs.width===E||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},g.prototype.getHeight=function(){return this.attrs.height===E||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},g.prototype.getTextWidth=function(){return this.textWidth},g.prototype.getTextHeight=function(){return a.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},g.prototype.measureSize=function(t){var e=M(),n=this.fontSize();return e.save(),e.font=this._getContextFont(),t=e.measureText(t),e.restore(),{width:t.width,height:n}},g.prototype._getContextFont=function(){return u.Konva.UA.isIE?this.fontStyle()+" "+this.fontSize()+"px "+this.fontFamily():this.fontStyle()+" "+this.fontVariant()+" "+this.fontSize()+"px "+this.fontFamily().split(",").map(function(t){var e=0<=(t=t.trim()).indexOf(" "),n=0<=t.indexOf('"')||0<=t.indexOf("'");return t=e&&!n?'"'+t+'"':t}).join(", ")},g.prototype._addTextLine=function(t){this.align()===k&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},g.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return M().measureText(t).width+(n?e*(n-1):0)},g.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,i=this.attrs.width,o=this.attrs.height,a=i!==E&&void 0!==i,s=o!==E&&void 0!==o,l=this.padding(),u=i-2*l,c=o-2*l,h=0,l=this.wrap(),d="none"!==l,f="char"!==l&&d,p=this.ellipsis()&&!d;this.textArr=[],M().font=this._getContextFont();for(var g=p?this._getTextWidth("…"):0,y=0,v=t.length;y<v;++y){var m=t[y],b=this._getTextWidth(m);if(a&&u<b)for(;0<m.length;){for(var _,x=0,S=m.length,w="",C=0;x<S;){var P=x+S>>>1,k=m.slice(0,1+P),T=this._getTextWidth(k)+g;T<=u?(x=1+P,w=k+(p?"…":""),C=T):S=P}if(!w)break;if(!f||0<(_=(" "===(_=m[w.length])||"-"===_)&&C<=u?w.length:Math.max(w.lastIndexOf(" "),w.lastIndexOf("-"))+1)&&(w=w.slice(0,x=_),C=this._getTextWidth(w)),w=w.trimRight(),this._addTextLine(w),n=Math.max(n,C),h+=r,!d||s&&c<h+r)break;if(0<(m=(m=m.slice(x)).trimLeft()).length&&(b=this._getTextWidth(m))<=u){this._addTextLine(m),h+=r,n=Math.max(n,b);break}}else this._addTextLine(m),h+=r,n=Math.max(n,b);if(s&&c<h+r)break}this.textHeight=e,this.textWidth=n},g.prototype.getStrokeScaleEnabled=function(){return!0},g);function g(t){var e=p.call(this,((t=(t=t)||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t))||this;e._partialTextX=0;for(var n=e._partialTextY=0;n<f;n++)e.on(d[n]+"Change.konva",e._setTextData);return e._setTextData(),e}(e.Text=i).prototype._fillFunc=function(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)},i.prototype._strokeFunc=function(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)},i.prototype.className="Text",i.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],n._registerNode(i),s.Factory.overWriteSetter(i,"width",c.getNumberOrAutoValidator()),s.Factory.overWriteSetter(i,"height",c.getNumberOrAutoValidator()),s.Factory.addGetterSetter(i,"fontFamily","Arial"),s.Factory.addGetterSetter(i,"fontSize",12,c.getNumberValidator()),s.Factory.addGetterSetter(i,"fontStyle","normal"),s.Factory.addGetterSetter(i,"fontVariant","normal"),s.Factory.addGetterSetter(i,"padding",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"align","left"),s.Factory.addGetterSetter(i,"verticalAlign","top"),s.Factory.addGetterSetter(i,"lineHeight",1,c.getNumberValidator()),s.Factory.addGetterSetter(i,"wrap","word"),s.Factory.addGetterSetter(i,"ellipsis",!1),s.Factory.addGetterSetter(i,"letterSpacing",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"text","",c.getStringValidator()),s.Factory.addGetterSetter(i,"textDecoration",""),a.Collection.mapMethods(i)},54229:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(98727),a=n(45432),s=n(48568),x=n(25857),l=n(88050),u=n(79788),n=n(73681);function c(t){t.fillText(this.partialText,0,0)}function h(t){t.strokeText(this.partialText,0,0)}var d,i=(d=s.Shape,i(f,d),f.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<i.length;o++){t.save();var a=i[o].p0;t.translate(a.x,a.y),t.rotate(i[o].rotation),this.partialText=i[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()},f.prototype._hitFunc=function(t){t.beginPath();var e,n=this.glyphInfo;1<=n.length&&(e=n[0].p0,t.moveTo(e.x,e.y));for(var r=0;r<n.length;r++){var i=n[r].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},f.prototype.getTextWidth=function(){return this.textWidth},f.prototype.getTextHeight=function(){return o.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},f.prototype.setText=function(t){return l.Text.prototype.setText.call(this,t)},f.prototype._getContextFont=function(){return l.Text.prototype._getContextFont.call(this)},f.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();t=e.measureText(t);return e.restore(),{width:t.width,height:parseInt(this.attrs.fontSize,10)}},f.prototype._setTextData=function(){var u=this,t=this._getTextSize(this.attrs.text),c=this.letterSpacing(),h=this.align(),e=this.kerningFunc();this.textWidth=t.width,this.textHeight=t.height;var d=Math.max(this.textWidth+((this.attrs.text||"").length-1)*c,0);this.glyphInfo=[];for(var f=0,n=0;n<u.dataArray.length;n++)0<u.dataArray[n].pathLength&&(f+=u.dataArray[n].pathLength);t=0;"center"===h&&(t=Math.max(0,f/2-d/2)),"right"===h&&(t=Math.max(0,f-d));for(var p,g,y,r=this.text().split(""),v=this.text().split(" ").length-1,m=-1,b=0,i=function(t){var e=u._getTextSize(t).width+c;" "===t&&"justify"===h&&(e+=(f-d)/v);var n=0,r=0;for(g=void 0;.01<Math.abs(e-n)/e&&r<25;){r++;for(var i=n;void 0===y;)(y=function(){b=0;for(var t=u.dataArray,e=m+1;e<t.length;e++){if(0<t[e].pathLength)return t[m=e];"M"===t[e].command&&(p={x:t[e].points[0],y:t[e].points[1]})}return{}}())&&i+y.pathLength<e&&(i+=y.pathLength,y=void 0);if(y==={}||void 0===p)return;var o=!1;switch(y.command){case"L":x.Path.getLineLength(p.x,p.y,y.points[0],y.points[1])>e?g=x.Path.getPointOnLine(e,p.x,p.y,y.points[0],y.points[1],p.x,p.y):y=void 0;break;case"A":var a=y.points[4],s=y.points[5],l=y.points[4]+s;0===b?b=a+1e-8:n<e?b+=Math.PI/180*s/Math.abs(s):b-=Math.PI/360*s/Math.abs(s),(s<0&&b<l||0<=s&&l<b)&&(b=l,o=!0),g=x.Path.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],b,y.points[6]);break;case"C":0===b?b=e>y.pathLength?1e-8:e/y.pathLength:n<e?b+=(e-n)/y.pathLength:b-=(n-e)/y.pathLength,1<b&&(b=1,o=!0),g=x.Path.getPointOnCubicBezier(b,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);break;case"Q":0===b?b=e/y.pathLength:n<e?b+=(e-n)/y.pathLength:b-=(n-e)/y.pathLength,1<b&&(b=1,o=!0),g=x.Path.getPointOnQuadraticBezier(b,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3])}void 0!==g&&(n=x.Path.getLineLength(p.x,p.y,g.x,g.y)),o&&(o=!1,y=void 0)}},o=t/(u._getTextSize("C").width+c)-1,a=0;a<o&&(i("C"),void 0!==p&&void 0!==g);a++)p=g;for(var s=0;s<r.length&&(i(r[s]),void 0!==p&&void 0!==g);s++){var l=x.Path.getLineLength(p.x,p.y,g.x,g.y),_=0;if(e)try{_=e(r[s-1],r[s])*this.fontSize()}catch(t){_=0}p.x+=_,g.x+=_,this.textWidth+=_;_=x.Path.getPointOnLine(_+l/2,p.x,p.y,g.x,g.y),l=Math.atan2(g.y-p.y,g.x-p.x);this.glyphInfo.push({transposeX:_.x,transposeY:_.y,text:r[s],rotation:l,p0:p,p1:g}),p=g}},f.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(t){e.push(t.p0.x),e.push(t.p0.y),e.push(t.p1.x),e.push(t.p1.y)});for(var t,n,r=e[0]||0,i=e[0]||0,o=e[1]||0,a=e[1]||0,s=0;s<e.length/2;s++)t=e[2*s],n=e[2*s+1],r=Math.min(r,t),i=Math.max(i,t),o=Math.min(o,n),a=Math.max(a,n);var l=this.fontSize();return{x:r-l/2,y:o-l/2,width:i-r+l,height:a-o+l}},f);function f(t){var e=d.call(this,t)||this;return e.dummyCanvas=o.Util.createCanvasElement(),e.dataArray=[],e.dataArray=x.Path.parsePathData(e.attrs.data),e.on("dataChange.konva",function(){this.dataArray=x.Path.parsePathData(this.attrs.data),this._setTextData()}),e.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",e._setTextData),t&&t.getKerning&&(o.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),e.kerningFunc(t.getKerning)),e._setTextData(),e}(e.TextPath=i).prototype._fillFunc=c,i.prototype._strokeFunc=h,i.prototype._fillFuncHit=c,i.prototype._strokeFuncHit=h,i.prototype.className="TextPath",i.prototype._attrsAffectingSize=["text","fontSize","data"],n._registerNode(i),a.Factory.addGetterSetter(i,"data"),a.Factory.addGetterSetter(i,"fontFamily","Arial"),a.Factory.addGetterSetter(i,"fontSize",12,u.getNumberValidator()),a.Factory.addGetterSetter(i,"fontStyle","normal"),a.Factory.addGetterSetter(i,"align","left"),a.Factory.addGetterSetter(i,"letterSpacing",0,u.getNumberValidator()),a.Factory.addGetterSetter(i,"textBaseline","middle"),a.Factory.addGetterSetter(i,"fontVariant","normal"),a.Factory.addGetterSetter(i,"text",""),a.Factory.addGetterSetter(i,"textDecoration",null),a.Factory.addGetterSetter(i,"kerningFunc",null),o.Collection.mapMethods(i)},35635:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var l=n(98727),a=n(45432),s=n(19193),u=n(48568),c=n(98541),h=n(90013),f=n(73681),d=n(79788),n=n(73681),p="tr-konva",g=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(function(t){return t+"."+p}).join(" "),y=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map(function(t){return t+"."+p}).join(" "),v={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},m="ontouchstart"in f.Konva._global;var b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function _(t,e,n){var r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),n=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return o(o({},t),{rotation:t.rotation+e,x:r,y:n})}function x(t,e){return _(t,e,{x:(t=t).x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)})}var S,i=(S=h.Group,i(w,S),w.prototype.attachTo=function(t){return this.setNode(t),this},w.prototype.setNode=function(t){return l.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])},w.prototype.getNode=function(){return this._nodes&&this._nodes[0]},w.prototype.setNodes=function(t){var r=this;return void 0===t&&(t=[]),this._nodes&&this._nodes.length&&this.detach(),1===(this._nodes=t).length?this.rotation(t[0].rotation()):this.rotation(0),this._nodes.forEach(function(t){function e(){r._resetTransformCache(),r._transforming||r.update()}var n=t._attrsAffectingSize.map(function(t){return t+"Change."+p}).join(" ");t.on(n,e),t.on(y,e),t.on("_clearTransformCache."+p,e),t.on("xChange."+p+" yChange."+p,e),r._proxyDrag(t)}),this._resetTransformCache(),!this.findOne(".top-left")||this.update(),this},w.prototype._proxyDrag=function(i){var o,a=this;i.on("dragstart."+p,function(t){o=i.getAbsolutePosition(),a.isDragging()||i===a.findOne(".back")||a.startDrag()}),i.on("dragmove."+p,function(t){var e,n,r;o&&(e=i.getAbsolutePosition(),n=e.x-o.x,r=e.y-o.y,a.nodes().forEach(function(t){var e;t!==i&&(t.isDragging()||(e=t.getAbsolutePosition(),t.setAbsolutePosition({x:e.x+n,y:e.y+r}),t.startDrag()))}),o=null)})},w.prototype.getNodes=function(){return this._nodes},w.prototype.getActiveAnchor=function(){return this._movingAnchorName},w.prototype.detach=function(){this._nodes&&this._nodes.forEach(function(t){t.off("."+p)}),this._nodes=[],this._resetTransformCache()},w.prototype._resetTransformCache=function(){this._clearCache("nodesRect"),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},w.prototype._getNodeRect=function(){return this._getCache("nodesRect",this.__getNodeRect)},w.prototype.__getNodeShape=function(t,e,n){void 0===e&&(e=this.rotation());var r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(n),o=t.getAbsolutePosition(n),a=r.x*i.x-t.offsetX()*i.x,n=r.y*i.y-t.offsetY()*i.y,t=(f.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return _({x:o.x+a*Math.cos(t)+n*Math.sin(-t),y:o.y+n*Math.cos(t)+a*Math.sin(t),width:r.width*i.x,height:r.height*i.y,rotation:t},-f.Konva.getAngle(e),{x:0,y:0})},w.prototype.__getNodeRect=function(){var r=this;if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};var i=[];this.nodes().map(function(t){var e=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:r.ignoreStroke()}),e=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],n=t.getAbsoluteTransform();e.forEach(function(t){t=n.point(t);i.push(t)})});var e,n,o,a,s=new l.Transform;s.rotate(-f.Konva.getAngle(this.rotation())),i.forEach(function(t){t=s.point(t);void 0===e&&(e=o=t.x,n=a=t.y),e=Math.min(e,t.x),n=Math.min(n,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y)}),s.invert();var t=s.point({x:e,y:n});return{x:t.x,y:t.y,width:o-e,height:a-n,rotation:f.Konva.getAngle(this.rotation())}},w.prototype.getX=function(){return this._getNodeRect().x},w.prototype.getY=function(){return this._getNodeRect().y},w.prototype.getWidth=function(){return this._getNodeRect().width},w.prototype.getHeight=function(){return this._getNodeRect().height},w.prototype._createElements=function(){this._createBack(),b.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},w.prototype._createAnchor=function(n){var r=this,i=new c.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:n+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:m?10:"auto"}),e=this;i.on("mousedown touchstart",function(t){e._handleMouseDown(t)}),i.on("dragstart",function(t){i.stopDrag(),t.cancelBubble=!0}),i.on("dragend",function(t){t.cancelBubble=!0}),i.on("mouseenter",function(){var t,e=f.Konva.getAngle(r.rotation()),t=(t=e,"rotater"===(e=n)?"crosshair":(t+=l.Util._degToRad(v[e]||0),t=(l.Util._radToDeg(t)%360+360)%360,l.Util._inRange(t,337.5,360)||l.Util._inRange(t,0,22.5)?"ns-resize":l.Util._inRange(t,22.5,67.5)?"nesw-resize":l.Util._inRange(t,67.5,112.5)?"ew-resize":l.Util._inRange(t,112.5,157.5)?"nwse-resize":l.Util._inRange(t,157.5,202.5)?"ns-resize":l.Util._inRange(t,202.5,247.5)?"nesw-resize":l.Util._inRange(t,247.5,292.5)?"ew-resize":l.Util._inRange(t,292.5,337.5)?"nwse-resize":(l.Util.error("Transformer has unknown angle for cursor detection: "+t),"pointer")));i.getStage().content.style.cursor=t,r._cursorChange=!0}),i.on("mouseout",function(){i.getStage().content.style.cursor="",r._cursorChange=!1}),this.add(i)},w.prototype._createBack=function(){var r=this,t=new u.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*l.Util._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:function(t,e){var n;r.shouldOverdrawWholeArea()&&(n=r.padding(),t.beginPath(),t.rect(-n,-n,e.width()+2*n,e.height()+2*n),t.fillStrokeShape(e))}});this.add(t),this._proxyDrag(t)},w.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,r=e.height,e=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/e),this.cos=Math.abs(n/e),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0;n=t.target.getAbsolutePosition(),e=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:e.x-n.x,y:e.y-n.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this.getNode()._fire("transformstart",{evt:t,target:this.getNode()})},w.prototype._handleMouseMove=function(t){var e=this.findOne("."+this._movingAnchorName),n=e.getStage();n.setPointersPositions(t);var r=n.getPointerPosition(),n={x:r.x-this._anchorDragOffset.x,y:r.y-this._anchorDragOffset.y},r=e.getAbsolutePosition();e.setAbsolutePosition(n);var i,o,a,s,l,u,c,h,d,n=e.getAbsolutePosition();r.x===n.x&&r.y===n.y||("rotater"!==this._movingAnchorName?(r=this.keepRatio()||t.shiftKey,n=this.centeredScaling()||t.altKey,"top-left"===this._movingAnchorName?r&&(l=n?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()},a=Math.sqrt(Math.pow(l.x-e.x(),2)+Math.pow(l.y-e.y(),2)),o=this.findOne(".top-left").x()>l.x?-1:1,s=this.findOne(".top-left").y()>l.y?-1:1,c=a*this.cos*o,h=a*this.sin*s,this.findOne(".top-left").x(l.x-c),this.findOne(".top-left").y(l.y-h)):"top-center"===this._movingAnchorName?this.findOne(".top-left").y(e.y()):"top-right"===this._movingAnchorName?(r&&(l=n?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},a=Math.sqrt(Math.pow(e.x()-l.x,2)+Math.pow(l.y-e.y(),2)),o=this.findOne(".top-right").x()<l.x?-1:1,s=this.findOne(".top-right").y()>l.y?-1:1,c=a*this.cos*o,h=a*this.sin*s,this.findOne(".top-right").x(l.x+c),this.findOne(".top-right").y(l.y-h)),i=e.position(),this.findOne(".top-left").y(i.y),this.findOne(".bottom-right").x(i.x)):"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(e.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(e.x()):"bottom-left"===this._movingAnchorName?(r&&(l=n?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},a=Math.sqrt(Math.pow(l.x-e.x(),2)+Math.pow(e.y()-l.y,2)),o=l.x<e.x()?-1:1,s=e.y()<l.y?-1:1,c=a*this.cos*o,h=a*this.sin*s,e.x(l.x-c),e.y(l.y+h)),i=e.position(),this.findOne(".top-left").x(i.x),this.findOne(".bottom-right").y(i.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(e.y()):"bottom-right"===this._movingAnchorName?r&&(l=n?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},a=Math.sqrt(Math.pow(e.x()-l.x,2)+Math.pow(e.y()-l.y,2)),o=this.findOne(".bottom-right").x()<l.x?-1:1,s=this.findOne(".bottom-right").y()<l.y?-1:1,c=a*this.cos*o,h=a*this.sin*s,this.findOne(".bottom-right").x(l.x+c),this.findOne(".bottom-right").y(l.y+h)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName)),(n=this.centeredScaling()||t.altKey)&&(a=this.findOne(".top-left"),s=this.findOne(".bottom-right"),l=a.x(),n=a.y(),d=this.getWidth()-s.x(),u=this.getHeight()-s.y(),s.move({x:-l,y:-n}),a.move({x:d,y:u})),c=(d=this.findOne(".top-left").getAbsolutePosition()).x,h=d.y,u=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),d=this.findOne(".bottom-right").y()-this.findOne(".top-left").y(),this._fitNodesInto({x:c,y:h,width:u,height:d,rotation:f.Konva.getAngle(this.rotation())},t)):(d=this._getNodeRect(),c=e.x()-d.width/2,h=-e.y()+d.height/2,h=Math.atan2(-h,c)+Math.PI/2,d.height<0&&(h-=Math.PI),c=f.Konva.getAngle(this.rotation())+h,h=f.Konva.getAngle(this.rotationSnapTolerance()),d=x(d,function(t,e,n){for(var r=e,i=0;i<t.length;i++){var o=f.Konva.getAngle(t[i]),a=Math.abs(o-e)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=o)}return r}(this.rotationSnaps(),c,h)-d.rotation),this._fitNodesInto(d,t)))},w.prototype._handleMouseUp=function(t){this._removeEvents(t)},w.prototype.getAbsoluteTransform=function(){return this.getTransform()},w.prototype._removeEvents=function(t){var e;this._transforming&&(this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0),e=this.getNode(),this._fire("transformend",{evt:t,target:e}),e&&e.fire("transformend",{evt:t,target:e}),this._movingAnchorName=null)},w.prototype._fitNodesInto=function(t,i){var e,n,r,o,a=this,s=this._getNodeRect();l.Util._inRange(t.width,2*-this.padding()-1,1)||l.Util._inRange(t.height,2*-this.padding()-1,1)?this.update():((e=new l.Transform).rotate(f.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&0<=this._movingAnchorName.indexOf("left")?(n=e.point({x:2*-this.padding(),y:0}),t.x+=n.x,t.y+=n.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=n.x,this._anchorDragOffset.y-=n.y):this._movingAnchorName&&t.width<0&&0<=this._movingAnchorName.indexOf("right")&&(n=e.point({x:2*this.padding(),y:0}),this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=n.x,this._anchorDragOffset.y-=n.y,t.width+=2*this.padding()),this._movingAnchorName&&t.height<0&&0<=this._movingAnchorName.indexOf("top")?(n=e.point({x:0,y:2*-this.padding()}),t.x+=n.x,t.y+=n.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=n.x,this._anchorDragOffset.y-=n.y,t.height+=2*this.padding()):this._movingAnchorName&&t.height<0&&0<=this._movingAnchorName.indexOf("bottom")&&(n=e.point({x:0,y:2*this.padding()}),this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=n.x,this._anchorDragOffset.y-=n.y,t.height+=2*this.padding()),this.boundBoxFunc()&&((r=this.boundBoxFunc()(s,t))?t=r:l.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")),(r=new l.Transform).translate(s.x,s.y),r.rotate(s.rotation),r.scale(s.width/1e7,s.height/1e7),(s=new l.Transform).translate(t.x,t.y),s.rotate(t.rotation),s.scale(t.width/1e7,t.height/1e7),o=s.multiply(r.invert()),this._nodes.forEach(function(t){var e=t.getParent().getAbsoluteTransform(),n=t.getTransform().copy();n.translate(t.offsetX(),t.offsetY());var r=new l.Transform;r.multiply(e.copy().invert()).multiply(o).multiply(e).multiply(n);r=r.decompose();t.setAttrs(r),a._fire("transform",{evt:i,target:t}),t._fire("transform",{evt:i,target:t})}),this.rotation(l.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw())},w.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},w.prototype._batchChangeChild=function(t,e){this.findOne(t).setAttrs(e)},w.prototype.update=function(){var e=this,t=this._getNodeRect();this.rotation(l.Util._getRotation(t.rotation));var n=t.width,r=t.height,i=this.enabledAnchors(),o=this.resizeEnabled(),t=this.padding(),a=this.anchorSize();this.find("._anchor").each(function(t){t.setAttrs({width:a,height:a,offsetX:a/2,offsetY:a/2,stroke:e.anchorStroke(),strokeWidth:e.anchorStrokeWidth(),fill:e.anchorFill(),cornerRadius:e.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:a/2+t,offsetY:a/2+t,visible:o&&0<=i.indexOf("top-left")}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:a/2+t,visible:o&&0<=i.indexOf("top-center")}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:a/2-t,offsetY:a/2+t,visible:o&&0<=i.indexOf("top-right")}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:a/2+t,visible:o&&0<=i.indexOf("middle-left")}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:a/2-t,visible:o&&0<=i.indexOf("middle-right")}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:a/2+t,offsetY:a/2-t,visible:o&&0<=i.indexOf("bottom-left")}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:a/2-t,visible:o&&0<=i.indexOf("bottom-center")}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:a/2-t,offsetY:a/2-t,visible:o&&0<=i.indexOf("bottom-right")}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*l.Util._sign(r)-t,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0})},w.prototype.isTransforming=function(){return this._transforming},w.prototype.stopTransform=function(){var t;this._transforming&&(this._removeEvents(),(t=this.findOne("."+this._movingAnchorName))&&t.stopDrag())},w.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),h.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},w.prototype.toObject=function(){return s.Node.prototype.toObject.call(this)},w);function w(t){t=S.call(this,t)||this;return t._transforming=!1,t._createElements(),t._handleMouseMove=t._handleMouseMove.bind(t),t._handleMouseUp=t._handleMouseUp.bind(t),t.update=t.update.bind(t),t.on(g,t.update),t.getNode()&&t.update(),t}(e.Transformer=i).prototype.className="Transformer",n._registerNode(i),a.Factory.addGetterSetter(i,"enabledAnchors",b,function(t){return t instanceof Array||l.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(t){-1===b.indexOf(t)&&l.Util.warn("Unknown anchor name: "+t+". Available names are: "+b.join(", "))}),t||[]}),a.Factory.addGetterSetter(i,"resizeEnabled",!0),a.Factory.addGetterSetter(i,"anchorSize",10,d.getNumberValidator()),a.Factory.addGetterSetter(i,"rotateEnabled",!0),a.Factory.addGetterSetter(i,"rotationSnaps",[]),a.Factory.addGetterSetter(i,"rotateAnchorOffset",50,d.getNumberValidator()),a.Factory.addGetterSetter(i,"rotationSnapTolerance",5,d.getNumberValidator()),a.Factory.addGetterSetter(i,"borderEnabled",!0),a.Factory.addGetterSetter(i,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(i,"anchorStrokeWidth",1,d.getNumberValidator()),a.Factory.addGetterSetter(i,"anchorFill","white"),a.Factory.addGetterSetter(i,"anchorCornerRadius",0,d.getNumberValidator()),a.Factory.addGetterSetter(i,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(i,"borderStrokeWidth",1,d.getNumberValidator()),a.Factory.addGetterSetter(i,"borderDash"),a.Factory.addGetterSetter(i,"keepRatio",!0),a.Factory.addGetterSetter(i,"centeredScaling",!1),a.Factory.addGetterSetter(i,"ignoreStroke",!1),a.Factory.addGetterSetter(i,"padding",0,d.getNumberValidator()),a.Factory.addGetterSetter(i,"node"),a.Factory.addGetterSetter(i,"nodes"),a.Factory.addGetterSetter(i,"boundBoxFunc"),a.Factory.addGetterSetter(i,"shouldOverdrawWholeArea",!1),a.Factory.backCompat(i,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),l.Collection.mapMethods(i)},94259:function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(98727),s=n(45432),l=n(48568),u=n(73681),c=n(79788),n=n(73681),i=(o=l.Shape,i(h,o),h.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,u.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},h.prototype.getWidth=function(){return 2*this.radius()},h.prototype.getHeight=function(){return 2*this.radius()},h.prototype.setWidth=function(t){this.radius(t/2)},h.prototype.setHeight=function(t){this.radius(t/2)},h);function h(){return null!==o&&o.apply(this,arguments)||this}(e.Wedge=i).prototype.className="Wedge",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],n._registerNode(i),s.Factory.addGetterSetter(i,"radius",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"angle",0,c.getNumberValidator()),s.Factory.addGetterSetter(i,"clockwise",!1),s.Factory.backCompat(i,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),a.Collection.mapMethods(i)},14252:function(t,e,n){"use strict";n.d(e,{Ee:function(){return nt},mh:function(){return et},Hf:function(){return ot},$T:function(){return rt}});var r={};n.r(r),n.d(r,{appendChild:function(){return z},appendChildToContainer:function(){return U},appendInitialChild:function(){return s},cancelTimeout:function(){return O},clearContainer:function(){return $},commitMount:function(){return K},commitTextUpdate:function(){return V},commitUpdate:function(){return Y},createInstance:function(){return h},createTextInstance:function(){return d},finalizeInitialChildren:function(){return f},getChildHostContext:function(){return A},getPublicInstance:function(){return w},getRootHostContext:function(){return F},hideInstance:function(){return Z},hideTextInstance:function(){return X},idlePriority:function(){return i.unstable_IdlePriority},insertBefore:function(){return B},insertInContainerBefore:function(){return j},isPrimaryRenderer:function(){return I},noTimeout:function(){return R},now:function(){return i.unstable_now},prepareForCommit:function(){return C},preparePortalMount:function(){return P},prepareUpdate:function(){return k},removeChild:function(){return W},removeChildFromContainer:function(){return H},resetAfterCommit:function(){return T},resetTextContent:function(){return E},run:function(){return i.unstable_runWithPriority},scheduleTimeout:function(){return N},shouldDeprioritizeSubtree:function(){return M},shouldSetTextContent:function(){return D},supportsMutation:function(){return G},unhideInstance:function(){return q},unhideTextInstance:function(){return Q},warnsIfNotActing:function(){return L}});n(48346);var l=n(78709),e=n(45622),u=n.n(e),e=n(25374),e=n.n(e),p={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0},g=!1,y=!1,v=".react-konva-event",m=!1;var b="ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.\nPosition of a node will be changed during drag&drop, so you should update state of the react app as well.\nConsider to add onDragMove or onDragEnd events.\nFor more info see: https://github.com/konvajs/react-konva/issues/256\n",_='ReactKonva: You are using "zIndex" attribute for a Konva node.\nreact-konva may get confused with ordering. Just define correct order of elements in your render function of a component.\nFor more info see: https://github.com/konvajs/react-konva/issues/194\n',x={};function c(t,e){var n,r,i,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:x;for(a in e===o&&console.error("same props"),!g&&"zIndex"in e&&(console.warn(_),g=!0),!y&&e.draggable&&(n=void 0!==e.x||void 0!==e.y,r=e.onDragEnd||e.onDragMove,n&&!r&&(console.warn(b),y=!0)),o)p[a]||(s="on"===a.slice(0,2),i=o[a]!==e[a],s&&i&&("content"===(u=a.substr(2).toLowerCase()).substr(0,7)&&(u="content"+u.substr(7,1).toUpperCase()+u.substr(8)),t.off(u,o[a])),e.hasOwnProperty(a)||t.setAttr(a,void 0));var a,s,l,u,c=m||e._useStrictMode,h={},d=!1,f={};for(a in e)p[a]||(s="on"===a.slice(0,2),l=o[a]!==e[a],s&&l&&("content"===(u=a.substr(2).toLowerCase()).substr(0,7)&&(u="content"+u.substr(7,1).toUpperCase()+u.substr(8)),e[a]&&(f[u]=e[a])),!s&&(e[a]!==o[a]||c&&e[a]!==t.getAttr(a))&&(d=!0,h[a]=e[a]));for(u in d&&(t.setAttrs(h),S(t)),f)t.on(u+v,f[u])}function S(t){t=t.getLayer()||t.getStage();t&&t.batchDraw()}var i=n(34853),o={},a={};function s(t,e){"string"!=typeof e?(t.add(e),S(t)):console.error("Do not use plain text as child of Konva.Node. You are using text: "+e)}function h(t,e,n){var r=u()[t];if(r){var i,o={},a={};for(i in e)"on"===i.slice(0,2)?a[i]=e[i]:o[i]=e[i];r=new r(o);return c(r,a),r}console.error("Konva has no node with the type "+t+'. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/'+t+'"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html')}function d(t,e,n){console.error('Text components are not supported for now in ReactKonva. Your text is: "'+t+'"')}function f(t,e,n){return!1}function w(t){return t}function C(){return null}function P(){return null}function k(t,e,n,r){return a}function T(){}function E(t){}function M(t,e){return!1}function F(){return o}function A(){return o}u().Node.prototype._applyProps=c;var N=setTimeout,O=clearTimeout,R=-1;function D(t,e){return!1}var I=!1,L=!0,G=!0;function z(t,e){e.parent===t?e.moveToTop():t.add(e),S(t)}function U(t,e){e.parent===t?e.moveToTop():t.add(e),S(t)}function B(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),S(t)}function j(t,e,n){B(t,e,n)}function W(t,e){e.destroy(),e.off(v),S(t)}function H(t,e){e.destroy(),e.off(v),S(t)}function V(t,e,n){console.error('Text components are not yet supported in ReactKonva. You text is: "'+n+'"')}function K(t,e,n){}function Y(t,e,n,r,i){c(t,i,r)}function Z(t){t.hide(),S(t)}function X(t){}function q(t,e){null!=e.visible&&!e.visible||t.show()}function Q(t,e){}function $(t){}var J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};"17"===l.version.split(".")[0]||console.warn("Version mismatch detected for react-konva and react. react-konva expects to have react version 17, but it has version "+l.version+'. Make sure versions are matched, otherwise, react-konva work is not guaranteed. You can use this command: "npm install react@17 react-dom@17"');function tt(n){function t(t){var e=n.forwardedRef;e&&("function"==typeof e?e(t):e.current=t)}var e,r,i=l.useRef(),o=l.useRef(),a=l.useRef(),s=(e=n,r=l.useRef(),l.useLayoutEffect(function(){r.current=e}),r.current);return l.useLayoutEffect(function(){return o.current=new(u().Stage)({width:n.width,height:n.height,container:i.current}),t(o.current),a.current=it.createContainer(o.current),it.updateContainer(n.children,a.current),function(){u().isBrowser&&(t(null),it.updateContainer(null,a.current,null),o.current.destroy())}},[]),l.useLayoutEffect(function(){t(o.current),c(o.current,n,s),it.updateContainer(n.children,a.current,null)}),l.createElement("div",{ref:i,accessKey:n.accessKey,className:n.className,role:n.role,style:n.style,tabIndex:n.tabIndex,title:n.title})}var et="Layer",nt="Image",rt="Transformer",it=e()(r);it.injectIntoDevTools({findHostInstanceByFiber:function(){return null},bundleType:0,version:l.version,rendererPackageName:"react-konva"});var ot=l.forwardRef(function(t,e){return l.createElement(tt,J({},t,{forwardedRef:e}))})},92259:function(ma,t,ba){ma=ba.nmd(ma);var _a=ba(45559);
/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ma.exports=function(t){var e={},g=ba(33103),n=ba(78709),r=ba(34853);function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,S=60107,s=60108,l=60114,u=60109,c=60110,h=60112,d=60113,f=60120,p=60115,y=60116,v=60121,m=60129,w=60130,C=60131;"function"==typeof Symbol&&Symbol.for&&(_=(i=Symbol.for)("react.element"),x=i("react.portal"),S=i("react.fragment"),s=i("react.strict_mode"),l=i("react.profiler"),u=i("react.provider"),c=i("react.context"),h=i("react.forward_ref"),d=i("react.suspense"),f=i("react.suspense_list"),p=i("react.memo"),y=i("react.lazy"),v=i("react.block"),i("react.scope"),m=i("react.debug_trace_mode"),w=i("react.offscreen"),C=i("react.legacy_hidden"));var a="function"==typeof Symbol&&Symbol.iterator;function P(t){return null!==t&&"object"===_a(t)&&"function"==typeof(t=a&&t[a]||t["@@iterator"])?t:null}function k(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case x:return"Portal";case l:return"Profiler";case s:return"StrictMode";case d:return"Suspense";case f:return"SuspenseList"}if("object"===_a(t))switch(t.$$typeof){case c:return(t.displayName||"Context")+".Consumer";case u:return(t._context.displayName||"Context")+".Provider";case h:var e=(e=t.render).displayName||e.name||"";return t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case p:return k(t.type);case v:return k(t._render);case y:e=t._payload,t=t._init;try{return k(t(e))}catch(t){}}return null}function T(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else for(t=e;0!=(1026&(e=t).flags)&&(n=e.return),t=e.return;);return 3===e.tag?n:null}function E(t){if(T(t)!==t)throw Error(b(188))}function M(t){var e=t.alternate;if(!e){if(null===(e=T(t)))throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null!==o){if(i.child===o.child){for(o=i.child;o;){if(o===n)return E(i),t;if(o===r)return E(i),e;o=o.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}else{if(null===(r=i.return))break;n=r}}if(3!==n.tag)throw Error(b(188));return n.stateNode.current===n?t:e}function F(t){if(!(t=M(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e=(e.child.return=e).child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function A(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return 1;e=e.return}}var N,O=t.getPublicInstance,R=t.getRootHostContext,D=t.getChildHostContext,I=t.prepareForCommit,L=t.resetAfterCommit,G=t.createInstance,z=t.appendInitialChild,U=t.finalizeInitialChildren,B=t.prepareUpdate,j=t.shouldSetTextContent,W=t.createTextInstance,H=t.scheduleTimeout,V=t.cancelTimeout,K=t.noTimeout,Y=t.isPrimaryRenderer,Z=t.supportsMutation,X=t.supportsPersistence,q=t.supportsHydration,Q=t.getInstanceFromNode,$=t.makeOpaqueHydratingObject,J=t.makeClientId,tt=t.beforeActiveInstanceBlur,et=t.afterActiveInstanceBlur,nt=t.preparePortalMount,rt=t.supportsTestSelectors,it=t.findFiberRoot,ot=t.getBoundingRect,at=t.getTextContent,st=t.isHiddenSubtree,lt=t.matchAccessibilityRole,ut=t.setFocusIfFocusable,ct=t.setupIntersectionObserver,ht=t.appendChild,dt=t.appendChildToContainer,ft=t.commitTextUpdate,pt=t.commitMount,gt=t.commitUpdate,yt=t.insertBefore,vt=t.insertInContainerBefore,mt=t.removeChild,bt=t.removeChildFromContainer,_t=t.resetTextContent,xt=t.hideInstance,St=t.hideTextInstance,wt=t.unhideInstance,Ct=t.unhideTextInstance,Pt=t.clearContainer,kt=t.cloneInstance,Tt=t.createContainerChildSet,Et=t.appendChildToContainerChildSet,Mt=t.finalizeContainerChildren,Ft=t.replaceContainerChildren,At=t.cloneHiddenInstance,Nt=t.cloneHiddenTextInstance,Ot=t.canHydrateInstance,Rt=t.canHydrateTextInstance,Dt=t.isSuspenseInstancePending,It=t.isSuspenseInstanceFallback,Lt=t.getNextHydratableSibling,Gt=t.getFirstHydratableChild,zt=t.hydrateInstance,Ut=t.hydrateTextInstance,Bt=t.getNextHydratableInstanceAfterSuspenseInstance,jt=t.commitHydratedContainer,Wt=t.commitHydratedSuspenseInstance;function Ht(t){if(void 0===N)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);N=e&&e[1]||""}return"\n"+N+t}var Vt=!1;function Kt(t,e){if(!t||Vt)return"";Vt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===("undefined"==typeof Reflect?"undefined":_a(Reflect))&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,--s<0||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{Vt=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ht(t):""}var Yt=[],Zt=-1;function Xt(t){return{current:t}}function qt(t){Zt<0||(t.current=Yt[Zt],Yt[Zt]=null,Zt--)}function Qt(t,e){Yt[++Zt]=t.current,t.current=e}var $t={},Jt=Xt($t),te=Xt(!1),ee=$t;function ne(t,e){var n=t.type.contextTypes;if(!n)return $t;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function re(t){return null!=(t=t.childContextTypes)}function ie(){qt(te),qt(Jt)}function oe(t,e,n){if(Jt.current!==$t)throw Error(b(168));Qt(Jt,e),Qt(te,n)}function ae(t,e,n){var r,i=t.stateNode;if(t=e.childContextTypes,"function"!=typeof i.getChildContext)return n;for(r in i=i.getChildContext())if(!(r in t))throw Error(b(108,k(e)||"Unknown",r));return g({},n,i)}function se(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$t,ee=Jt.current,Qt(Jt,t),Qt(te,te.current),1}function le(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=ae(t,e,ee),r.__reactInternalMemoizedMergedChildContext=t,qt(te),qt(Jt),Qt(Jt,t)):qt(te),Qt(te,n)}var ue=null,ce=null;(0,r.unstable_now)();var he=0,de=8;function fe(t){if(0!=(1&t))return de=15,1;if(0!=(2&t))return de=14,2;if(0!=(4&t))return de=13,4;var e=24&t;return 0!==e?(de=12,e):0!=(32&t)?(de=11,32):0!==(e=192&t)?(de=10,e):0!=(256&t)?(de=9,256):0!==(e=3584&t)?(de=8,e):0!=(4096&t)?(de=7,4096):0!==(e=4186112&t)?(de=6,e):0!==(e=62914560&t)?(de=5,e):67108864&t?(de=4,67108864):0!=(134217728&t)?(de=3,134217728):0!==(e=805306368&t)?(de=2,e):0!=(1073741824&t)?(de=1,1073741824):(de=8,t)}function pe(t,e){var n=t.pendingLanes;if(0===n)return de=0;var r,i=0,o=0,a=t.expiredLanes,s=t.suspendedLanes,l=t.pingedLanes;if(0!==a?(i=a,o=de=15):0!==(a=134217727&n)?0!=(r=a&~s)?(i=fe(r),o=de):0!==(l&=a)&&(i=fe(l),o=de):0!==(a=n&~s)?(i=fe(a),o=de):0!==l&&(i=fe(l),o=de),0===i)return 0;if(i=n&(((i=31-_e(i))<0?0:1<<i)<<1)-1,0!==e&&e!==i&&0==(e&s)){if(fe(e),o<=de)return e;de=o}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)i|=t[n=31-_e(e)],e&=~(o=1<<n);return i}function ge(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ye(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=ve(24&~e))?ye(10,e):t;case 10:return 0===(t=ve(192&~e))?ye(8,e):t;case 8:return 0===(t=ve(3584&~e))&&(0===(t=ve(4186112&~e))&&(t=512)),t;case 2:return e=0===(e=ve(805306368&~e))?268435456:e}throw Error(b(358,t))}function ve(t){return t&-t}function me(t){for(var e=[],n=0;n<31;n++)e.push(t);return e}function be(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-_e(e)]=n}var _e=Math.clz32||function(t){return 0===t?32:31-(xe(t)/Se|0)|0},xe=Math.log,Se=Math.LN2;var we=r.unstable_runWithPriority,Ce=r.unstable_scheduleCallback,Pe=r.unstable_cancelCallback,ke=r.unstable_shouldYield,t=r.unstable_requestPaint,Te=r.unstable_now,Ee=r.unstable_getCurrentPriorityLevel,Me=r.unstable_ImmediatePriority,Fe=r.unstable_UserBlockingPriority,Ae=r.unstable_NormalPriority,Ne=r.unstable_LowPriority,Oe=r.unstable_IdlePriority,Re={},De=void 0!==t?t:function(){},Ie=null,Le=null,Ge=!1,ze=Te(),Ue=ze<1e4?Te:function(){return Te()-ze};function Be(){switch(Ee()){case Me:return 99;case Fe:return 98;case Ae:return 97;case Ne:return 96;case Oe:return 95;default:throw Error(b(332))}}function je(t){switch(t){case 99:return Me;case 98:return Fe;case 97:return Ae;case 96:return Ne;case 95:return Oe;default:throw Error(b(332))}}function We(t,e){return t=je(t),we(t,e)}function He(t,e,n){return t=je(t),Ce(t,e,n)}function Ve(){var t;null!==Le&&(t=Le,Le=null,Pe(t)),Ke()}function Ke(){if(!Ge&&null!==Ie){Ge=!0;var e=0;try{var n=Ie;We(99,function(){for(;e<n.length;e++)for(var t=n[e];null!==(t=t(!0)););}),Ie=null}catch(t){throw null!==Ie&&(Ie=Ie.slice(e+1)),Ce(Me,Ve),t}finally{Ge=!1}}}var Ye=o.ReactCurrentBatchConfig;var Ze="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},Xe=Object.prototype.hasOwnProperty;function qe(t,e){if(Ze(t,e))return!0;if("object"!==_a(t)||null===t||"object"!==_a(e)||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Xe.call(e,n[r])||!Ze(t[n[r]],e[n[r]]))return!1;return!0}function Qe(t,e){if(t&&t.defaultProps){for(var n in e=g({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var $e=Xt(null),Je=null,tn=null,en=null;function nn(){en=tn=Je=null}function rn(t,e){t=t.type._context,Y?(Qt($e,t._currentValue),t._currentValue=e):(Qt($e,t._currentValue2),t._currentValue2=e)}function on(t){var e=$e.current;qt($e),t=t.type._context,Y?t._currentValue=e:t._currentValue2=e}function an(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function sn(t,e){(en=tn=null)!==(t=(Je=t).dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Lr=!0),t.firstContext=null)}function ln(t,e){if(en!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(en=t,e=1073741823),e={context:t,observedBits:e,next:null},null===tn){if(null===Je)throw Error(b(308));tn=e,Je.dependencies={lanes:0,firstContext:e,responders:null}}else tn=tn.next=e;return Y?t._currentValue:t._currentValue2}var un=!1;function cn(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function hn(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fn(t,e){var n;null!==(t=t.updateQueue)&&(null===(n=(t=t.shared).pending)?e.next=e:(e.next=n.next,n.next=e),t.pending=e)}function pn(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null}}while(null===o?i=o=a:o=o.next=a,null!==(n=n.next));null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gn(t,e,n,r){var i=t.updateQueue;un=!1;var o,a,s,l,u=i.firstBaseUpdate,c=i.lastBaseUpdate;if(null!==(p=i.shared.pending)&&(i.shared.pending=null,a=(o=p).next,(o.next=null)===c?u=a:c.next=a,c=o,null===(s=t.alternate)||(l=(s=s.updateQueue).lastBaseUpdate)!==c&&(null===l?s.firstBaseUpdate=a:l.next=a,s.lastBaseUpdate=o)),null!==u){for(l=i.baseState,c=0,s=a=o=null;;){p=u.lane;var h=u.eventTime;if((r&p)===p){null!==s&&(s=s.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var d=t,f=u,p=e,h=n;switch(f.tag){case 1:if("function"==typeof(d=f.payload)){l=d.call(h,l,p);break t}l=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null==(p="function"==typeof(d=f.payload)?d.call(h,l,p):d))break t;l=g({},l,p);break t;case 2:un=!0}}null!==u.callback&&(t.flags|=32,null===(p=i.effects)?i.effects=[u]:p.push(u))}else h={eventTime:h,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===s?(a=s=h,o=l):s=s.next=h,c|=p;if(null===(u=u.next)){if(null===(p=i.shared.pending))break;u=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}i.baseState=o=null===s?l:o,i.firstBaseUpdate=a,i.lastBaseUpdate=s,Ji|=c,t.lanes=c,t.memoizedState=l}}function yn(t,e,n){if(t=e.effects,(e.effects=null)!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(b(191,i));i.call(r)}}}var vn=(new n.Component).refs;function mn(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:g({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var bn={isMounted:function(t){return!!(t=t._reactInternals)&&T(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Co(),i=Po(t),o=dn(r,i);o.payload=e,null!=n&&(o.callback=n),fn(t,o),ko(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Co(),i=Po(t),o=dn(r,i);o.tag=1,o.payload=e,null!=n&&(o.callback=n),fn(t,o),ko(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Co(),r=Po(t),i=dn(n,r);i.tag=2,null!=e&&(i.callback=e),fn(t,i),ko(t,r,n)}};function _n(t,e,n,r,i,o,a){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!qe(n,r)||!qe(i,o))}function xn(t,e,n){var r=!1,i=$t,o=e.contextType;return e=new e(n,o="object"===_a(o)&&null!==o?ln(o):(i=re(e)?ee:Jt.current,(r=null!=(r=e.contextTypes))?ne(t,i):$t)),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=bn,(t.stateNode=e)._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Sn(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bn.enqueueReplaceState(e,e.state,null)}function wn(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=vn,cn(t);var o=e.contextType;"object"===_a(o)&&null!==o?i.context=ln(o):(o=re(e)?ee:Jt.current,i.context=ne(t,o)),gn(t,n,i,r),i.state=t.memoizedState,"function"==typeof(o=e.getDerivedStateFromProps)&&(mn(t,0,o,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&bn.enqueueReplaceState(i,i.state,null),gn(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var Cn=Array.isArray;function Pn(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!==_a(t)){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e;(e=r.refs)===vn&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function kn(t,e){if("textarea"!==t.type)throw Error(b(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Tn(h){function d(t,e){var n;h&&(null!==(n=t.lastEffect)?(n.nextEffect=e,t.lastEffect=e):t.firstEffect=t.lastEffect=e,e.nextEffect=null,e.flags=8)}function f(t,e){if(!h)return null;for(;null!==e;)d(t,e),e=e.sibling;return null}function p(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(t,e){return(t=aa(t,e)).index=0,t.sibling=null,t}function g(t,e,n){return t.index=n,h?null===(n=t.alternate)||(n=n.index)<e?(t.flags=2,e):n:e}function s(t){return h&&null===t.alternate&&(t.flags=2),t}function o(t,e,n,r){return null===e||6!==e.tag?(e=ca(n,t.mode,r)).return=t:(e=a(e,n)).return=t,e}function l(t,e,n,r){return null!==e&&e.elementType===n.type?(r=a(e,n.props)).ref=Pn(0,e,n):(r=sa(n.type,n.key,n.props,null,t.mode,r)).ref=Pn(0,e,n),r.return=t,r}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=ha(n,t.mode,r)).return=t:(e=a(e,n.children||[])).return=t,e}function c(t,e,n,r,i){return null===e||7!==e.tag?(e=la(n,t.mode,r,i)).return=t:(e=a(e,n)).return=t,e}function y(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=ca(""+e,t.mode,n)).return=t,e;if("object"===_a(e)&&null!==e){switch(e.$$typeof){case _:return(n=sa(e.type,e.key,e.props,null,t.mode,n)).ref=Pn(0,null,e),n.return=t,n;case x:return(e=ha(e,t.mode,n)).return=t,e}if(Cn(e)||P(e))return(e=la(e,t.mode,n,null)).return=t,e;kn(t,e)}return null}function v(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:o(t,e,""+n,r);if("object"===_a(n)&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===S?c(t,e,n.props.children,r,i):l(t,e,n,r):null;case x:return n.key===i?u(t,e,n,r):null}if(Cn(n)||P(n))return null!==i?null:c(t,e,n,r,null);kn(t,n)}return null}function m(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return o(e,t=t.get(n)||null,""+r,i);if("object"===_a(r)&&null!==r){switch(r.$$typeof){case _:return t=t.get(null===r.key?n:r.key)||null,r.type===S?c(e,t,r.props.children,i,r.key):l(e,t,r,i);case x:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Cn(r)||P(r))return c(e,t=t.get(n)||null,r,i,null);kn(e,r)}return null}return function(t,e,n,r){var i="object"===_a(n)&&null!==n&&n.type===S&&null===n.key;i&&(n=n.props.children);var o="object"===_a(n)&&null!==n;if(o)switch(n.$$typeof){case _:t:{for(o=n.key,i=e;null!==i;){if(i.key===o){switch(i.tag){case 7:if(n.type!==S)break;f(t,i.sibling),(e=a(i,n.props.children)).return=t,t=e;break t;default:if(i.elementType===n.type){f(t,i.sibling),(e=a(i,n.props)).ref=Pn(0,i,n),e.return=t,t=e;break t}}f(t,i);break}d(t,i),i=i.sibling}t=n.type===S?((e=la(n.props.children,t.mode,r,n.key)).return=t,e):((r=sa(n.type,n.key,n.props,null,t.mode,r)).ref=Pn(0,e,n),r.return=t,r)}return s(t);case x:t:{for(i=n.key;null!==e;){if(e.key===i){if(4===e.tag&&e.stateNode.containerInfo===n.containerInfo&&e.stateNode.implementation===n.implementation){f(t,e.sibling),(e=a(e,n.children||[])).return=t,t=e;break t}f(t,e);break}d(t,e),e=e.sibling}(e=ha(n,t.mode,r)).return=t,t=e}return s(t)}if("string"==typeof n||"number"==typeof n)return n=""+n,s(t=((e=null!==e&&6===e.tag?(f(t,e.sibling),a(e,n)):(f(t,e),ca(n,t.mode,r))).return=t,e));if(Cn(n))return function(e,t,n,r){for(var i=null,o=null,a=t,s=t=0,l=null;null!==a&&s<n.length;s++){a.index>s?(l=a,a=null):l=a.sibling;var u=v(e,a,n[s],r);if(null===u){null===a&&(a=l);break}h&&a&&null===u.alternate&&d(e,a),t=g(u,t,s),null===o?i=u:o.sibling=u,o=u,a=l}if(s===n.length)return f(e,a),i;if(null===a){for(;s<n.length;s++)null!==(a=y(e,n[s],r))&&(t=g(a,t,s),null===o?i=a:o.sibling=a,o=a);return i}for(a=p(e,a);s<n.length;s++)null!==(l=m(a,e,s,n[s],r))&&(h&&null!==l.alternate&&a.delete(null===l.key?s:l.key),t=g(l,t,s),null===o?i=l:o.sibling=l,o=l);return h&&a.forEach(function(t){return d(e,t)}),i}(t,e,n,r);if(P(n))return function(e,t,n,r){var i=P(n);if("function"!=typeof i)throw Error(b(150));if(null==(n=i.call(n)))throw Error(b(151));for(var o=i=null,a=t,s=t=0,l=null,u=n.next();null!==a&&!u.done;s++,u=n.next()){a.index>s?(l=a,a=null):l=a.sibling;var c=v(e,a,u.value,r);if(null===c){null===a&&(a=l);break}h&&a&&null===c.alternate&&d(e,a),t=g(c,t,s),null===o?i=c:o.sibling=c,o=c,a=l}if(u.done)return f(e,a),i;if(null===a){for(;!u.done;s++,u=n.next())null!==(u=y(e,u.value,r))&&(t=g(u,t,s),null===o?i=u:o.sibling=u,o=u);return i}for(a=p(e,a);!u.done;s++,u=n.next())null!==(u=m(a,e,s,u.value,r))&&(h&&null!==u.alternate&&a.delete(null===u.key?s:u.key),t=g(u,t,s),null===o?i=u:o.sibling=u,o=u);return h&&a.forEach(function(t){return d(e,t)}),i}(t,e,n,r);if(o&&kn(t,n),void 0===n&&!i)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(b(152,k(t.type)||"Component"))}return f(t,e)}}var En=Tn(!0),Mn=Tn(!1),Fn={},An=Xt(Fn),Nn=Xt(Fn),On=Xt(Fn);function Rn(t){if(t===Fn)throw Error(b(174));return t}function Dn(t,e){Qt(On,e),Qt(Nn,t),Qt(An,Fn),t=R(e),qt(An),Qt(An,t)}function In(){qt(An),qt(Nn),qt(On)}function Ln(t){var e=Rn(On.current),n=Rn(An.current);n!==(e=D(n,t.type,e))&&(Qt(Nn,t),Qt(An,e))}function Gn(t){Nn.current===t&&(qt(An),qt(Nn))}var zn=Xt(0);function Un(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Dt(n)||It(n)))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bn=null,jn=null,Wn=!1;function Hn(t,e){var n=ia(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Vn(t,e){switch(t.tag){case 5:return null!==(e=Ot(e,t.type,t.pendingProps))&&(t.stateNode=e,1);case 6:return null!==(e=Rt(e,t.pendingProps))&&(t.stateNode=e,1);case 13:default:return}}function Kn(t){if(Wn){var e=jn;if(e){var n=e;if(!Vn(t,e)){if(!(e=Lt(n))||!Vn(t,e))return t.flags=-1025&t.flags|2,Wn=!1,void(Bn=t);Hn(Bn,n)}Bn=t,jn=Gt(e)}else t.flags=-1025&t.flags|2,Wn=!1,Bn=t}}function Yn(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Bn=t}function Zn(t){if(q&&t===Bn){if(!Wn)return Yn(t),Wn=!0,0;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!j(e,t.memoizedProps))for(e=jn;e;)Hn(t,e),e=Lt(e);if(Yn(t),13===t.tag){if(!q)throw Error(b(316));if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(b(317));jn=Bt(t)}else jn=Bn?Lt(t.stateNode):null;return 1}}function Xn(){q&&(jn=Bn=null,Wn=!1)}var qn=[];function Qn(){for(var t=0;t<qn.length;t++){var e=qn[t];Y?e._workInProgressVersionPrimary=null:e._workInProgressVersionSecondary=null}qn.length=0}var $n=o.ReactCurrentDispatcher,Jn=o.ReactCurrentBatchConfig,tr=0,er=null,nr=null,rr=null,ir=!1,or=!1;function ar(){throw Error(b(321))}function sr(t,e){if(null!==e){for(var n=0;n<e.length&&n<t.length;n++)if(!Ze(t[n],e[n]))return;return 1}}function lr(t,e,n,r,i,o){if(tr=o,(er=e).memoizedState=null,e.updateQueue=null,e.lanes=0,$n.current=null===t||null===t.memoizedState?Or:Rr,t=n(r,i),or){o=0;do{if(or=!1,!(o<25))throw Error(b(301))}while(o+=1,rr=nr=null,e.updateQueue=null,$n.current=Dr,t=n(r,i),or)}if($n.current=Nr,e=null!==nr&&null!==nr.next,tr=0,rr=nr=er=null,ir=!1,e)throw Error(b(300));return t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===rr?er.memoizedState=rr=t:rr=rr.next=t,rr}function cr(){var t;t=null===nr?null!==(t=er.alternate)?t.memoizedState:null:nr.next;var e=null===rr?er.memoizedState:rr.next;if(null!==e)rr=e,nr=t;else{if(null===t)throw Error(b(310));t={memoizedState:(nr=t).memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},null===rr?er.memoizedState=rr=t:rr=rr.next=t}return rr}function hr(t,e){return"function"==typeof e?e(t):e}function dr(t){var e=cr(),n=e.queue;if(null===n)throw Error(b(311));n.lastRenderedReducer=t;var r,i=(a=nr).baseQueue,o=n.pending;if(null!==o&&(null!==i&&(r=i.next,i.next=o.next,o.next=r),a.baseQueue=i=o,n.pending=null),null!==i){var i=i.next,a=a.baseState,s=r=o=null,l=i;do{var u,c=l.lane}while((tr&c)===c?(null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),a=l.eagerReducer===t?l.eagerState:t(a,l.action)):(u={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null},null===s?(r=s=u,o=a):s=s.next=u,er.lanes|=c,Ji|=c),null!==(l=l.next)&&l!==i);null===s?o=a:s.next=r,Ze(a,e.memoizedState)||(Lr=!0),e.memoizedState=a,e.baseState=o,e.baseQueue=s,n.lastRenderedState=a}return[e.memoizedState,n.dispatch]}function fr(t){var e=cr(),n=e.queue;if(null===n)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;for(var a=i=i.next;o=t(o,a.action),(a=a.next)!==i;);Ze(o,e.memoizedState)||(Lr=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function pr(t,e,n){var r=(r=e._getVersion)(e._source),i=Y?e._workInProgressVersionPrimary:e._workInProgressVersionSecondary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(tr&t)===t)&&(Y?e._workInProgressVersionPrimary=r:e._workInProgressVersionSecondary=r,qn.push(e))),t)return n(e._source);throw qn.push(e),Error(b(350))}function gr(t,o,a,e){var s=Vi;if(null===s)throw Error(b(349));var l=o._getVersion,u=l(o._source),n=$n.current,c=(r=n.useState(function(){return pr(s,o,a)}))[1],h=r[0],r=rr,d=(p=t.memoizedState).refs,i=d.getSnapshot,f=p.source,p=p.subscribe,g=er;return t.memoizedState={refs:d,source:o,subscribe:e},n.useEffect(function(){d.getSnapshot=a,d.setSnapshot=c;var t=l(o._source);if(!Ze(u,t)){t=a(o._source),Ze(h,t)||(c(t),t=Po(g),s.mutableReadLanes|=t&s.pendingLanes),t=s.mutableReadLanes,s.entangledLanes|=t;for(var e=s.entanglements,n=t;0<n;){var r=31-_e(n),i=1<<r;e[r]|=t,n&=~i}}},[a,o,e]),n.useEffect(function(){return e(o._source,function(){var t=d.getSnapshot,e=d.setSnapshot;try{e(t(o._source));var n=Po(g);s.mutableReadLanes|=n&s.pendingLanes}catch(t){e(function(){throw t})}})},[o,e]),Ze(i,a)&&Ze(f,o)&&Ze(p,e)||((t={pending:null,dispatch:null,lastRenderedReducer:hr,lastRenderedState:h}).dispatch=c=Ar.bind(null,er,t),r.queue=t,r.baseQueue=null,h=pr(s,o,a),r.memoizedState=r.baseState=h),h}function yr(t,e,n){return gr(cr(),t,e,n)}function vr(t){var e=ur();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:hr,lastRenderedState:t}).dispatch=Ar.bind(null,er,t),[e.memoizedState,t]}function mr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=er.updateQueue)?(er.updateQueue=e={lastEffect:null}).lastEffect=t.next=t:null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,(n.next=t).next=r,e.lastEffect=t),t}function br(t){return ur().memoizedState=t={current:t}}function _r(){return cr().memoizedState}function xr(t,e,n,r){var i=ur();er.flags|=t,i.memoizedState=mr(1|e,n,void 0,void 0===r?null:r)}function Sr(t,e,n,r){var i=cr();r=void 0===r?null:r;var o=void 0;if(null!==nr){var a=nr.memoizedState,o=a.destroy;if(null!==r&&sr(r,a.deps))return void mr(e,n,o,r)}er.flags|=t,i.memoizedState=mr(1|e,n,o,r)}function wr(t,e){return xr(516,4,t,e)}function Cr(t,e){return Sr(516,4,t,e)}function Pr(t,e){return Sr(4,2,t,e)}function kr(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Tr(t,e,n){return n=null!=n?n.concat([t]):null,Sr(4,2,kr.bind(null,e,t),n)}function Er(){}function Mr(t,e){var n=cr();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&sr(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Fr(t,e){var n=cr();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&sr(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ar(t,e,n){var r=Co(),i=Po(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===er||null!==a&&a===er)or=ir=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,Ze(l,s))return}catch(t){}ko(t,i,r)}}var Nr={readContext:ln,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useOpaqueIdentifier:ar,unstable_isNewReconciler:!1},Or={readContext:ln,useCallback:function(t,e){return ur().memoizedState=[t,void 0===e?null:e],t},useContext:ln,useEffect:wr,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,xr(4,2,kr.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xr(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ar.bind(null,er,t),[r.memoizedState,t]},useRef:br,useState:vr,useDebugValue:Er,useDeferredValue:function(e){var t=vr(e),n=t[0],r=t[1];return wr(function(){var t=Jn.transition;Jn.transition=1;try{r(e)}finally{Jn.transition=t}},[e]),n},useTransition:function(){var t=vr(!1),e=t[0];return br(t=function(e,n){var t=Be();We(t<98?98:t,function(){e(!0)}),We(97<t?97:t,function(){var t=Jn.transition;Jn.transition=1;try{e(!1),n()}finally{Jn.transition=t}})}.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=ur();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},gr(r,t,e,n)},useOpaqueIdentifier:function(){if(Wn){var t=!1,e=$(function(){throw t||(t=!0,n(J())),Error(b(355))}),n=vr(e)[1];return 0==(2&er.mode)&&(er.flags|=516,mr(5,function(){n(J())},void 0,null)),e}return vr(e=J()),e},unstable_isNewReconciler:!1},Rr={readContext:ln,useCallback:Mr,useContext:ln,useEffect:Cr,useImperativeHandle:Tr,useLayoutEffect:Pr,useMemo:Fr,useReducer:dr,useRef:_r,useState:function(){return dr(hr)},useDebugValue:Er,useDeferredValue:function(e){var t=dr(hr),n=t[0],r=t[1];return Cr(function(){var t=Jn.transition;Jn.transition=1;try{r(e)}finally{Jn.transition=t}},[e]),n},useTransition:function(){var t=dr(hr)[0];return[_r().current,t]},useMutableSource:yr,useOpaqueIdentifier:function(){return dr(hr)[0]},unstable_isNewReconciler:!1},Dr={readContext:ln,useCallback:Mr,useContext:ln,useEffect:Cr,useImperativeHandle:Tr,useLayoutEffect:Pr,useMemo:Fr,useReducer:fr,useRef:_r,useState:function(){return fr(hr)},useDebugValue:Er,useDeferredValue:function(e){var t=fr(hr),n=t[0],r=t[1];return Cr(function(){var t=Jn.transition;Jn.transition=1;try{r(e)}finally{Jn.transition=t}},[e]),n},useTransition:function(){var t=fr(hr)[0];return[_r().current,t]},useMutableSource:yr,useOpaqueIdentifier:function(){return fr(hr)[0]},unstable_isNewReconciler:!1},Ir=o.ReactCurrentOwner,Lr=!1;function Gr(t,e,n,r){e.child=null===t?Mn(e,null,n,r):En(e,t.child,n,r)}function zr(t,e,n,r,i){n=n.render;var o=e.ref;return sn(e,i),r=lr(t,e,n,r,o,i),null===t||Lr?(e.flags|=1,Gr(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,si(t,e,i))}function Ur(t,e,n,r,i,o){if(null!==t)return a=t.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:qe)(i,r)&&t.ref===e.ref)?si(t,e,o):(e.flags|=1,(t=aa(a,r)).ref=e.ref,(t.return=e).child=t);var a=n.type;return"function"!=typeof a||oa(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=sa(n.type,null,r,e,e.mode,o)).ref=e.ref,(t.return=e).child=t):(e.tag=15,e.type=a,Br(t,e,a,r,i,o))}function Br(t,e,n,r,i,o){if(null!==t&&qe(t.memoizedProps,r)&&t.ref===e.ref){if(Lr=!1,0==(o&i))return e.lanes=t.lanes,si(t,e,o);0!=(16384&t.flags)&&(Lr=!0)}return Hr(t,e,n,r,o)}function jr(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},Ro(0,n);else{if(0==(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Ro(0,t),null;e.memoizedState={baseLanes:0},Ro(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ro(0,r);return Gr(t,e,i,n),e.child}function Wr(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Hr(t,e,n,r,i){var o=ne(e,o=re(n)?ee:Jt.current);return sn(e,i),n=lr(t,e,n,r,o,i),null===t||Lr?(e.flags|=1,Gr(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,si(t,e,i))}function Vr(t,e,n,r,i){var o,a,s,l,u,c,h,d,f,p;return re(n)?(o=!0,se(e)):o=!1,sn(e,i),r=null===e.stateNode?(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),xn(e,n,r),wn(e,n,r,i),!0):null===t?(a=e.stateNode,s=e.memoizedProps,a.props=s,d=a.context,l=n.contextType,l="object"===_a(l)&&null!==l?ln(l):ne(e,l=re(n)?ee:Jt.current),(c="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===r&&d===l||Sn(0,a,r,l),un=!1,h=e.memoizedState,a.state=h,gn(e,r,a,i),d=e.memoizedState,s!==r||h!==d||te.current||un?("function"==typeof u&&(mn(e,0,u,r),d=e.memoizedState),(s=un||_n(e,n,s,r,h,d,l))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(e.flags|=4)):("function"==typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=l,s):("function"==typeof a.componentDidMount&&(e.flags|=4),!1)):(a=e.stateNode,hn(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:Qe(e.type,s),a.props=l,c=e.pendingProps,h=a.context,d=n.contextType,d="object"===_a(d)&&null!==d?ln(d):ne(e,d=re(n)?ee:Jt.current),(u="function"==typeof(f=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||s===c&&h===d||Sn(0,a,r,d),un=!1,h=e.memoizedState,a.state=h,gn(e,r,a,i),p=e.memoizedState,s!==c||h!==p||te.current||un?("function"==typeof f&&(mn(e,0,f,r),p=e.memoizedState),(l=un||_n(e,n,l,r,h,p,d))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,d),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,d)),"function"==typeof a.componentDidUpdate&&(e.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=d,l):("function"!=typeof a.componentDidUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=256),!1)),Kr(t,e,n,r,o,i)}function Kr(t,e,n,r,i,o){Wr(t,e);var a=0!=(64&e.flags);if(!r&&!a)return i&&le(e,n,!1),si(t,e,o);r=e.stateNode,Ir.current=e;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=En(e,t.child,null,o),e.child=En(e,null,s,o)):Gr(t,e,s,o),e.memoizedState=r.state,i&&le(e,n,!0),e.child}function Yr(t){var e=t.stateNode;e.pendingContext?oe(0,e.pendingContext,e.pendingContext!==e.context):e.context&&oe(0,e.context,!1),Dn(t,e.containerInfo)}var Zr,Xr,qr,Qr,$r,Jr={dehydrated:null,retryLane:0};function ti(t,e,n){var r,i=e.pendingProps,o=zn.current,a=!1;return(r=!(r=0!=(64&e.flags))?(null===t||null!==t.memoizedState)&&0!=(2&o):r)?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),Qt(zn,1&o),null===t?(void 0!==i.fallback&&Kn(e),t=i.children,o=i.fallback,a?(t=ei(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Jr,t):"number"==typeof i.unstable_expectedLoadTime?(t=ei(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Jr,e.lanes=33554432,t):((n=ua({mode:"visible",children:t},e.mode,n,null)).return=e).child=n):(t.memoizedState,a?(i=ri(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Jr,i):(n=ni(t,e,i.children,n),e.memoizedState=null,n))}function ei(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=ua(e,i,0,null),n=la(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ni(t,e,n,r){var i=t.child;return t=i.sibling,n=aa(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,(n.sibling=null)!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function ri(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,(e.lastEffect=a).nextEffect=null):e.firstEffect=e.lastEffect=null):n=aa(a,s),null!==t?r=aa(t,r):(r=la(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function ii(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),an(t.return,e)}function oi(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function ai(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Gr(t,e,r.children,n),0!=(2&(r=zn.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ii(t,n);else if(19===t.tag)ii(t,n);else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qt(zn,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Un(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),oi(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(i=e.child,e.child=n=null;null!==i;){if(null!==(t=i.alternate)&&null===Un(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}oi(e,!0,n,null,o,e.lastEffect);break;case"together":oi(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function si(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ji|=e.lanes,0==(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(b(153));if(null!==e.child){for(n=aa(t=e.child,t.pendingProps),(e.child=n).return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=aa(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function li(t){t.flags|=4}function ui(t,e){if(!Wn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":for(var n=t.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ci(t,e){try{for(var n="",r=e;n+=function(t){switch(t.tag){case 5:return Ht(t.type);case 16:return Ht("Lazy");case 13:return Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 2:case 15:return t=Kt(t.type,!1);case 11:return t=Kt(t.type.render,!1);case 22:return t=Kt(t.type._render,!1);case 1:return t=Kt(t.type,!0);default:return""}}(r),r=r.return;);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function hi(t,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}$r=Z?(Zr=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)z(t,n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qr=function(){},Qr=function(t,e,n,r,i){var o,a;(t=t.memoizedProps)!==r&&(o=e.stateNode,a=Rn(An.current),n=B(o,n,t,r,i,a),(e.updateQueue=n)&&li(e))},function(t,e,n,r){n!==r&&li(e)}):X?(Zr=function(t,e,n,r){for(var i=e.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=At(o,i.type,i.memoizedProps,i)),z(t,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Nt(o,i.memoizedProps,i)),z(t,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.flags)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Zr(t,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i=(i.child.return=i).child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Xr=function t(e,n,r,i){for(var o=n.child;null!==o;){if(5===o.tag){var a=o.stateNode;r&&i&&(a=At(a,o.type,o.memoizedProps,o)),Et(e,a)}else if(6===o.tag)a=o.stateNode,r&&i&&(a=Nt(a,o.memoizedProps,o)),Et(e,a);else if(4!==o.tag){if(13===o.tag&&0!=(4&o.flags)&&(a=null!==o.memoizedState)){var s=o.child;if(null!==s&&(null!==s.child&&t(e,s.child.return=s,!0,a),null!==(a=s.sibling))){a.return=o,o=a;continue}}if(null!==o.child){o=(o.child.return=o).child;continue}}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},qr=function(t){var e,n,r=t.stateNode;null!==t.firstEffect&&(e=r.containerInfo,n=Tt(e),Xr(n,t,!1,!1),r.pendingChildren=n,li(t),Mt(e,n))},Qr=function(t,e,n,r,i){var o,a,s,l=t.stateNode,u=t.memoizedProps;(t=null===e.firstEffect)&&u===r?e.stateNode=l:(o=e.stateNode,a=Rn(An.current),s=null,u!==r&&(s=B(o,n,u,r,i,a)),t&&null===s?e.stateNode=l:(l=kt(l,s,n,u,r,e,t,o),U(l,n,r,i,a)&&li(e),e.stateNode=l,t?li(e):Zr(l,e,!1,!1)))},function(t,e,n,r){n!==r?(t=Rn(On.current),n=Rn(An.current),e.stateNode=W(r,t,n,e),li(e)):e.stateNode=t.stateNode}):(qr=function(){},Qr=function(){},function(){});var di="function"==typeof WeakMap?WeakMap:Map;function fi(t,e,n){(n=dn(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){so||(so=!0,lo=r),hi(0,e)},n}function pi(t,e,n){(n=dn(-1,n)).tag=3;var r,i=t.type.getDerivedStateFromError;"function"==typeof i&&(r=e.value,n.payload=function(){return hi(0,e),i(r)});t=t.stateNode;return null!==t&&"function"==typeof t.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===uo?uo=new Set([this]):uo.add(this),hi(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var gi="function"==typeof WeakSet?WeakSet:Set;function yi(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Yo(e,t)}else t.current=null}function vi(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n,r=e=e.next;do{}while((r.tag&t)===t&&(n=r.destroy,(r.destroy=void 0)!==n&&n()),(r=r.next)!==e)}}function mi(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{}while(3==(3&t.tag)&&(i=t.create,t.destroy=i()),(t=t.next)!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var r=t,i=t.next;0!=(4&(r=t.tag))&&0!=(1&r)&&(Ho(n,t),po.push(t,n),co||(co=!0,He(97,function(){return Wo(),null}))),t=i}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(i=n.elementType===n.type?e.memoizedProps:Qe(n.type,e.memoizedProps),t.componentDidUpdate(i,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&yn(0,e,t));case 3:if(null!==(e=n.updateQueue)){if((t=null)!==n.child)switch(n.child.tag){case 5:t=O(n.child.stateNode);break;case 1:t=n.child.stateNode}yn(0,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&pt(t,n.type,n.memoizedProps,n));case 6:case 4:case 12:return;case 13:return void(q&&null===n.memoizedState&&(null!==(n=n.alternate)&&(null!==(n=n.memoizedState)&&(null!==(n=n.dehydrated)&&Wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(b(163))}function bi(t,e){if(Z)for(var n=t;;){if(5===n.tag){var r=n.stateNode;e?xt(r):wt(n.stateNode,n.memoizedProps)}else if(6===n.tag)r=n.stateNode,e?St(r):Ct(r,n.memoizedProps);else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _i(t,e){if(ce&&"function"==typeof ce.onCommitFiberUnmount)try{ce.onCommitFiberUnmount(ue,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=(i=n).destroy,i=i.tag;if(void 0!==r)if(0!=(4&i))Ho(e,n);else{i=e;try{r()}catch(t){Yo(i,t)}}}while((n=n.next)!==t)}break;case 1:if(yi(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Yo(e,t)}break;case 5:yi(e);break;case 4:Z?Pi(t,e):X&&X&&(e=e.stateNode.containerInfo,t=Tt(e),Ft(e,t))}}function xi(t,e){for(var n=e;;)if(_i(t,n),null===n.child||Z&&4===n.tag){if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n=(n.child.return=n).child}function Si(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function wi(t){return 5===t.tag||3===t.tag||4===t.tag}function Ci(t){if(Z){t:{for(var e=t.return;null!==e;){if(wi(e))break t;e=e.return}throw Error(b(160))}var n=e,e=n.stateNode;switch(n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(b(161))}16&n.flags&&(_t(e),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||wi(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n=(n.child.return=n).child}if(!(2&n.flags)){n=n.stateNode;break t}}(r?function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?vt(r,e,n):dt(r,e);else if(4!==i&&(e=e.child,null!==e))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling}:function t(e,n,r){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,n?yt(r,e,n):ht(r,e);else if(4!==i&&(e=e.child,null!==e))for(t(e,n,r),e=e.sibling;null!==e;)t(e,n,r),e=e.sibling})(t,n,e)}}function Pi(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(b(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag)xi(t,i),(r?bt:mt)(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i=(i.child.return=i).child;continue}}else if(_i(t,i),null!==i.child){i=(i.child.return=i).child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ki(t,e){if(Z){switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void vi(3,e);case 1:return;case 5:var n,r,i,o=e.stateNode;return void(null!=o&&(n=e.memoizedProps,t=null!==t?t.memoizedProps:n,r=e.type,i=e.updateQueue,(e.updateQueue=null)!==i&&gt(o,i,r,t,n,e)));case 6:if(null===e.stateNode)throw Error(b(162));return o=e.memoizedProps,void ft(e.stateNode,null!==t?t.memoizedProps:o,o);case 3:return void(q&&((e=e.stateNode).hydrate&&(e.hydrate=!1,jt(e.containerInfo))));case 12:return;case 13:return Ti(e),void Ei(e);case 19:return void Ei(e);case 17:return;case 23:case 24:return void bi(e,null!==e.memoizedState)}throw Error(b(163))}switch(e.tag){case 0:case 11:case 14:case 15:case 22:return void vi(3,e);case 12:return;case 13:return Ti(e),void Ei(e);case 19:return void Ei(e);case 3:q&&((o=e.stateNode).hydrate&&(o.hydrate=!1,jt(o.containerInfo)));break;case 23:case 24:return}t:if(X){switch(e.tag){case 1:case 5:case 6:case 20:break t;case 3:case 4:e=e.stateNode,Ft(e.containerInfo,e.pendingChildren);break t}throw Error(b(163))}}function Ti(t){null!==t.memoizedState&&(ro=Ue(),Z&&bi(t.child,!0))}function Ei(n){var r,t=n.updateQueue;null!==t&&((n.updateQueue=null)===(r=n.stateNode)&&(r=n.stateNode=new gi),t.forEach(function(t){var e=function(t,e){var n=t.stateNode;null!==n&&n.delete(e),(e=0)===e&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Be()?1:2:0===(e=ve(62914560&~(_o=0===_o?$i:_o)))&&(e=4194304)),n=Co(),null!==(t=To(t,e))&&(be(t,e,n),Eo(t,n))}.bind(null,n,t);r.has(t)||(r.add(t),t.then(e,e))}))}var Mi=0,Fi=1,Ai=2,Ni=3,Oi=4;function Ri(t){var e=Q(t);if(null!=e){if("string"!=typeof e.memoizedProps["data-testname"])throw Error(b(364));return e}if(null===(t=it(t)))throw Error(b(362));return t.stateNode.current}function Di(t,e){switch(e.$$typeof){case Mi:if(t.type===e.value)return 1;break;case Fi:t:{e=e.value,t=[t,0];for(var n=0;n<t.length;){var r=t[n++],i=t[n++],o=e[i];if(5!==r.tag||!st(r)){for(;null!=o&&Di(r,o);)o=e[++i];if(i===e.length){e=!0;break t}for(r=r.child;null!==r;)t.push(r,i),r=r.sibling}}e=!1}return e;case Ai:if(5===t.tag&&lt(t.stateNode,e.value))return 1;break;case Oi:if((5===t.tag||6===t.tag)&&(null!==(t=at(t))&&0<=t.indexOf(e.value)))return 1;break;case Ni:if(5===t.tag&&("string"==typeof(t=t.memoizedProps["data-testname"])&&t.toLowerCase()===e.value.toLowerCase()))return 1;break;default:throw Error(b(365,e))}}function Ii(t){switch(t.$$typeof){case Mi:return"<"+(k(t.value)||"Unknown")+">";case Fi:return":has("+(Ii(t)||"")+")";case Ai:return'[role="'+t.value+'"]';case Oi:return'"'+t.value+'"';case Ni:return'[data-testname="'+t.value+'"]';default:throw Error(b(365,t))}}function Li(t,e){var n=[];t=[t,0];for(var r=0;r<t.length;){var i=t[r++],o=t[r++],a=e[o];if(5!==i.tag||!st(i)){for(;null!=a&&Di(i,a);)a=e[++o];if(o===e.length)n.push(i);else for(i=i.child;null!==i;)t.push(i,o),i=i.sibling}}return n}function Gi(t,e){if(!rt)throw Error(b(363));t=Li(t=Ri(t),e),e=[],t=Array.from(t);for(var n=0;n<t.length;){var r=t[n++];if(5===r.tag)st(r)||e.push(r.stateNode);else for(r=r.child;null!==r;)t.push(r),r=r.sibling}return e}"function"==typeof Symbol&&Symbol.for&&(Mi=(n=Symbol.for)("selector.component"),Fi=n("selector.has_pseudo_class"),Ai=n("selector.role"),Ni=n("selector.test_id"),Oi=n("selector.text"));var zi=null;var Ui=Math.ceil,Bi=o.ReactCurrentDispatcher,ji=o.ReactCurrentOwner,Wi=o.IsSomeRendererActing,Hi=0,Vi=null,Ki=null,Yi=0,Zi=0,Xi=Xt(0),qi=0,Qi=null,$i=0,Ji=0,to=0,eo=0,no=null,ro=0,io=1/0;function oo(){io=Ue()+500}var ao=null,so=!1,lo=null,uo=null,co=!1,ho=null,fo=90,po=[],go=[],yo=null,vo=0,mo=null,bo=-1,_o=0,xo=0,So=null,wo=!1;function Co(){return 0!=(48&Hi)?Ue():-1!==bo?bo:bo=Ue()}function Po(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Be()?1:2;if(0===_o&&(_o=$i),0===Ye.transition)return t=Be(),t=0!=(4&Hi)&&98===t?ye(12,_o):ye(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),_o);0!==xo&&(xo=null!==no?no.pendingLanes:0),t=_o;var e=4186112&~xo;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}function ko(t,e,n){if(50<vo)throw vo=0,mo=null,Error(b(185));if(null===(t=To(t,e)))return null;be(t,e,n),t===Vi&&(to|=e,4===qi&&Fo(t,Yi));var r=Be();1===e?0!=(8&Hi)&&0==(48&Hi)?Ao(t):(Eo(t,n),0===Hi&&(oo(),Ve())):(0==(4&Hi)||98!==r&&99!==r||(null===yo?yo=new Set([t]):yo.add(t)),Eo(t,n)),no=t}function To(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),t=(n=t).return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),t=(n=t).return;return 3===n.tag?n.stateNode:null}function Eo(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-_e(a),l=1<<s,u=o[s];-1===u?0!=(l&r)&&0==(l&i)||(u=e,fe(l),o[s]=10<=de?u+250:6<=de?u+5e3:-1):u<=e&&(t.expiredLanes|=l),a&=~l}if(r=pe(t,t===Vi?Yi:0),e=de,0===r)null!==n&&(n!==Re&&Pe(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Re&&Pe(n)}n=15===e?(n=Ao.bind(null,t),null===Ie?(Ie=[n],Le=Ce(Me,Ke)):Ie.push(n),Re):14===e?He(99,Ao.bind(null,t)):He(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(b(358,t))}}(e),Mo.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function Mo(e){if(bo=-1,(xo=_o=0)!=(48&Hi))throw Error(b(327));var t=e.callbackNode;if(Wo()&&e.callbackNode!==t)return null;var n=pe(e,e===Vi?Yi:0);if(0===n)return null;var r=n,i=Hi;Hi|=16;var o=Go();for(Vi===e&&Yi===r||(oo(),Io(e,r));;)try{!function(){for(;null!==Ki&&!ke();)Uo(Ki)}();break}catch(t){Lo(e,t)}if(nn(),Bi.current=o,Hi=i,r=null!==Ki?0:(Vi=null,Yi=0,qi),0!=($i&to))Io(e,0);else if(0!==r){if(2===r&&(Hi|=64,e.hydrate&&(e.hydrate=!1,Pt(e.containerInfo)),0!==(n=ge(e))&&(r=zo(e,n))),1===r)throw t=Qi,Io(e,0),Fo(e,n),Eo(e,Ue()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(b(345));case 2:jo(e);break;case 3:if(Fo(e,n),(62914560&n)===n&&10<(r=ro+500-Ue())){if(0!==pe(e,0))break;if(((i=e.suspendedLanes)&n)!==n){Co(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=H(jo.bind(null,e),r);break}jo(e);break;case 4:if(Fo(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-_e(n),o=1<<a;i<(a=r[a])&&(i=a),n&=~o}if(n=i,10<(n=((n=Ue()-n)<120?120:n<480?480:n<1080?1080:n<1920?1920:n<3e3?3e3:n<4320?4320:1960*Ui(n/1960))-n)){e.timeoutHandle=H(jo.bind(null,e),n);break}jo(e);break;case 5:jo(e);break;default:throw Error(b(329))}}return Eo(e,Ue()),e.callbackNode===t?Mo.bind(null,e):null}function Fo(t,e){for(e&=~eo,t.suspendedLanes|=e&=~to,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_e(e),r=1<<n;t[n]=-1,e&=~r}}function Ao(t){if(0!=(48&Hi))throw Error(b(327));var e,n;if(Wo(),t===Vi&&0!=(t.expiredLanes&Yi)?(n=zo(t,e=Yi),0!=($i&to)&&(n=zo(t,e=pe(t,e)))):n=zo(t,e=pe(t,0)),0!==t.tag&&2===n&&(Hi|=64,t.hydrate&&(t.hydrate=!1,Pt(t.containerInfo)),0!==(e=ge(t))&&(n=zo(t,e))),1===n)throw n=Qi,Io(t,0),Fo(t,e),Eo(t,Ue()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,jo(t),Eo(t,Ue()),null}function No(t,e){var n=Hi;Hi|=1;try{return t(e)}finally{0===(Hi=n)&&(oo(),Ve())}}function Oo(t,e){var n=Hi;if(0!=(48&n))return t(e);Hi|=1;try{if(t)return We(99,t.bind(null,e))}finally{Hi=n,Ve()}}function Ro(t,e){Qt(Xi,Zi),Zi|=e,$i|=e}function Do(){Zi=Xi.current,qt(Xi)}function Io(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==K&&(t.timeoutHandle=K,V(n)),null!==Ki)for(n=Ki.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&ie();break;case 3:In(),qt(te),qt(Jt),Qn();break;case 5:Gn(r);break;case 4:In();break;case 13:case 19:qt(zn);break;case 10:on(r);break;case 23:case 24:Do()}n=n.return}Ki=aa((Vi=t).current,null),Yi=Zi=$i=e,Qi=null,eo=to=Ji=qi=0}function Lo(t,e){do{var n=Ki;try{if(nn(),$n.current=Nr,ir){for(var r=er.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ir=!1}if(tr=0,rr=nr=er=null,or=!1,(ji.current=null)===n||null===n.return){qi=1,Qi=e,Ki=null;break}t:{var o=t,a=n.return,s=e;if(e=Yi,(b=n).flags|=2048,(b.firstEffect=b.lastEffect=null)!==s&&"object"===_a(s)&&"function"==typeof s.then){var l,u=s;0==(2&b.mode)&&((l=b.alternate)?(b.updateQueue=l.updateQueue,b.memoizedState=l.memoizedState,b.lanes=l.lanes):(b.updateQueue=null,b.memoizedState=null));var c,h,d,f=0!=(1&zn.current),p=a;do{if(d=(d=13===p.tag)?null!==(c=p.memoizedState)?null!==c.dehydrated:void 0!==(h=p.memoizedProps).fallback&&(!0!==h.unstable_avoidThisFallback||!f):d){var g,y,v=p.updateQueue;if(null===v?((g=new Set).add(u),p.updateQueue=g):v.add(u),0==(2&p.mode)){p.flags|=64,b.flags|=16384,b.flags&=-2981,1===b.tag&&(null===b.alternate?b.tag=17:((y=dn(-1,1)).tag=2,fn(b,y))),b.lanes|=1;break t}var m,s=void 0,b=e,_=o.pingCache;null===_?(_=o.pingCache=new di,s=new Set,_.set(u,s)):void 0===(s=_.get(u))&&(s=new Set,_.set(u,s)),s.has(b)||(s.add(b),m=Zo.bind(null,o,u,b),u.then(m,m)),p.flags|=4096,p.lanes=e;break t}}while(null!==(p=p.return));s=Error((k(b.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==qi&&(qi=2),s=ci(s,b),p=a;do{switch(p.tag){case 3:o=s;p.flags|=4096,e&=-e,p.lanes|=e,pn(p,fi(0,o,e));break t;case 1:o=s;var x=p.type,S=p.stateNode;if(0==(64&p.flags)&&("function"==typeof x.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===uo||!uo.has(S)))){p.flags|=4096,e&=-e,p.lanes|=e,pn(p,pi(p,o,e));break t}}}while(null!==(p=p.return))}Bo(n)}catch(t){e=t,Ki===n&&null!==n&&(Ki=n=n.return);continue}break}while(1)}function Go(){var t=Bi.current;return Bi.current=Nr,null===t?Nr:t}function zo(e,t){var n=Hi;Hi|=16;var r=Go();for(Vi===e&&Yi===t||Io(e,t);;)try{!function(){for(;null!==Ki;)Uo(Ki)}();break}catch(t){Lo(e,t)}if(nn(),Hi=n,Bi.current=r,null!==Ki)throw Error(b(261));return Vi=null,Yi=0,qi}function Uo(t){var e=Xo(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,null===e?Bo(t):Ki=e,ji.current=null}function Bo(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=function(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return re(e.type)&&ie(),null;case 3:return In(),qt(te),qt(Jt),Qn(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Zn(e)?li(e):r.hydrate||(e.flags|=256)),qr(e),null;case 5:Gn(e);var i=Rn(On.current);if(n=e.type,null!==t&&null!=e.stateNode)Qr(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(b(166));return null}if(t=Rn(An.current),Zn(e)){if(!q)throw Error(b(175));t=zt(e.stateNode,e.type,e.memoizedProps,i,t,e),null!==(e.updateQueue=t)&&li(e)}else{var o=G(n,r,i,t,e);Zr(o,e,!1,!1),e.stateNode=o,U(o,n,r,i,t)&&li(e)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)$r(t,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(b(166));if(t=Rn(On.current),i=Rn(An.current),Zn(e)){if(!q)throw Error(b(176));Ut(e.stateNode,e.memoizedProps,e)&&li(e)}else e.stateNode=W(r,t,i,e)}return null;case 13:return(qt(zn),r=e.memoizedState,0!=(64&e.flags))?(e.lanes=n,e):(r=null!==r,i=!1,null===t?void 0!==e.memoizedProps.fallback&&Zn(e):i=null!==t.memoizedState,r&&!i&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&zn.current)?0===qi&&(qi=3):(0!==qi&&3!==qi||(qi=4),null===Vi||0==(134217727&Ji)&&0==(134217727&to)||Fo(Vi,Yi))),X&&r&&(e.flags|=4),Z&&(r||i)&&(e.flags|=4),null);case 4:return In(),qr(e),null===t&&nt(e.stateNode.containerInfo),null;case 10:return on(e),null;case 17:return re(e.type)&&ie(),null;case 19:if(qt(zn),null===(r=e.memoizedState))return null;if(i=0!=(64&e.flags),null===(o=r.rendering))if(i)ui(r,!1);else{if(0!==qi||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(o=Un(t))){for(e.flags|=64,ui(r,!1),null!==(t=o.updateQueue)&&(e.updateQueue=t,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,t=n,r=e.child;null!==r;)n=t,(i=r).flags&=2,i.nextEffect=null,i.firstEffect=null,(i.lastEffect=null)===(o=i.alternate)?(i.childLanes=0,i.lanes=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Qt(zn,1&zn.current|2),e.child}t=t.sibling}null!==r.tail&&Ue()>io&&(e.flags|=64,ui(r,!(i=!0)),e.lanes=33554432)}else{if(!i)if(null!==(t=Un(o))){if(e.flags|=64,i=!0,null!==(t=t.updateQueue)&&(e.updateQueue=t,e.flags|=4),ui(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!Wn)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Ue()-r.renderingStartTime>io&&1073741824!==n&&(e.flags|=64,ui(r,!(i=!0)),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(null!==(t=r.last)?t.sibling=o:e.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ue(),t.sibling=null,e=zn.current,Qt(zn,i?1&e|2:1&e),t):null;case 23:case 24:return Do(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(b(156,e.tag))}(n,e,Zi)))return void(Ki=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Zi)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=function(t){switch(t.tag){case 1:re(t.type)&&ie();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(In(),qt(te),qt(Jt),Qn(),0!=(64&(e=t.flags)))throw Error(b(285));return t.flags=-4097&e|64,t;case 5:return Gn(t),null;case 13:return qt(zn),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return qt(zn),null;case 4:return In(),null;case 10:return on(t),null;case 23:case 24:return Do(),null;default:return null}}(e)))return n.flags&=2047,void(Ki=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ki=e)}while(Ki=e=t,null!==e);0===qi&&(qi=5)}function jo(t){var e=Be();return We(99,function(t,e){for(;Wo(),null!==ho;);if(0!=(48&Hi))throw Error(b(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,s=t.expirationTimes;0<o;){var l=31-_e(o),u=1<<l;i[l]=0,a[l]=-1,s[l]=-1,o&=~u}if(null!==yo&&0==(24&r)&&yo.has(t)&&yo.delete(t),t===Vi&&(Ki=Vi=null,Yi=0),r=1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,n.firstEffect):n:n.firstEffect,null!==r){i=Hi,Hi|=32,ji.current=null,So=I(t.containerInfo),wo=!1,ao=r;do{try{!function(){for(;null!==ao;){var t=ao.alternate;wo||null===So||(0!=(8&ao.flags)?A(ao,So)&&(wo=!0,tt()):13===ao.tag&&function(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}(t,ao)&&A(ao,So)&&(wo=!0,tt()));var e=ao.flags;0!=(256&e)&&function(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:var n,r;return 256&e.flags&&null!==t&&(n=t.memoizedProps,r=t.memoizedState,e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qe(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e);case 3:return Z&&256&e.flags&&Pt(e.stateNode.containerInfo);case 5:case 6:case 4:case 17:return}throw Error(b(163))}(t,ao),0==(512&e)||co||(co=!0,He(97,function(){return Wo(),null})),ao=ao.nextEffect}}()}catch(t){if(null===ao)throw Error(b(330));Yo(ao,t),ao=ao.nextEffect}}while(null!==ao);So=null,ao=r;do{try{for(a=t;null!==ao;){var c,h,d=ao.flags;switch(16&d&&Z&&_t(ao.stateNode),128&d&&(null===(c=ao.alternate)||null!==(h=c.ref)&&("function"==typeof h?h(null):h.current=null)),1038&d){case 2:Ci(ao),ao.flags&=-3;break;case 6:Ci(ao),ao.flags&=-3,ki(ao.alternate,ao);break;case 1024:ao.flags&=-1025;break;case 1028:ao.flags&=-1025,ki(ao.alternate,ao);break;case 4:ki(ao.alternate,ao);break;case 8:(Z?Pi:xi)(s=a,o=ao);var f=o.alternate;Si(o),null!==f&&Si(f)}ao=ao.nextEffect}}catch(t){if(null===ao)throw Error(b(330));Yo(ao,t),ao=ao.nextEffect}}while(null!==ao);wo&&et(),L(t.containerInfo),t.current=n,ao=r;do{try{for(d=t;null!==ao;){var p,g,y=ao.flags;36&y&&mi(d,ao.alternate,ao),128&y&&(c=void 0,null!==(p=ao.ref)&&(g=ao.stateNode,c=5===ao.tag?O(g):g,"function"==typeof p?p(c):p.current=c)),ao=ao.nextEffect}}catch(t){if(null===ao)throw Error(b(330));Yo(ao,t),ao=ao.nextEffect}}while(null!==ao);ao=null,De(),Hi=i}else t.current=n;if(co)co=!1,ho=t,fo=e;else for(ao=r;null!==ao;)e=ao.nextEffect,ao.nextEffect=null,8&ao.flags&&((y=ao).sibling=null,y.stateNode=null),ao=e;if(0===(r=t.pendingLanes)&&(uo=null),1===r?t===mo?vo++:(vo=0,mo=t):vo=0,n=n.stateNode,ce&&"function"==typeof ce.onCommitFiberRoot)try{ce.onCommitFiberRoot(ue,n,void 0,64==(64&n.current.flags))}catch(t){}if(Eo(t,Ue()),so)throw so=!1,t=lo,lo=null,t;return 0!=(8&Hi)||Ve(),null}.bind(null,t,e)),null}function Wo(){if(90===fo)return!1;var t=97<fo?97:fo;return fo=90,We(t,Vo)}function Ho(t,e){go.push(e,t),co||(co=!0,He(97,function(){return Wo(),null}))}function Vo(){if(null===ho)return!1;var t=ho;if(ho=null,0!=(48&Hi))throw Error(b(331));var e=Hi;Hi|=32;var n=go;go=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(t){if(null===o)throw Error(b(330));Yo(o,t)}}for(n=po,po=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(t){if(null===o)throw Error(b(330));Yo(o,t)}}for(s=t.current.firstEffect;null!==s;)t=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=t;return Hi=e,Ve(),!0}function Ko(t,e,n){fn(t,e=fi(0,e=ci(n,e),1)),e=Co(),null!==(t=To(t,1))&&(be(t,1,e),Eo(t,e))}function Yo(t,e){if(3===t.tag)Ko(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Ko(n,t,e);break}if(1===n.tag){var r,i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===uo||!uo.has(i))){if(fn(n,r=pi(n,t=ci(e,t),1)),r=Co(),null!==(n=To(n,1)))be(n,1,r),Eo(n,r);else if("function"==typeof i.componentDidCatch&&(null===uo||!uo.has(i)))try{i.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Zo(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=Co(),t.pingedLanes|=t.suspendedLanes&n,Vi===t&&(Yi&n)===n&&(4===qi||3===qi&&(62914560&Yi)===Yi&&Ue()-ro<500?Io(t,0):eo|=n),Eo(t,e)}var Xo=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||te.current)Lr=!0;else{if(0==(n&r)){switch(Lr=!1,e.tag){case 3:Yr(e),Xn();break;case 5:Ln(e);break;case 1:re(e.type)&&se(e);break;case 4:Dn(e,e.stateNode.containerInfo);break;case 10:rn(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?ti(t,e,n):(Qt(zn,1&zn.current),null!==(e=si(t,e,n))?e.sibling:null);Qt(zn,1&zn.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return ai(t,e,n);e.flags|=64}var i=e.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(zn,zn.current),r)break;return null;case 23:case 24:return e.lanes=0,jr(t,e,n)}return si(t,e,n)}Lr=0!=(16384&t.flags)}else Lr=!1;switch(e.lanes=0,e.tag){case 2:r=e.type;return null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ne(e,Jt.current),sn(e,n),i=lr(null,e,r,t,i,n),e.flags|=1,e="object"===_a(i)&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,re(r)?(o=!0,se(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,cn(e),"function"==typeof(l=r.getDerivedStateFromProps)&&mn(e,0,l,t),i.updater=bn,wn((e.stateNode=i)._reactInternals=e,r,t,n),Kr(null,e,r,!0,o,n)):(e.tag=0,Gr(null,e,i,n),e.child);case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"==typeof t)return oa(t)?1:0;if(null!=t){if((t=t.$$typeof)===h)return 11;if(t===p)return 14}return 2}(i),t=Qe(i,t),o){case 0:e=Hr(null,e,i,t,n);break t;case 1:e=Vr(null,e,i,t,n);break t;case 11:e=zr(null,e,i,t,n);break t;case 14:e=Ur(null,e,i,Qe(i.type,t),r,n);break t}throw Error(b(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Hr(t,e,r,i=e.elementType===r?i:Qe(r,i),n);case 1:return r=e.type,i=e.pendingProps,Vr(t,e,r,i=e.elementType===r?i:Qe(r,i),n);case 3:if(Yr(e),r=e.updateQueue,null===t||null===r)throw Error(b(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,hn(t,e),gn(e,r,null,n),(r=e.memoizedState.element)===i)Xn(),e=si(t,e,n);else{if(o=(o=(i=e.stateNode).hydrate)?!!q&&(jn=Gt(e.stateNode.containerInfo),Bn=e,Wn=!0):o){if(q&&null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)o=t[i],l=t[i+1],Y?o._workInProgressVersionPrimary=l:o._workInProgressVersionSecondary=l,qn.push(o);for(n=Mn(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Gr(t,e,r,n),Xn();e=e.child}return e;case 5:return Ln(e),null===t&&Kn(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,l=i.children,j(r,i)?l=null:null!==o&&j(r,o)&&(e.flags|=16),Wr(t,e),Gr(t,e,l,n),e.child;case 6:return null===t&&Kn(e),null;case 13:return ti(t,e,n);case 4:return Dn(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=En(e,null,r,n):Gr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,zr(t,e,r,i=e.elementType===r?i:Qe(r,i),n);case 7:return Gr(t,e,e.pendingProps,n),e.child;case 8:case 12:return Gr(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,l=e.memoizedProps,rn(e,o=i.value),null!==l){var o,a=l.value;if(0===(o=Ze(a,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(a,o):1073741823))){if(l.children===i.children&&!te.current){e=si(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var s=a.dependencies;if(null!==s)for(var l=a.child,u=s.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===a.tag&&((u=dn(-1,n&-n)).tag=2,fn(a,u)),a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),an(a.return,n),s.lanes|=n;break}u=u.next}else l=10===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}Gr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,sn(e,n),r=r(i=ln(i,o.unstable_observedBits)),e.flags|=1,Gr(t,e,r,n),e.child;case 14:return o=Qe(i=e.type,e.pendingProps),Ur(t,e,i,o=Qe(i.type,o),r,n);case 15:return Br(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qe(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,re(r)?(t=!0,se(e)):t=!1,sn(e,n),xn(e,r,i),wn(e,r,i,n),Kr(null,e,r,!0,t,n);case 19:return ai(t,e,n);case 23:case 24:return jr(t,e,n)}throw Error(b(156,e.tag))},qo={current:!1},Qo=r.unstable_flushAllWithoutAsserting,$o="function"==typeof Qo;function Jo(){if(void 0!==Qo)return Qo();for(var t=!1;Wo();)t=!0;return t}function ta(e){try{Jo(),function(t){if(null===zi)try{var e=("require"+Math.random()).slice(0,7);zi=(ma&&ma[e]).call(ma,"timers").setImmediate}catch(t){zi=function(t){var e=new MessageChannel;e.port1.onmessage=t,e.port2.postMessage(void 0)}}zi(t)}(function(){Jo()?ta(e):e()})}catch(t){e(t)}}var ea=0,na=!1;function ra(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,e,n,r){return new ra(t,e,n,r)}function oa(t){return(t=t.prototype)&&t.isReactComponent}function aa(t,e){var n=t.alternate;return null===n?((n=ia(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,(n.alternate=t).alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sa(t,e,n,r,i,o){var a=2;if("function"==typeof(r=t))oa(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case S:return la(n.children,i,o,e);case m:a=8,i|=16;break;case s:a=8,i|=1;break;case l:return(t=ia(12,n,e,8|i)).elementType=l,t.type=l,t.lanes=o,t;case d:return(t=ia(13,n,e,i)).type=d,t.elementType=d,t.lanes=o,t;case f:return(t=ia(19,n,e,i)).elementType=f,t.lanes=o,t;case w:return ua(n,i,o,e);case C:return(t=ia(24,n,e,i)).elementType=C,t.lanes=o,t;default:if("object"===_a(t)&&null!==t)switch(t.$$typeof){case u:a=10;break t;case c:a=9;break t;case h:a=11;break t;case p:a=14;break t;case y:a=16,r=null;break t;case v:a=22;break t}throw Error(b(130,null==t?t:_a(t),""))}return(e=ia(a,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function la(t,e,n,r){return(t=ia(7,t,r,e)).lanes=n,t}function ua(t,e,n,r){return(t=ia(23,t,r,e)).elementType=w,t.lanes=n,t}function ca(t,e,n){return(t=ia(6,t,null,e)).lanes=n,t}function ha(t,e,n){return(e=ia(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function da(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=K,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),q&&(this.mutableSourceEagerHydrationData=null)}function fa(t){var e=t._reactInternals;if(void 0!==e)return null===(t=F(e))?null:t.stateNode;if("function"==typeof t.render)throw Error(b(188));throw Error(b(268,Object.keys(t)))}function pa(t,e){var n;null!==(t=t.memoizedState)&&null!==t.dehydrated&&(n=t.retryLane,t.retryLane=0!==n&&n<e?n:e)}function ga(t,e){pa(t,e),(t=t.alternate)&&pa(t,e)}function ya(t){return null===(t=F(t))?null:t.stateNode}function va(){return null}return e.IsThisRendererActing=qo,e.act=function(t){function r(){ea--,Wi.current=i,qo.current=e}!1===na&&(na=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),ea++;var i=Wi.current,e=qo.current;Wi.current=!0,qo.current=!0;try{var o=No(t)}catch(t){throw r(),t}if(null!==o&&"object"===_a(o)&&"function"==typeof o.then)return{then:function(e,n){o.then(function(){1<ea||!0==$o&&!0===i?(r(),e()):ta(function(t){r(),t?n(t):e()})},function(t){r(),n(t)})}};try{1!==ea||!1!=$o&&!1!==i||Jo(),r()}catch(t){throw r(),t}return{then:function(t){t()}}},e.attemptContinuousHydration=function(t){13===t.tag&&(ko(t,67108864,Co()),ga(t,67108864))},e.attemptHydrationAtCurrentPriority=function(t){var e,n;13===t.tag&&(e=Co(),ko(t,n=Po(t),e),ga(t,n))},e.attemptSynchronousHydration=function(t){switch(t.tag){case 3:var e,n=t.stateNode;n.hydrate&&(e=fe(n.pendingLanes),n.expiredLanes|=e&n.pendingLanes,Eo(n,Ue()),0==(48&Hi)&&(oo(),Ve()));break;case 13:var r=Co();Oo(function(){return ko(t,1,r)}),ga(t,4)}},e.attemptUserBlockingHydration=function(t){13===t.tag&&(ko(t,4,Co()),ga(t,4))},e.batchedEventUpdates=function(t,e){var n=Hi;Hi|=2;try{return t(e)}finally{0===(Hi=n)&&(oo(),Ve())}},e.batchedUpdates=No,e.createComponentSelector=function(t){return{$$typeof:Mi,value:t}},e.createContainer=function(t,e,n){return t=new da(t,e,n),e=ia(3,null,null,2===e?7:1===e?3:0),(t.current=e).stateNode=t,cn(e),t},e.createHasPsuedoClassSelector=function(t){return{$$typeof:Fi,value:t}},e.createPortal=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}},e.createRoleSelector=function(t){return{$$typeof:Ai,value:t}},e.createTestNameSelector=function(t){return{$$typeof:Ni,value:t}},e.createTextSelector=function(t){return{$$typeof:Oi,value:t}},e.deferredUpdates=function(t){return We(97,t)},e.discreteUpdates=function(t,e,n,r,i){var o=Hi;Hi|=4;try{return We(98,t.bind(null,e,n,r,i))}finally{0===(Hi=o)&&(oo(),Ve())}},e.findAllNodes=Gi,e.findBoundingRects=function(t,e){if(!rt)throw Error(b(363));e=Gi(t,e),t=[];for(var n=0;n<e.length;n++)t.push(ot(e[n]));for(e=t.length-1;0<e;e--)for(var r=(n=t[e]).x,i=r+n.width,o=n.y,a=o+n.height,s=e-1;0<=s;s--)if(e!==s){var l=t[s],u=l.x,c=u+l.width,h=l.y,d=h+l.height;if(u<=r&&h<=o&&i<=c&&a<=d){t.splice(e,1);break}if(!(r!==u||n.width!==l.width||d<o||a<h)){o<h&&(l.height+=h-o,l.y=o),d<a&&(l.height=a-h),t.splice(e,1);break}if(!(o!==h||n.height!==l.height||c<r||i<u)){r<u&&(l.width+=u-r,l.x=r),c<i&&(l.width=i-u),t.splice(e,1);break}}return t},e.findHostInstance=fa,e.findHostInstanceWithNoPortals=function(t){return null===(t=function(t){if(!(t=M(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child&&4!==e.tag)e=(e.child.return=e).child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}(t))?null:20===t.tag?t.stateNode.instance:t.stateNode},e.findHostInstanceWithWarning=fa,e.flushControlled=function(t){var e=Hi;Hi|=1;try{We(99,t)}finally{0===(Hi=e)&&(oo(),Ve())}},e.flushDiscreteUpdates=function(){var t;0==(49&Hi)&&(null!==yo&&(t=yo,yo=null,t.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Eo(t,Ue())})),Ve(),Wo())},e.flushPassiveEffects=Wo,e.flushSync=Oo,e.focusWithin=function(t,e){if(!rt)throw Error(b(363));for(e=Li(t=Ri(t),e),e=Array.from(e),t=0;t<e.length;){var n=e[t++];if(!st(n)){if(5===n.tag&&ut(n.stateNode))return!0;for(n=n.child;null!==n;)e.push(n),n=n.sibling}}return!1},e.getCurrentUpdateLanePriority=function(){return he},e.getFindAllNodesFailureDescription=function(t,e){if(!rt)throw Error(b(363));var n=0,r=[];t=[Ri(t),0];for(var i=0;i<t.length;){var o=t[i++],a=t[i++],s=e[a];if((5!==o.tag||!st(o))&&(Di(o,s)&&(r.push(Ii(s)),n<++a&&(n=a)),a<e.length))for(o=o.child;null!==o;)t.push(o,a),o=o.sibling}if(n<e.length){for(t=[];n<e.length;n++)t.push(Ii(e[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+t.join(" > ")}return null},e.getPublicRootInstance=function(t){return(t=t.current).child?5!==t.child.tag?t.child.stateNode:O(t.child.stateNode):null},e.injectIntoDevTools=function(t){if(t={bundleType:t.bundleType,version:t.version,rendererPackageName:t.rendererPackageName,rendererConfig:t.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:ya,findFiberByHostInstance:t.findFiberByHostInstance||va,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e.isDisabled&&e.supportsFiber)try{ue=e.inject(t),ce=e}catch(t){}t=!0}return t},e.observeVisibleRects=function(t,e,n,r){if(!rt)throw Error(b(363));t=Gi(t,e);var i=ct(t,n,r).disconnect;return{disconnect:function(){i()}}},e.registerMutableSourceForHydration=function(t,e){var n=(n=e._getVersion)(e._source);null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[e,n]:t.mutableSourceEagerHydrationData.push(e,n)},e.runWithPriority=function(t,e){var n=he;try{return he=t,e()}finally{he=n}},e.shouldSuspend=function(){return!1},e.unbatchedUpdates=function(t,e){var n=Hi;Hi&=-2,Hi|=8;try{return t(e)}finally{0===(Hi=n)&&(oo(),Ve())}},e.updateContainer=function(t,e,n,r){var i=e.current,o=Co(),a=Po(i);t:if(n){e:{if(T(n=n._reactInternals)!==n||1!==n.tag)throw Error(b(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(re(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}}while(null!==(s=s.return));throw Error(b(171))}if(1===n.tag){var l=n.type;if(re(l)){n=ae(n,l,s);break t}}n=s}else n=$t;return null===e.context?e.context=n:e.pendingContext=n,(e=dn(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),fn(i,e),ko(i,a,o),a},e}},25374:function(t,e,n){"use strict";t.exports=n(92259)},78245:function(t,s,e){"use strict";
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n,r,i,o,a,l,u,c,h,d,f,p,g,y,v,m,b,_,x=e(45559);function S(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<P(i,e)))break t;t[r]=e,t[n]=i,n=r}}function w(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=1+o,l=t[s];if(void 0!==a&&P(a,n)<0)r=void 0!==l&&P(l,a)<0?(t[r]=l,t[s]=n,s):(t[r]=a,t[o]=n,o);else{if(!(void 0!==l&&P(l,n)<0))break t;t[r]=l,t[s]=n,r=s}}}return e}}function P(t,e){var n=t.sortIndex-e.sortIndex;return 0!=n?n:t.id-e.id}"object"===("undefined"==typeof performance?"undefined":x(performance))&&"function"==typeof performance.now?(n=performance,s.unstable_now=function(){return n.now()}):(r=Date,i=r.now(),s.unstable_now=function(){return r.now()-i}),"undefined"==typeof window||"function"!=typeof MessageChannel?(a=o=null,l=function e(){if(null!==o)try{var t=s.unstable_now();o(!0,t),o=null}catch(t){throw setTimeout(e,0),t}},u=function(t){null!==o?setTimeout(u,0,t):(o=t,setTimeout(l,0))},c=function(t,e){a=setTimeout(t,e)},h=function(){clearTimeout(a)},s.unstable_shouldYield=function(){return!1},L=s.unstable_forceFrameRate=function(){}):(d=window.setTimeout,f=window.clearTimeout,"undefined"!=typeof console&&(b=window.cancelAnimationFrame,"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),p=!1,g=null,y=-1,v=5,m=0,s.unstable_shouldYield=function(){return s.unstable_now()>=m},L=function(){},s.unstable_forceFrameRate=function(t){t<0||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<t?Math.floor(1e3/t):5},b=new MessageChannel,_=b.port2,b.port1.onmessage=function(){if(null!==g){var t=s.unstable_now();m=t+v;try{g(!0,t)?_.postMessage(null):(p=!1,g=null)}catch(t){throw _.postMessage(null),t}}else p=!1},u=function(t){g=t,p||(p=!0,_.postMessage(null))},c=function(t,e){y=d(function(){t(s.unstable_now())},e)},h=function(){f(y),y=-1});var k=[],T=[],E=1,M=null,F=3,A=!1,N=!1,O=!1;function R(t){for(var e=w(T);null!==e;){if(null===e.callback)C(T);else{if(!(e.startTime<=t))break;C(T),e.sortIndex=e.expirationTime,S(k,e)}e=w(T)}}function D(t){var e;O=!1,R(t),N||(null!==w(k)?(N=!0,u(I)):null!==(e=w(T))&&c(D,e.startTime-t))}function I(t,e){N=!1,O&&(O=!1,h()),A=!0;var n=F;try{for(R(e),M=w(k);null!==M&&(!(M.expirationTime>e)||t&&!s.unstable_shouldYield());){var r,i=M.callback;"function"==typeof i?(M.callback=null,F=M.priorityLevel,r=i(M.expirationTime<=e),e=s.unstable_now(),"function"==typeof r?M.callback=r:M===w(k)&&C(k),R(e)):C(k),M=w(k)}var o,a=null!==M||(null!==(o=w(T))&&c(D,o.startTime-e),!1);return a}finally{M=null,F=n,A=!1}}var L=L;s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(t){t.callback=null},s.unstable_continueExecution=function(){N||A||(N=!0,u(I))},s.unstable_getCurrentPriorityLevel=function(){return F},s.unstable_getFirstCallbackNode=function(){return w(k)},s.unstable_next=function(t){switch(F){case 1:case 2:case 3:var e=3;break;default:e=F}var n=F;F=e;try{return t()}finally{F=n}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=L,s.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=F;F=t;try{return e()}finally{F=n}},s.unstable_scheduleCallback=function(t,e,n){var r=s.unstable_now();switch(n="object"===x(n)&&null!==n?"number"==typeof(n=n.delay)&&0<n?r+n:r:r,t){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return t={id:E++,callback:e,priorityLevel:t,startTime:n,expirationTime:i=n+i,sortIndex:-1},r<n?(t.sortIndex=n,S(T,t),null===w(k)&&t===w(T)&&(O?h():O=!0,c(D,n-r))):(t.sortIndex=i,S(k,t),N||A||(N=!0,u(I))),t},s.unstable_wrapCallback=function(e){var n=F;return function(){var t=F;F=n;try{return e.apply(this,arguments)}finally{F=t}}}},34853:function(t,e,n){"use strict";t.exports=n(78245)}}]);