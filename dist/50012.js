(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[50012],{66256:function(t,n,e){"use strict";e.d(n,{Z:function(){return d}});var n=e(51265),r=e.n(n),n=e(56156),i=e.n(n),n=e(16526),n=e.n(n),o=e(78709),u=e(3640);e(20683);function c(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function a(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?c(Object(e),!0).forEach(function(t){i()(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var f={animation:"transition.fadeIn",stagger:50,duration:200,display:null,visibility:"visible",delay:0},s={stagger:50,duration:200,display:null,visibility:"visible",delay:0};function l(t){return o.createElement(u.VelocityTransitionGroup,r()({},t,{enter:a(a({},f),t.enter),leave:a(a({},s),t.leave)}))}l.propTypes={children:n().any},l.defaultProps={enter:f,leave:s,easing:[.4,0,.2,1],runOnMount:!0,enterHideStyle:{visibility:"visible"},enterShowStyle:{visibility:"hidden"}};var d=o.memo(l)},63978:function(t,n,e){"use strict";e.d(n,{kJ:function(){return r},fK:function(){return i},_$:function(){return o},V8:function(){return u},F:function(){return c},sw:function(){return a},mZ:function(){return f},Lf:function(){return s},zU:function(){return l},m6:function(){return d},Js:function(){return p},E9:function(){return O},Mw:function(){return P},Lx:function(){return T},ov:function(){return E},F4:function(){return y},kQ:function(){return A},hc:function(){return D},Fe:function(){return m}});var r="[Accessibility] TOGGLE ACCESSIBILITY PANEL",i="[Accessibility] OPEN ACCESSIBILITY PANEL",o="[Accessibility] DOWNLOAD SMARTPHONE APP PANEL",u="[Accessibility] GET DATA",c="[Accessibility] SET MENU OPEN PANEL",a="[Accessibility] IS TEAM",f="[Accessibility] IS PROJECT",s="[Accessibility] IS TASK",l="[Accessibility] IS POST",d="[Accessibility] IS DOWNLOAD APP";function p(){return{type:r}}function O(){return{type:i}}function P(t){return{type:c,payload:t}}function T(t){return{type:a,payload:t}}function E(t){return{type:f,payload:t}}function y(t){return{type:s,payload:t}}function A(t){return{type:l,payload:t}}function D(t){return{type:d,payload:t}}function m(){return{type:o}}},82399:function(t,n,e){"use strict";e.d(n,{O0:function(){return B},xG:function(){return S},nk:function(){return y},nA:function(){return A},jW:function(){return O},j1:function(){return x},H8:function(){return W},D4:function(){return _},p3:function(){return f},fM:function(){return s},ru:function(){return p},jh:function(){return P},o9:function(){return k},Cw:function(){return M},X8:function(){return C},pF:function(){return v},F0:function(){return E},bI:function(){return m},x_:function(){return l},TF:function(){return T},tB:function(){return d},U6:function(){return g},iN:function(){return F},Bv:function(){return D},P7:function(){return X},uM:function(){return b},nG:function(){return U},th:function(){return I},T:function(){return L},mW:function(){return h},A_:function(){return N},XT:function(){return w},qZ:function(){return R},jF:function(){return Z},FD:function(){return Y},$V:function(){return j},Sg:function(){return G},QW:function(){return J}});var n=e(56156),r=e.n(n),o=(e(31806),e(88572)),u=e(11208),c=e(3089);function i(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function a(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?i(Object(e),!0).forEach(function(t){r()(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var f="[NOTES APP] GET NOTES",s="[PROJECTS APP] GET PROJECTS",l="[PROJECTS APP] RESET PROJECTS",d="[PROJECTS APP] TOGGLE PROJECT STATUS",p="[PROJECTS APP] GET PROJECTS DETAIL",O="[PROJECTS APP] DELETE_PROJECT",P="[PROJECTS APP] GET PROJECTS LIST",T="[NOTES APP] SET SEARCH TEXT",E="[NOTES APP] OPEN NOTE DIALOG",y="[NOTES APP] CLOSE NOTE DIALOG",A="[NOTES APP] CREATE NOTE",D="[NOTES APP] UPDATE NOTE",m="[NOTES APP] REMOVE NOTE",g="[NOTES APP] TOGGLE VARIATE DESC SIZE",v="[NOTES APP] OPEN CONFIRM DELETE DIALOG",S="[NOTES APP] CLOSE CONFIRM DELETE DIALOG",C="[NOTES APP] OK CONFIRM DELETE DIALOG";function h(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){return""};return i({loadingProjects:!0}),function(e,r){(0,o.k)(u.Ne,{},function(t){console.log("results???????????????",t);var n=r().chatApp.company;Array.isArray(t)&&e({type:s,payload:t.map(function(t){return a(a({},t),{},{isApproved:!0})}),company:n}),i({loadingProjects:!1})},function(t){i({loadingProjects:!1}),console.log(t)},o.Y.GET,(0,c.XW)())}}function N(e){return e({loadingProjectRequest:!0}),function(n){(0,o.k)(u.NG,{},function(t){t=t.results;Array.isArray(t)&&n({type:s,payload:t.map(function(t){return a(a(a({},t),t.project),{},{mainId:t.id,isApproved:!1})})}),e({loadingProjectRequest:!1})},function(t){e({loadingProjectRequest:!1}),console.log(t)},o.Y.GET,(0,c.XW)())}}function L(t){return function(n){(0,o.k)((0,u.zv)(t),{},function(t){n({type:p,payload:t})},function(t){return console.log(t)},o.Y.GET,(0,c.XW)())}}function I(e){return function(n){(0,o.k)((0,u.Yr)(e),{},function(t){n({type:O,pid:e})},function(t){return console.log(t)},o.Y.DELETE,(0,c.XW)())}}function R(){return{type:v}}function b(){return{type:S}}function w(){return{type:C}}function j(t){return{type:d,index:t}}function Y(t){return{type:T,searchText:t.target.value}}function G(n){return function(t){t({type:p,payload:n})}}function J(n){return function(t){t({type:P,payload:n})}}var _="[NOTES APP] GET LABELS",M="[PROJECT APP] PROJECT DIALOG OPEN",k="[PROJECT APP] PROJECT DIALOG CLOSE",F="[PROJECT APP] PROJECT UPDATE PROJECT",W="[PROJECT APP] PROJECT DIALOG OPEN",x="[PROJECT APP] PROJECT DIALOG CLOSE";function Z(t){return{type:W,dialogType:t}}function U(){return{type:x}}var B="[TODO APP] CHANGE FILTERS(project)";function X(n){return function(t){return t({type:B,payload:n})}}},90:function(t,n,e){"use strict";e.d(n,{WL:function(){return E},bP:function(){return A},O0:function(){return r},_V:function(){return L},Wy:function(){return h},Xg:function(){return M},t7:function(){return C},r8:function(){return D},rv:function(){return j},p2:function(){return G},uq:function(){return m},lt:function(){return g},Hz:function(){return dt},D4:function(){return pt},y$:function(){return i},Im:function(){return J},s8:function(){return S},kK:function(){return _},__:function(){return v},sJ:function(){return P},X1:function(){return w},JV:function(){return Y},Wo:function(){return T},AS:function(){return y},hN:function(){return O},cS:function(){return b},TF:function(){return a},W6:function(){return I},VL:function(){return R},v0:function(){return N},Iu:function(){return u},Tu:function(){return o},t:function(){return K},$U:function(){return $},rk:function(){return at},P7:function(){return p},Bl:function(){return ct},ue:function(){return X},a7:function(){return ut},Ln:function(){return rt},hg:function(){return Q},Br:function(){return nt},X_:function(){return V},aP:function(){return it},yv:function(){return ft},Kj:function(){return st},bm:function(){return lt},LC:function(){return Z},Yp:function(){return et},Am:function(){return ot},NJ:function(){return B},fE:function(){return H},Z$:function(){return z},ru:function(){return tt},tp:function(){return U},F8:function(){return q},K4:function(){return F},VX:function(){return W},iw:function(){return x}});e(56156),e(31806);var f=e(88572),s=e(11208),l=e(3089),n=e(78279),d=e.n(n),c=e(43812),r="[TODO APP] CHANGE FILTERS(project)";function p(n){return function(t){return t({type:r,payload:n})}}var i="[TODO APP] GET TODOS (PROJECT)",O="[TODO APP] RESET ALL FILTERS (PROJECT)",o="[TODO APP] UPDATE TODOS (PROJECT)",u="[TODO APP] UPDATE TODO (PROJECT)",a="[TODO APP] SET SEARCH TEXT (PROJECT)",P="[TODO APP] OPEN NEW TODO DIALOG (PROJECT)",T="[TODO APP] OPEN TASK CONTENT DIALOG (PROJECT)",E="[TODO APP] ADD TASK CONTENT DATA (PROJECT)",y="[TODO APP] OPEN TIMELINE DIALOG (PROJECT)",A="[TODO APP] ADD TIMELINE DATA (PROJECT)",D="[TODO APP] CLOSE NEW TODO DIALOG (PROJECT)",m="[TODO APP] CLOSE TASK CONTENT DIALOG (PROJECT)",g="[TODO APP] CLOSE TIMELINE DIALOG (PROJECT)",v="[TODO APP] OPEN EDIT TODO DIALOG (PROJECT)",S="[TODO APP] OPEN ACTIVITY TODO DIALOG (PROJECT)",C="[TODO APP] CLOSE EDIT TODO DIALOG (PROJECT)",h="[TODO APP] CLOSE ACTIVITY TODO DIALOG (PROJECT)",N="[TODO APP] TOGGLE ORDER DESCENDING (PROJECT)",L="[TODO APP] CHANGE ORDER (PROJECT)",I="[TODO APP] SET UPLOAD (PROJECT)",R="[TODO APP] SET UPLOAD PERCENTAGE (PROJECT)",b="[TODO APP] SET LOADING (PROJECT)",w="[TODO APP] OPEN NOTIFICATION DIALOG (PROJECT)",j="[TODO APP] CLOSE NOTIFICATION DIALOG (PROJECT)",Y="[TODO APP] OPEN STATUS CONFIRM DIALOG (PROJECT)",G="[TODO APP] CLOSE STATUS CONFIRM DIALOG (PROJECT)",J="[TODO APP] OK STATUS CONFIRM DIALOG (PROJECT)",_="[TODO APP] OPEN DRAWING CONTENT DIALOG (PROJECT)",M="[TODO APP] CLOSE DRAWING CONTENT DIALOG (PROJECT)";function k(t,n){return t.id>n.id?1:t.id<n.id?-1:0}function F(t){return{type:b,payload:t}}function W(t){return{type:I,payload:t}}function x(t){return{type:R,payload:t}}function Z(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){return""};return console.log({pid:t,isGantt:e,handleSetLoading:r}),r({loadingTodos:!0}),function(n){n(F(!0)),(0,f.k)((e?(0,s.B1):(0,s.sM))(t),{},function(t){r({loadingTodos:!1}),n(F(!1)),n({type:i,payload:t.sort(k),isGantt:e})},function(t){r({loadingTodos:!1}),n(F(!1)),console.log(t)},f.Y.GET,(0,l.XW)())}}function U(t){return{type:T,data:t}}function B(t){return{type:_,data:t}}function X(){return{type:M}}function K(t){return{type:E,data:t}}function V(){return{type:m}}function H(t){return{type:P,data:t}}function q(t){return{type:y,todo:t}}function $(t){return{type:A,todo:t}}function z(t){return{type:w,data:t}}function Q(){return{type:j}}function tt(t){return{type:Y,data:t}}function nt(){return{type:G}}function et(){return{type:J}}function rt(){return{type:D}}function it(){return{type:g}}function ot(n){return function(t){return t({type:S,data:n})}}function ut(){return{type:C}}function ct(){return{type:h}}function at(e,r,i,o,u){return function(n){var t="new"==i?{name:e.title,note:e.notes,progress:e.progress,date_start:d()(e.startDate).format("YYYY-MM-DD"),date_end:d()(e.endDate).format("YYYY-MM-DD"),assigned_company:e.company&&e.company[0]?e.company[0].data.profile.company.id:null}:{title:e.title,description:e.notes,datetime_start:d()(e.startDate).format("YYYY-MM-DD"),datetime_end:d()(e.endDate).format("YYYY-MM-DD"),workers:null!==(t=e.profile)&&void 0!==t&&t.length?e.profile.map(function(t){return t.data.profile.id}):null};(0,f.k)("new"==i?(0,s.Md)(r):(0,s.he)(e.id),t,function(t){u?n(Z(r,u)):(n(Z(r,!1)),n(Z(r,!0))),o()},function(t){return console.log(t)},f.Y.POST,(0,l.XW)())}}function ft(e,r,i,o){return function(n){console.log(e,e.profile);var t={title:e.title,description:e.notes,datetime_start:d()(e.startDate).format("YYYY-MM-DD"),datetime_end:d()(e.endDate).format("YYYY-MM-DD"),status:e.progress,workers:null!==(t=e.profile)&&void 0!==t&&t.length?e.profile.map(function(t){return(t.data.profile||t.data).id}):void 0};(0,f.k)((0,s.E1)(e.id),t,function(t){o&&(n(Z(r,o)),n(it())),console.log(t),i(!1),c.Am.success("Updated")},function(t){return console.log(t)},f.Y.PUT,(0,l.XW)())}}function st(e,r,i,o,u){return function(n){console.log({todo:e});var t={title:e.name,description:e.description,datetime_start:d()(e.startDate).format("YYYY-MM-DD"),datetime_end:d()(e.endDate).format("YYYY-MM-DD"),workers:null!==(t=e.profile)&&void 0!==t&&t.length?e.profile.map(function(t){return(t.data.profile||t.data).id}):void 0};(0,f.k)((0,s.E1)(e.id),t,function(t){console.log(t),c.Am.success("Updated"),u(!1),o?n(Z(r,o)):(n(Z(r,!1)),n(Z(r,!0))),i()},function(t){return console.log(t)},f.Y.PUT,(0,l.XW)())}}function lt(r,i,o,u,c,a){return console.log({todo:r}),function(n){var t,e="new"==o?{name:r.name,note:r.description,progress:r.progress,date_start:d()(r.startDate).format("YYYY-MM-DD"),date_end:d()(r.endDate).format("YYYY-MM-DD"),assigned_company:null!==(t=r.company[0])&&void 0!==t&&(null!==(t=t.data)&&void 0!==t&&(null!==(t=t.profile)&&void 0!==t&&(null!==(e=t.company)&&void 0!==e&&e.id)))?r.company[0].data.profile.company.id:null,project:i,date_completed:null,alert:!1,starred:!1}:{title:r.title,description:r.notes,datetime_start:d()(r.startDate).format("YYYY-MM-DD"),datetime_end:d()(r.endDate).format("YYYY-MM-DD"),profile:r.profile[0]?r.profile[0].data.profile.id:null};(0,f.k)(("new"==o?(0,s.KR):(0,s.he))(r.id),e,function(t){a(!1),c?n(Z(i,c)):(n(Z(i,!1)),n(Z(i,!0))),n(function(t){t({type:O}),t(p({activeFilter:"genrealFilter",activeFilterKey:"All"}))}),u()},function(t){return console.log(t)},f.Y.PUT,(0,l.XW)())}}var dt="[TODO APP] GET FOLDERS";var pt="[TODO APP] GET LABELS"},50012:function(t,n,e){"use strict";e.r(n);var r=e(51265),F=e.n(r),r=e(56156),i=e.n(r),r=e(61432),W=e.n(r),r=e(32986),x=e(42401),Z=e(66256),U=e(49073),B=e(65129),X=e(92466),K=e(3089),V=e(78709),H=e(58913),q=e(35923),$=e(17844),z=e(82399),Q=e(90),tt=e(63978),nt=e(88572),et=e(11208),rt=e(53369);function o(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function it(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?o(Object(e),!0).forEach(function(t){i()(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})}return n}var ot=(0,r.ZP)(function(){return Promise.all([e.e(60894),e.e(12303),e.e(52494),e.e(49821),e.e(28960)]).then(e.bind(e,28960))}),ut=(0,r.ZP)(function(){return Promise.all([e.e(63604),e.e(60894),e.e(30250),e.e(71871),e.e(55527),e.e(51446),e.e(45489),e.e(98359),e.e(12303),e.e(5167),e.e(91454),e.e(9408)]).then(e.bind(e,91454))}),ct=(0,r.ZP)(function(){return Promise.all([e.e(63604),e.e(60894),e.e(30250),e.e(71871),e.e(51446),e.e(45489),e.e(12303),e.e(98176),e.e(34018)]).then(e.bind(e,41934))}),at=(0,r.ZP)(function(){return e.e(13195).then(e.bind(e,13195))});n.default=function(e){function n(n){return S(function(t){return it(it({},t),n)})}var r=(0,H.I0)(),t=(0,rt.$)("dashboard").t,u=(0,H.v9)(function(t){return t.todoApp.todos.entities}),c=(0,H.v9)(function(t){return t.todoApp.todos.searchText}),a=(0,H.v9)(function(t){return t.todoApp.todos.orderBy}),f=(0,H.v9)(function(t){return t.todoApp.todos.orderDescending}),i=(0,V.useState)([]),o=(m=W()(i,2))[0],s=m[1],l=(0,H.v9)(function(t){return t.todoApp.filters}),d=(0,H.v9)(function(t){return t.todoApp.filters.activeFilter}),p=(0,H.v9)(function(t){return t.todoApp.filters.activeFilterKey}),O=(0,H.v9)(function(t){return t.todoApp.filters.usedKeys}),P=(0,H.v9)(function(t){t=t.chatApp;return null==t?void 0:t.company}),T=(0,H.v9)(function(t){return t.todoApp.todos.taskContentDialog}),E=(0,H.v9)(function(t){return t.todoApp.todos.todoDialog}),y=(0,H.v9)(function(t){return t.todoApp.todos.openDrawingContent}),A=(0,H.v9)(function(t){return t.contactsApp.contacts.approvedCompanies}),i=(0,V.useState)(null),i=(m=W()(i,2))[0],D=m[1],m=V.useState([]),g=(m=W()(m,2))[0],v=m[1],m=(0,V.useState)({loadingProjects:!0,loadingProjectRequest:!0}),S=((m=W()(m,2))[0],m[1]),C=(0,H.v9)(function(t){return null===(t=t.contactsApp.contacts)||void 0===t?void 0:t.entities}),h=(0,H.v9)(function(t){var n,t=t.notesApp;return null==t||null===(n=t.project)||void 0===n?void 0:n.entities}),N=(0,H.v9)(function(t){var n,t=t.todoAppNote;return null==t||null===(n=t.todos)||void 0===n?void 0:n.entities}),L=(0,H.v9)(function(t){return t.accessibilityPanel.isDownloadApp}),I=((0,H.v9)(function(t){return t.accessibilityPanel.openMenu}),localStorage.getItem("downloadApp"));(0,q.KW)(function(){var t;r($.getContacts()),r(z.mW(n)),0<h.length&&(void(t=0)!==h&&0<h.length&&(t=h[0].id),r(Q.LC(t,!0)))},[r,h]),(0,V.useEffect)(function(){v([]),N&&R()},[N]);var R=function(){N&&0<Object.keys(N).length&&(0,nt.k)((0,et.ri)(N[0].id),{},function(t){v(t.results)},function(t){console.log(t)},nt.Y.GET,(0,K.XW)())};(0,V.useEffect)(function(){C&&1<C.length&&(r(tt.Mw("project")),r(tt.Lx("team")))},[C]),(0,V.useEffect)(function(){h&&0<h.length&&(r(tt.Mw("task")),r(tt.ov("project")))},[h]),(0,V.useEffect)(function(){N&&0<Object.keys(N).length&&(r(tt.Mw("post")),r(tt.F4("task")))},[N]),(0,V.useEffect)(function(){g&&0<g.length&&(r(tt.Mw("downloadApp")),r(tt.kQ("post")))},[g]),(0,V.useEffect)(function(){"true"!==I&&!L||(r(tt.Mw("discover")),r(tt.hc("downloadApp")))},[I,L]);var b=["projectFilter","companyFilter","peopleFilter"];(0,V.useEffect)(function(){u&&P&&new Promise(function(t,n){var e,r;t(B.Z.orderBy((e=u,r=c,t=Object.keys(e).map(function(t){return e[t]}),0===r.length?t:U.Z.filterArrayByString(t,r)),[a],[f?"desc":"asc"]))}).then(function(t){console.log("data??????????????????????????",t),s(j(d,t,p)),w()})},[c,a,f,P]),(0,V.useEffect)(function(){w()},[p,P,O,u]);var w=function(){P&&u&&function(){var n,t,e=B.Z.orderBy((n=u,i=c,t=Object.keys(n).map(function(t){return n[t]}),0===i.length?t:U.Z.filterArrayByString(t,i)),[a],[f?"desc":"asc"]);if(O&&O.length){for(var r in O)O.hasOwnProperty(r)&&function(){var t,n=O[r];b.includes(n)?(t=l[n].map(function(t){if(t.isActive)return"peopleFilter"==n?t.id:t.name}),e=j(n,e,t)):l[n].map(function(t){t.isActive&&(e=j(n,e,"peopleFilter"==n?t.id:t.name))})}();s(e);var i=document.getElementById("list-content");i&&(i.scrollTop=0)}else s(e)}()},j=function(t,n,r){var e;function i(n,t){var e=Object.keys(n).map(function(t){return n[t]});return 0===t.length?e:U.Z.filterArrayByString(e,t)}switch(t){case"genrealFilter":var o=(0,K.Fc)();return"MINE"===r&&null!=o&&(null!==(e=o.extra)&&void 0!==e&&e.profile)?n.reduce(function(t,n){var e=[];return(e=n.assigned_company&&n.assigned_company.id==P.id?Y(n.activities,o.extra.profile.id):e).length&&t.push(it(it({},n),{},{activities:e})),t},[]):"ALL"===r?B.Z.orderBy(i(u,c),[a],[f?"desc":"asc"]):n.reduce(function(t,n){var e=[];return n.assigned_company&&n.assigned_company.id==P.id&&(e=J(n.activities)),(n.alert||e.length)&&t.push(it(it({},n),{},{activities:e})),t},[]);case"peopleFilter":return n.reduce(function(t,n){var e=[];return(e=n.assigned_company&&n.assigned_company.id==P.id?Y(n.activities,r):e).length&&t.push(it(it({},n),{},{activities:e})),t},[]);case"projectFilter":return n.reduce(function(t,n){return r.includes(n.project.name)&&t.push(n),t},[]);case"companyFilter":return n.reduce(function(t,n){var e;return r.includes(null===(e=n.assigned_company)||void 0===e?void 0:e.name)&&t.push(n),t},[]);case"timeFilter":return"TODAY"===r?n.reduce(function(t,n){var e=new Date(n.date_start),r=new Date(n.date_end),i=new Date,o=[];return n.assigned_company&&n.assigned_company.id==P.id&&(o=_(n.activities)),(i.getTime()<=r.getTime()&&i.getTime()>=e.getTime()||o.length)&&t.push(it(it({},n),{},{activities:o})),t},[]):"NEXT_WEEK"===r?n.reduce(function(t,n){var e=new Date(n.date_start),r=new Date(n.date_end),i=new Date,o=new Date,u=o.getDate()+7;o.setDate(u);u=[];return n.assigned_company&&n.assigned_company.id==P.id&&(u=k(n.activities)),(e.getTime()<=o.getTime()&&r.getTime()>=i.getTime()||u.length)&&t.push(it(it({},n),{},{activities:u})),t},[]):"IN_LATE"===r?n.reduce(function(t,n){var e=new Date(n.date_end),r=new Date,i=[];return n.assigned_company&&n.assigned_company.id==P.id&&(i=M(n.activities)),(r.getTime()>=e.getTime()&&n.progress<100||i.length)&&t.push(it(it({},n),{},{activities:i})),t},[]):n.reduce(function(t,n){var e=[];return n.assigned_company&&n.assigned_company.id==P.id&&(e=G(n.activities)),100!=n.progress&&!e.length||t.push(it(it({},n),{},{activities:e})),t},[]);default:return B.Z.orderBy(i(u,c),[a],[f?"desc":"asc"])}},Y=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length?arguments[1]:void 0;return t.reduce(function(t,n){return(Array.isArray(e)?n.workers.filter(function(t){return e.includes(t.id)}):n.workers.filter(function(t){return t.id==e})).length&&t.push(n),t},[])},G=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,n){return"to-do"!=n.status&&t.push(n),t},[])},J=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,n){return n.alert&&t.push(n),t},[])},_=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,n){var e=new Date(n.datetime_start),r=new Date(n.datetime_end),i=new Date;return r.getTime()>=i.getTime()&&e.getTime()<=i.getTime()&&t.push(n),t},[])},M=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,n){var e=new Date(n.datetime_end);return(new Date).getTime()>=e.getTime()&&"to-do"==n.status&&t.push(n),t},[])},k=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,n){var e=new Date(n.datetime_start),r=new Date(n.datetime_end),i=new Date,o=new Date,u=o.getDate()+7;return o.setDate(u),e.getTime()<=o.getTime()&&r.getTime()>=i.getTime()&&t.push(n),t},[])};return o?0===o.length?V.createElement(x.Z,{delay:100},V.createElement("div",null,V.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},V.createElement("img",{className:"w-400",src:"assets/images/errors/nogantt.png"})),V.createElement("div",{className:"flex flex-1 items-center justify-center"},V.createElement(X.Z,{color:"textSecondary",variant:"h5"},"Sembra che non ci sia task")),V.createElement("div",{className:"flex flex-1 mt-20 items-center justify-center"},V.createElement(X.Z,{color:"textSecondary",variant:"h6"},"Controlla i filtri attivi oppure crea un progetto dalla pagina lista progetti.")))):V.createElement(Z.Z,{enter:{animation:"transition.slideUpBigIn"}},V.createElement("div",{className:"flex"},V.createElement("div",{className:"lg:w-1/3 sidebar-ht border-right dashboard"},V.createElement("div",{className:"lg:mr-28 custom-margin"},o.map(function(t,n){return V.createElement(ot,F()({setTodoId:D},e,{todo:t,key:t.id,index:n,companies:A}))}))),V.createElement("div",{className:"lg:w-2/3 content-ht dashboard left-30 custom-modal-open flex-fill"},T.props.open&&i==T.data.id?V.createElement(ut,null):!y&&!E.props.openTimelineDialog&&V.createElement("div",{className:"flex flex-col items-center justify-center"},V.createElement("div",{className:"h-full"},V.createElement("img",{className:"w-400",src:"assets/images/errors/nofiles.png"})),V.createElement("div",{className:"h-full"},V.createElement(X.Z,{color:"textSecondary",variant:"h5"},t("NO_POSTS_MESSAGE")))),y&&!E.props.openTimelineDialog&&V.createElement(ct,null),E.props.openTimelineDialog&&i==E.data.task.id&&V.createElement(at,null)))):null}}}]);