(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[58659],{58659:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(56156),o=n.n(r),a=n(42401),i=n(47433),c=n(40962),d=n(97692),u=n(28344),s=n(78279),p=n.n(s),l=n(78709),b=n(39263),t=n(66854),r=n.n(t),f=(n(79146),n(31663),n(91169)),m=n(58913),h=n(59429),s=n(28348);function y(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E={entities:[],eventDialog:{type:"new",props:{open:!1},data:null}},t=(0,s.UY)({events:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:E,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case h.fM:var n=t.payload.map(function(e){return v(v({},e),{},{start:new Date(e.start),end:new Date(e.end)})});return v(v({},e),{},{entities:n});case h.qf:return v(v({},e),{},{eventDialog:{type:"new",props:{open:!0},data:v({},t.data)}});case h.o1:return v(v({},e),{},{eventDialog:{type:"new",props:{open:!1},data:null}});case h.BJ:return v(v({},e),{},{eventDialog:{type:"edit",props:{open:!0},data:v(v({},t.data),{},{start:new Date(t.data.start),end:new Date(t.data.end)})}});case h.$$:return v(v({},e),{},{eventDialog:{type:"edit",props:{open:!1},data:null}});default:return e}}}),g=n(96282),s=n(32986);function w(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var x=(0,s.ZP)(function(){return Promise.all([n.e(33395),n.e(64297),n.e(67950)]).then(n.bind(n,1045))}),P=(0,s.ZP)(function(){return Promise.all([n.e(63604),n.e(60894),n.e(30250),n.e(71871),n.e(55527),n.e(98359),n.e(9115),n.e(63904),n.e(20726)]).then(n.bind(n,20726))}),D=(0,b.Zt)(p()),A=r()(b.f),j=Object.keys(b.kO).map(function(e){return b.kO[e]}),N=(0,c.Z)(function(e){return{root:{"& .rbc-header":{padding:"12px 6px",fontWeight:600,fontSize:14},"& .rbc-label":{padding:"8px 6px"},"& .rbc-today":{backgroundColor:"transparent"},"& .rbc-header.rbc-today, & .rbc-month-view .rbc-day-bg.rbc-today":{borderBottom:"2px solid ".concat(e.palette.secondary.main,"!important")},"& .rbc-month-view, & .rbc-time-view, & .rbc-agenda-view":O(o()({padding:24},e.breakpoints.down("sm"),{padding:16}),e.mixins.border(0)),"& .rbc-agenda-view table":O(O({},e.mixins.border(1)),{},{"& thead > tr > th":O({},e.mixins.borderBottom(0)),"& tbody > tr > td":{padding:"12px 6px","& + td":O({},e.mixins.borderLeft(1))}}),"& .rbc-time-view":{"& .rbc-time-header":O({},e.mixins.border(1)),"& .rbc-time-content":O({flex:"0 1 auto"},e.mixins.border(1))},"& .rbc-month-view":{"& > .rbc-row":O({},e.mixins.border(1)),"& .rbc-month-row":O(O({},e.mixins.border(1)),{},{borderWidth:"0 1px 1px 1px!important",minHeight:128}),"& .rbc-header + .rbc-header":O({},e.mixins.borderLeft(1)),"& .rbc-header":O({},e.mixins.borderBottom(0)),"& .rbc-day-bg + .rbc-day-bg":O({},e.mixins.borderLeft(1))},"& .rbc-day-slot .rbc-time-slot":O(O({},e.mixins.borderTop(1)),{},{opacity:.5}),"& .rbc-time-header > .rbc-row > * + *":O({},e.mixins.borderLeft(1)),"& .rbc-time-content > * + * > *":O({},e.mixins.borderLeft(1)),"& .rbc-day-bg + .rbc-day-bg":O({},e.mixins.borderLeft(1)),"& .rbc-time-header > .rbc-row:first-child":O({},e.mixins.borderBottom(1)),"& .rbc-timeslot-group":O({minHeight:64},e.mixins.borderBottom(1)),"& .rbc-date-cell":{padding:8,fontSize:16,fontWeight:400,opacity:.5,"& > a":{color:"inherit"}},"& .rbc-event":{borderRadius:4,padding:"4px 8px",backgroundColor:e.palette.primary.dark,color:e.palette.primary.contrastText,boxShadow:e.shadows[0],transitionProperty:"box-shadow",transitionDuration:e.transitions.duration.short,transitionTimingFunction:e.transitions.easing.easeInOut,position:"relative","&:hover":{boxShadow:e.shadows[2]}},"& .rbc-row-segment":{padding:"0 4px 4px 4px"},"& .rbc-off-range-bg":{backgroundColor:"light"===e.palette.type?"rgba(0,0,0,0.03)":"rgba(0,0,0,0.16)"},"& .rbc-show-more":{color:e.palette.secondary.main,background:"transparent"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event":{position:"static"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:first-child":{left:0,top:0,bottom:0,height:"auto"},"& .rbc-addons-dnd .rbc-addons-dnd-resizable-month-event .rbc-addons-dnd-resize-month-event-anchor:last-child":{right:0,top:0,bottom:0,height:"auto"}},addButton:{position:"absolute",right:12,top:172,zIndex:99}}});var L=(0,d.Z)("calendarApp",t)(function(e){var r=(0,m.I0)(),t=(0,m.v9)(function(e){return e.calendarApp.events.entities}),e=N(e),n=(0,l.useRef)(null);return(0,l.useEffect)(function(){r(h.vw())},[r]),l.createElement("div",{className:(0,u.Z)(e.root,"flex flex-col flex-auto relative")},l.createElement("div",{ref:n}),l.createElement(A,{className:"flex flex-1 container",selectable:!0,localizer:D,events:t,onEventDrop:function(e){var t=e.event,n=e.start,e=e.end;r(h.eJ(O(O({},t),{},{start:n,end:e})))},resizable:!0,onEventResize:function(e){var t=e.event,n=e.start,e=e.end;delete t.type,r(h.eJ(O(O({},t),{},{start:n,end:e})))},defaultView:b.kO.MONTH,defaultDate:new Date(2018,3,1),startAccessor:"start",endAccessor:"end",views:j,step:60,showMultiDayTimes:!0,components:{toolbar:function(e){return n.current?f.createPortal(l.createElement(x,e),n.current):null}},onSelectEvent:function(e){r(h.j$(e))},onSelectSlot:function(e){return r(h.t_({start:e.start.toLocaleString(),end:e.end.toLocaleString()}))}}),l.createElement(a.Z,{animation:"transition.expandIn",delay:500},l.createElement(i.Z,{color:"secondary","aria-label":"add",className:e.addButton,onClick:function(){return r(h.t_({start:new Date,end:new Date}))}},l.createElement(g.Z,null,"add"))),l.createElement(P,null))});Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=void 0;do{if(t.matches(e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null})},59429:function(e,t,n){"use strict";n.d(t,{$$:function(){return d},o1:function(){return i},fM:function(){return o},BJ:function(){return c},qf:function(){return a},vP:function(){return y},jr:function(){return h},Vm:function(){return f},vw:function(){return l},j$:function(){return m},t_:function(){return b},xC:function(){return E},eJ:function(){return v}});var t=n(31806),r=n.n(t),o="[CALENDAR APP] GET EVENTS",a="[CALENDAR APP] OPEN NEW EVENT DIALOG",i="[CALENDAR APP] CLOSE NEW EVENT DIALOG",c="[CALENDAR APP] OPEN EDIT EVENT DIALOG",d="[CALENDAR APP] CLOSE EDIT EVENT DIALOG",u="[CALENDAR APP] ADD EVENT",s="[CALENDAR APP] UPDATE EVENT",p="[CALENDAR APP] REMOVE EVENT";function l(){var e=r().get("/api/calendar-app/events");return function(t){return e.then(function(e){return t({type:o,payload:e.data})})}}function b(e){return{type:a,data:e}}function f(){return{type:i}}function m(e){return{type:c,data:e}}function h(){return{type:d}}function y(n){return function(t,e){return r().post("/api/calendar-app/add-event",{newEvent:n}).then(function(e){return Promise.all([t({type:u})]).then(function(){return t(l())})})}}function v(n){return function(t,e){return r().post("/api/calendar-app/update-event",{event:n}).then(function(e){return Promise.all([t({type:s})]).then(function(){return t(l())})})}}function E(n){return function(t,e){return r().post("/api/calendar-app/remove-event",{eventId:n}).then(function(e){return Promise.all([t({type:p})]).then(function(){return t(l())})})}}},97692:function(e,t,n){"use strict";var r=n(43715),o=n(78709);t.Z=function(e,n){return function(t){return(0,r.f)(e,n),function(e){return o.createElement(t,e)}}}}}]);