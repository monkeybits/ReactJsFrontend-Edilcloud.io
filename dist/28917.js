(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[28917],{45201:function(e,t,n){"use strict";var r=n(97439),l=n(84818),i=n(78709),a=n(16526),s=n(30367),a=n(6274),c=n(32754),m={variant:"body"},u="tbody",n=i.forwardRef(function(e,t){var n=e.classes,a=e.className,o=e.component,o=void 0===o?u:o,e=(0,l.Z)(e,["classes","className","component"]);return i.createElement(c.Z.Provider,{value:m},i.createElement(o,(0,r.Z)({className:(0,s.Z)(n.root,a),ref:t,role:o===u?null:"rowgroup"},e)))});t.Z=(0,a.Z)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(n)},55572:function(e,t,n){"use strict";var h=n(84818),E=n(97439),b=n(78709),a=n(16526),C=n(30367),a=n(6274),v=n(54059),o=n(70621),Z=n(68847),y=n(32754),n=b.forwardRef(function(e,t){var n,a,o=e.align,r=void 0===o?"inherit":o,l=e.classes,i=e.className,s=e.component,c=e.padding,m=e.scope,u=e.size,p=e.sortDirection,d=e.variant,f=(0,h.Z)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),g=b.useContext(Z.Z),o=b.useContext(y.Z),e=o&&"head"===o.variant;s?(a=s,n=e?"columnheader":"cell"):a=e?"th":"td";s=m;!m&&e&&(s="col");c=c||(g&&g.padding?g.padding:"default"),u=u||(g&&g.size?g.size:"medium"),o=d||o&&o.variant,p=p?"asc"===p?"ascending":"descending":null;return b.createElement(a,(0,E.Z)({ref:t,className:(0,C.Z)(l.root,l[o],i,"inherit"!==r&&l["align".concat((0,v.Z)(r))],"default"!==c&&l["padding".concat((0,v.Z)(c))],"medium"!==u&&l["size".concat((0,v.Z)(u))],"head"===o&&g&&g.stickyHeader&&l.stickyHeader),"aria-sort":p,role:n,scope:s},f))});t.Z=(0,a.Z)(function(e){return{root:(0,E.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,o.$n)((0,o.U1)(e.palette.divider,1),.88):(0,o._j)((0,o.U1)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}},{name:"MuiTableCell"})(n)},19684:function(e,t,n){"use strict";var r=n(97439),l=n(84818),i=n(78709),a=n(16526),s=n(30367),a=n(6274),c=n(32754),m={variant:"head"},n=i.forwardRef(function(e,t){var n=e.classes,a=e.className,o=e.component,o=void 0===o?"thead":o,e=(0,l.Z)(e,["classes","className","component"]);return i.createElement(c.Z.Provider,{value:m},i.createElement(o,(0,r.Z)({className:(0,s.Z)(n.root,a),ref:t,role:"thead"===o?null:"rowgroup"},e)))});t.Z=(0,a.Z)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(n)},24918:function(e,t,n){"use strict";var s=n(97439),c=n(84818),m=n(78709),a=n(16526),u=n(30367),a=n(6274),p=n(32754),o=n(70621),n=m.forwardRef(function(e,t){var n=e.classes,a=e.className,o=e.component,r=void 0===o?"tr":o,l=e.hover,i=void 0!==l&&l,o=e.selected,l=void 0!==o&&o,o=(0,c.Z)(e,["classes","className","component","hover","selected"]),e=m.useContext(p.Z);return m.createElement(r,(0,s.Z)({ref:t,className:(0,u.Z)(n.root,a,e&&{head:n.head,footer:n.footer}[e.variant],i&&n.hover,l&&n.selected),role:"tr"===r?null:"row"},o))});t.Z=(0,a.Z)(function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,o.U1)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}},{name:"MuiTableRow"})(n)},52108:function(e,t,n){"use strict";var c=n(84818),m=n(97439),u=n(78709),a=n(16526),p=n(30367),a=n(6274),d=n(68847),n=u.forwardRef(function(e,t){var n=e.classes,a=e.className,o=e.component,r=void 0===o?"table":o,o=e.padding,l=void 0===o?"default":o,o=e.size,i=void 0===o?"medium":o,o=e.stickyHeader,s=void 0!==o&&o,o=(0,c.Z)(e,["classes","className","component","padding","size","stickyHeader"]),e=u.useMemo(function(){return{padding:l,size:i,stickyHeader:s}},[l,i,s]);return u.createElement(d.Z.Provider,{value:e},u.createElement(r,(0,m.Z)({role:"table"===r?null:"table",ref:t,className:(0,p.Z)(n.root,a,s&&n.stickyHeader)},o)))});t.Z=(0,a.Z)(function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,m.Z)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}},{name:"MuiTable"})(n)},68847:function(e,t,n){"use strict";n=n(78709);t.Z=n.createContext()},32754:function(e,t,n){"use strict";n=n(78709);t.Z=n.createContext()},28917:function(e,t,n){"use strict";n.r(t);var a=n(22482),o=n(23377),r=n(96282),l=n(86926),i=n(52108),s=n(45201),c=n(55572),m=n(19684),u=n(24918),p=n(92466),d=n(78709);t.default=function(){return d.createElement(o.Z,{header:d.createElement("div",{className:"flex flex-1 items-center justify-between p-24"},d.createElement("div",{className:"flex flex-col"},d.createElement("div",{className:"flex items-center mb-16"},d.createElement(r.Z,{className:"text-18",color:"action"},"home"),d.createElement(r.Z,{className:"text-16",color:"action"},"chevron_right"),d.createElement(p.Z,{color:"textSecondary"},"Documentation"),d.createElement(r.Z,{className:"text-16",color:"action"},"chevron_right"),d.createElement(p.Z,{color:"textSecondary"},"Fuse Components")),d.createElement(p.Z,{variant:"h6"},"FuseAuthorization"))),content:d.createElement("div",{className:"p-24 max-w-2xl"},d.createElement(p.Z,{className:"mb-16",component:"p"},d.createElement("code",null,"FuseAuthorization")," is the authorization component of the Fuse React. It restricts the unauthorized user access with looking ",d.createElement("b",null,"route configs")," and ",d.createElement("b",null,"user.role"),"."),d.createElement(p.Z,{className:"mt-32 mb-8",variant:"h5"},"Setup"),d.createElement(p.Z,{className:"mb-16",component:"p"},"The component should wraps the FuseTheme component."),d.createElement(p.Z,{className:"inline-block mb-8 italic",component:"code"},"src/app/App.js"),d.createElement(a.default,{component:"pre",className:"language-jsx"},n(39025)),d.createElement(p.Z,{className:"mt-32 mb-8",variant:"h5"},"Configuration"),d.createElement(p.Z,{className:"mt-32 mb-8",variant:"h6"},"Route Configuration:"),d.createElement(p.Z,{className:"mb-16",component:"p"},"You need to define authorization (auth) in the ",d.createElement("b",null,"route config files")," for to control the access via permission roles."),d.createElement(p.Z,{className:"mt-32 mb-8",variant:"subtitle2"},"Example Usage:"),d.createElement(p.Z,{className:"inline-block mb-8 italic",component:"code"},"src/app/main/auth/admin-role-example/AdminRoleExampleConfig.js"),d.createElement(a.default,{component:"pre",className:"language-jsx"},n(44657)),d.createElement(p.Z,{className:"my-16",component:"p"},"You can also give different auth values for individual routes with writing auth value inside the route object."),d.createElement(l.Z,{className:"max-w-md my-16"},d.createElement(i.Z,null,d.createElement(m.Z,null,d.createElement(u.Z,null,d.createElement(c.Z,{className:"font-bold text-14"},"Authorization Role (auth) options"),d.createElement(c.Z,null))),d.createElement(s.Z,null,d.createElement(u.Z,null,d.createElement(c.Z,null,d.createElement("code",null,"null")),d.createElement(c.Z,null,"Do not check, allow everyone")),d.createElement(u.Z,null,d.createElement(c.Z,null,d.createElement("code",null,"[]")),d.createElement(c.Z,null,"Only guest allowed")),d.createElement(u.Z,null,d.createElement(c.Z,null,d.createElement("code",null,"[admin,user]")),d.createElement(c.Z,null,"Only 'admin' and 'user' roles are allowed"))))),d.createElement(p.Z,{className:"mt-48 mb-8",variant:"h6"},"User.role Configuration:"),d.createElement(p.Z,{className:"mb-16",component:"p"},"User ",d.createElement("b",null,"role")," and ",d.createElement("b",null,"data")," are stored at ",d.createElement("b",null,"auth.user")," in the redux store."),d.createElement(p.Z,{className:"mb-16",component:"p"},"After successful login user.role will be updated and the FuseAuthorization automatically redirects the authorized user."),d.createElement(p.Z,{className:"inline-block mb-8 italic",component:"code"},"src/app/auth/store/reducers/user.reducer.js (initial user state)"),d.createElement(a.default,{component:"pre",className:"language-js"},"  \n                              const initialState = {\n                                role: [],//guest\n                                data: {\n                                    'displayName': 'John Doe',\n                                    'photoURL'   : 'assets/images/avatars/Velazquez.jpg',\n                                    'email'      : 'johndoe@withinpixels.com',\n                                    shortcuts    : [\n                                        'calendar',\n                                        'mail',\n                                        'contacts',\n                                        'todo'\n                                    ]\n                                }\n                            };\n                         "),d.createElement(l.Z,{className:"max-w-md my-16"},d.createElement(i.Z,null,d.createElement(m.Z,null,d.createElement(u.Z,null,d.createElement(c.Z,{className:"font-bold text-14"},"User Role options"),d.createElement(c.Z,null))),d.createElement(s.Z,null,d.createElement(u.Z,null,d.createElement(c.Z,null,d.createElement("code",null,"null")," or ",d.createElement("code",null,"undefined")," or ",d.createElement("code",null,"[]")),d.createElement(c.Z,null,"Guest")),d.createElement(u.Z,null,d.createElement(c.Z,null,d.createElement("code",null,"['admin','user']")," (array)"),d.createElement(c.Z,null,"User has roles 'admin' and 'user'")),d.createElement(u.Z,null,d.createElement(c.Z,null,d.createElement("code",null,'"admin"')," (string)"),d.createElement(c.Z,null,"User has 'admin' role"))))),d.createElement(p.Z,{className:"mt-48 mb-8",variant:"h6"},"Navigation Item Configuration:"),d.createElement(p.Z,{className:"mb-16",component:"p"},"You can control the navigation ",d.createElement("b",null,"item/group/collapse")," visibility by adding ",d.createElement("b",null,"auth"),"property in ",d.createElement("code",null,"src/app/fuse-configs/NavigationConfig.js"),"."),d.createElement(p.Z,{className:"mt-32 mb-8",variant:"subtitle2"},"Example Usage:"),d.createElement(a.default,{component:"pre",className:"language-js"},"\n                                  {\n                                    'id'   : 'only-admin-navigation-item',\n                                    'title': 'Nav item only for Admin',\n                                    'type' : 'item',\n                                    'auth' : authRoles.admin,//['admin']\n                                    'url'  : '/auth/admin-role-example',\n                                    'icon' : 'verified_user'\n                                  },\n                            "),d.createElement(p.Z,{className:"mt-48 mb-4",variant:"h5"},"Making the whole app auth protected:"),d.createElement(p.Z,{className:"mb-12",variant:"subtitle2"},"On routesConfig.js file"),d.createElement(p.Z,{className:"mb-16",component:"p"},"If you don't want to set auth on every page config;",d.createElement("br",null),"You can give default auth role value in the ",d.createElement("code",null,"src/app/fuse-configs/routesConfig.js"),"file,",d.createElement("br",null),"Set defaultAuth paramater",d.createElement("code",null,"FuseUtils.generateRoutesFromConfigs(routeConfigs, ['admin','staff','user'])"),",",d.createElement("br",null),"The individual route configs which has auth option won't be overridden,",d.createElement("br",null),"With this configuration below, makes ",d.createElement("b",null,"whole app")," auth protected by default:"),d.createElement(a.default,{component:"pre",className:"language-js"},"\n                                import React from 'react';\n                                import {Redirect} from 'react-router-dom';\n                                import FuseUtils from '@fuse/utils';\n                                import {appsConfigs} from 'app/main/apps/appsConfigs';\n                                import {pagesConfigs} from 'app/main/pages/pagesConfigs';\n                                import {authRoleExamplesConfigs} from 'app/main/auth/authRoleExamplesConfigs';\n                                import {UserInterfaceConfig} from 'app/main/user-interface/UserInterfaceConfig';\n                                import {DocumentationConfig} from 'app/main/documentation/DocumentationConfig';\n                                import {LoginConfig} from 'app/main/login/LoginConfig';\n                                import {RegisterConfig} from 'app/main/register/RegisterConfig';\n                                import {LogoutConfig} from 'app/main/logout/LogoutConfig';\n                                import {CallbackConfig} from 'app/main/callback/CallbackConfig';\n                                \n                                const routeConfigs = [\n                                    ...appsConfigs,\n                                    ...pagesConfigs,\n                                    ...authRoleExamplesConfigs,\n                                    UserInterfaceConfig,\n                                    DocumentationConfig,\n                                    LogoutConfig,\n                                    LoginConfig,\n                                    RegisterConfig,\n                                    LogoutConfig,\n                                    CallbackConfig,\n                                ];\n                                \n                                const routes = [\n                                    ...FuseUtils.generateRoutesFromConfigs(routeConfigs, ['admin','staff','user']),\n                                    {\n                                        path     : '/',\n                                        exact    : true,\n                                        component: () => <Redirect to=\"/apps/dashboards/analytics\"/>\n                                    },\n                                    {\n                                        component: () => <Redirect to=\"/pages/errors/error-404\"/>\n                                    }\n                                ];\n                                \n                                export default routes;\n\n                            "),d.createElement(p.Z,{className:"mt-48 mb-4",variant:"h5"},"Allow everyone(guest,user) for accessing root (/) page as a landing page"),d.createElement(p.Z,{className:"mb-16",component:"p"},"After configuring to make whole app protected as above, we need to set ",d.createElement("code",null,"auth:null")," at the route: ",d.createElement("code",null,"/")," for to make it accesible for everyone.",d.createElement("br",null),"If you redirect main route (/), also make sure to set the redirected route config",d.createElement("code",null,"auth:null"),"."),d.createElement(a.default,{component:"pre",className:"language-js"},"\n                                import React from 'react';\n                                import {Redirect} from 'react-router-dom';\n                                import FuseUtils from '@fuse/utils';\n                                import {appsConfigs} from 'app/main/apps/appsConfigs';\n                                import {pagesConfigs} from 'app/main/pages/pagesConfigs';\n                                import {authRoleExamplesConfigs} from 'app/main/auth/authRoleExamplesConfigs';\n                                import {UserInterfaceConfig} from 'app/main/user-interface/UserInterfaceConfig';\n                                import {DocumentationConfig} from 'app/main/documentation/DocumentationConfig';\n                                import {LoginConfig} from 'app/main/login/LoginConfig';\n                                import {RegisterConfig} from 'app/main/register/RegisterConfig';\n                                import {LogoutConfig} from 'app/main/logout/LogoutConfig';\n                                import {CallbackConfig} from 'app/main/callback/CallbackConfig';\n                                \n                                const routeConfigs = [\n                                    ...appsConfigs,\n                                    ...pagesConfigs,\n                                    ...authRoleExamplesConfigs,\n                                    UserInterfaceConfig,\n                                    DocumentationConfig,\n                                    LogoutConfig,\n                                    LoginConfig,\n                                    RegisterConfig,\n                                    LogoutConfig,\n                                    CallbackConfig\n                                ];\n                                \n                                const routes = [\n                                    //if you want to make whole app auth protected by default change defaultAuth for example:\n                                    // ...FuseUtils.generateRoutesFromConfigs(routeConfigs, ['admin','staff','user']),\n                                    // The individual route configs which has auth option won't be overridden.\n                                    ...FuseUtils.generateRoutesFromConfigs(routeConfigs, ['admin', 'staff', 'user']),\n                                    {\n                                        path     : '/',\n                                        exact    : true,\n                                        auth     : null,\n                                        component: LandingPage\n                                    },\n                                    {\n                                        component: () => <Redirect to=\"/pages/errors/error-404\"/>\n                                    }\n                                ];\n                                \n                                export default routes;\n\n\n                            "),d.createElement(p.Z,{className:"mt-48 mb-4",variant:"h5"},"Redirect the logged-in user to a specific route depending on his role"),d.createElement(p.Z,{className:"mb-16",component:"p"},"Before dispatching ",d.createElement("b",null,"SET_USER_DATA")," action you can set redirectUrl on"),d.createElement(p.Z,{className:"inline-block mb-8 italic",component:"code"},"src/app/auth/store/actions/user.actions.js"),d.createElement(a.default,{component:"pre",className:"language-js"},"\n                            /**\n                             * Set User Data\n                             */\n                            export function setUserData(user)\n                            {\n                                return (dispatch) => {\n                            \n                                    /*\n                                    You can redirect the logged-in user to a specific route depending on his role\n                                     */\n                            \n                                    history.location.state = {\n                                        redirectUrl: user.redirectUrl // for example 'apps/academy'\n                                    }\n                            \n                                    /*\n                                    Set User Settings\n                                     */\n                                    dispatch(setDefaultSettings(user.data.settings));\n                            \n                                    /*\n                                    Set User Data\n                                     */\n                                    dispatch({\n                                        type   : SET_USER_DATA,\n                                        payload: user\n                                    })\n                                }\n                            }\n                        "))})}},39025:function(e,t,n){"use strict";n.r(t),t.default="import React from 'react';\nimport loadable from '@loadable/component';\nimport MomentUtils from '@date-io/moment';\nimport '@fake-db';\nimport history from '@history';\nimport { createGenerateClassName, jssPreset, StylesProvider } from '@material-ui/core/styles';\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { create } from 'jss';\nimport jssExtend from 'jss-plugin-extend';\nimport rtl from 'jss-rtl';\nimport Provider from 'react-redux/es/components/Provider';\nimport { Router } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport AppContext from './AppContext';\nimport { Auth } from './auth';\nimport routes from './fuse-configs/routesConfig';\nimport store from './store';\nimport InternetStatus from './InternetStatus';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport '@fortawesome/fontawesome-svg-core/styles.css';\nimport WebSocketProvider from 'app/WebSocket';\nimport ProjectReportsProvider from 'app/ProjectReportsWebSocket';\nconst FuseAuthorization = loadable(() => import('@fuse/core/FuseAuthorization'));\nconst FuseLayout = loadable(() => import('@fuse/core/FuseLayout'));\nconst FuseTheme = loadable(() => import('@fuse/core/FuseTheme'));\n\nconst jss = create({\n\t...jssPreset(),\n\tplugins: [...jssPreset().plugins, jssExtend(), rtl()],\n\tinsertionPoint: document.getElementById('jss-insertion-point')\n});\n\nconst generateClassName = createGenerateClassName();\nconst App = () => {\n\treturn (\n\t\t<AppContext.Provider\n\t\t\tvalue={{\n\t\t\t\troutes\n\t\t\t}}\n\t\t>\n\t\t\t<StylesProvider jss={jss} generateClassName={generateClassName}>\n\t\t\t\t<Provider store={store}>\n\t\t\t\t\t<MuiPickersUtilsProvider utils={MomentUtils}>\n\t\t\t\t\t\t<Router history={history}>\n\t\t\t\t\t\t\t<Auth>\n\t\t\t\t\t\t\t\t<FuseAuthorization>\n\t\t\t\t\t\t\t\t\t<FuseTheme>\n\t\t\t\t\t\t\t\t\t\t<WebSocketProvider>\n\t\t\t\t\t\t\t\t\t\t\t<ProjectReportsProvider>\n\t\t\t\t\t\t\t\t\t\t\t\t<FuseLayout />\n\t\t\t\t\t\t\t\t\t\t\t</ProjectReportsProvider>\n\t\t\t\t\t\t\t\t\t\t</WebSocketProvider>\n\t\t\t\t\t\t\t\t\t</FuseTheme>\n\t\t\t\t\t\t\t\t</FuseAuthorization>\n\t\t\t\t\t\t\t</Auth>\n\t\t\t\t\t\t</Router>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t</Provider>\n\t\t\t</StylesProvider>\n\t\t\t<ToastContainer\n\t\t\t\tposition=\"bottom-right\"\n\t\t\t\tautoClose={5000}\n\t\t\t\thideProgressBar={false}\n\t\t\t\tnewestOnTop={false}\n\t\t\t\tcloseOnClick\n\t\t\t\trtl={false}\n\t\t\t\tpauseOnFocusLoss\n\t\t\t\tdraggable\n\t\t\t\tpauseOnHover\n\t\t\t/>\n\t\t\t<InternetStatus />\n\t\t</AppContext.Provider>\n\t);\n};\n\nexport default App;\n"},44657:function(e,t,n){"use strict";n.r(t),t.default="import { authRoles } from 'app/auth';\nimport AdminRoleExample from './AdminRoleExample';\n\nconst AdminRoleExampleConfig = {\n\tsettings: {\n\t\tlayout: {\n\t\t\tconfig: {}\n\t\t}\n\t},\n\tauth: authRoles.admin, // ['admin']\n\troutes: [\n\t\t{\n\t\t\tpath: '/auth/admin-role-example',\n\t\t\tcomponent: AdminRoleExample\n\t\t}\n\t]\n};\n\nexport default AdminRoleExampleConfig;\n"}}]);