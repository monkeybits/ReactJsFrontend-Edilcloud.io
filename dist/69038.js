(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[69038],{26188:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(56156),o=n.n(r),t=n(61432),s=n.n(t),l=n(78709),c=n(48258),u=n(41713),p=n(3572),f=n(58913),m=n(53369),r=n(32986),d=n(88572),w=n(11208),b=n(3089),t=n(13199),g=n.n(t),O=n(47055);function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var E=(0,r.ZP)(function(){return Promise.all([n.e(10930),n.e(25872)]).then(n.bind(n,73430))}),h=(0,r.ZP)(function(){return Promise.all([n.e(62475),n.e(79337),n.e(81566),n.e(49799)]).then(n.bind(n,49799))});function i(t){var e=l.useState(null),n=s()(e,2),r=(n[0],n[1]),o=(0,l.useState)(!1),e=s()(o,2),n=e[0],a=e[1],i=(0,f.I0)(),o=(0,m.$)("chat").t,e=(0,l.useState)(!1),e=s()(e,2);e[0],e[1];return console.log("props.item",t.item),l.createElement("div",{className:t.className},l.createElement(E,{icon:l.createElement(l.Fragment,null,l.createElement(c.Z,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){r(e.currentTarget)}},l.createElement(p.Z,null))),outsideClick:!0},l.createElement(u.Z,{onClick:function(){i(t.deleteMessage(t.item.id)),r(null)}},o("DELETE")),0<t.item.files.length&&l.createElement(l.Fragment,null,l.createElement(u.Z,{onClick:function(){var e,n=t.item.files[0];n&&(t.setProgress(0),i(O.MJ(!0)),e=(".jpg"===n.extension||".png"===n.extension?(0,w.K$):".mp3"==n.extension||".mp4"==n.extension?(0,w.Pn):(0,w.sU))(n.id),(0,d.k)(e,{},function(e){var t=e.headers,e=e.data,e=btoa(new Uint8Array(e).reduce(function(e,t){return e+String.fromCharCode(t)},"")),e="data:".concat(t["content-type"].toLowerCase(),";base64,").concat(e);window&&(window.DownloadFiles&&window.DownloadFiles.postMessage(n.media_url),window.flutter_inappwebview&&window.flutter_inappwebview.callHandler("DownloadFiles",n.media_url)),g().saveAs(e),i(O.MJ(!1))},function(e){i(O.MJ(!1)),t.setProgress(0)},d.Y.GET,P(P({},(0,b.XW)()),{},{responseType:"arraybuffer",onDownloadProgress:function(e){e=Math.round(100*e.loaded/e.total);t.setProgress(e)}}),!0))}},o("DOWNLOAD")),l.createElement(u.Z,{onClick:function(){return a(!0)}},o("VIEW")))),l.createElement(h,{isOpenViewFile:n,closeViewFile:function(e){a(!1)},setProgress:t.setProgress,selectedItem:t.item.files[0]}))}}}]);