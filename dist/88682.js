(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[88682,38154],{65087:function(e,t,n){"use strict";var h=n(97439),y=n(84818),v=n(78709),r=n(16526),b=n(30367),r=n(6274),O=n(54059),k=44;function E(e){var t,n;return t=0,n=1,e=(Math.min(Math.max(t,e),n)-t)/(n-t),e=--e*e*e+1}n=v.forwardRef(function(e,t){var n=e.classes,r=e.className,a=e.color,o=void 0===a?"primary":a,i=e.disableShrink,c=void 0!==i&&i,s=e.size,u=void 0===s?40:s,l=e.style,f=e.thickness,p=void 0===f?3.6:f,m=e.value,d=void 0===m?0:m,g=e.variant,a=void 0===g?"indeterminate":g,i=(0,y.Z)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),s={},f={},m={};return"determinate"!==a&&"static"!==a||(g=2*Math.PI*((k-p)/2),s.strokeDasharray=g.toFixed(3),m["aria-valuenow"]=Math.round(d),"static"===a?(s.strokeDashoffset="".concat(((100-d)/100*g).toFixed(3),"px"),f.transform="rotate(-90deg)"):(s.strokeDashoffset="".concat(((e=(100-d)/100)*e*g).toFixed(3),"px"),f.transform="rotate(".concat((270*E(d/70)).toFixed(3),"deg)"))),v.createElement("div",(0,h.Z)({className:(0,b.Z)(n.root,r,"inherit"!==o&&n["color".concat((0,O.Z)(o))],{indeterminate:n.indeterminate,static:n.static}[a]),style:(0,h.Z)({width:u,height:u},f,l),ref:t,role:"progressbar"},m,i),v.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(k," ").concat(k)},v.createElement("circle",{className:(0,b.Z)(n.circle,c&&n.circleDisableShrink,{indeterminate:n.circleIndeterminate,static:n.circleStatic}[a]),style:s,cx:k,cy:k,r:(k-p)/2,fill:"none",strokeWidth:p})))});t.Z=(0,r.Z)(function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}},{name:"MuiCircularProgress",flip:!1})(n)},13117:function(e,t,n){"use strict";n.d(t,{n:function(){return r},C:function(){return a}});var r=function(e){return e.scrollTop};function a(e,t){var n=e.timeout,e=e.style,e=void 0===e?{}:e;return{duration:e.transitionDuration||"number"==typeof n?n:n[t.mode]||0,delay:e.transitionDelay}}},53369:function(e,t,n){"use strict";n.d(t,{$:function(){return r}});var t=n(61432),m=n.n(t),t=n(56156),d=n.n(t),g=n(78709),h=n(43579),y=n(8e4);function v(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=(0,g.useContext)(h.OO)||{},a=r.i18n,r=r.defaultNS,o=n||a||(0,h.nI)();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new h.zv),!o){(0,y.O4)("You will need pass in an i18next instance by using initReactI18next");n=function(e){return Array.isArray(e)?e[e.length-1]:e},a=[n,{},!1];return a.t=n,a.i18n={},a.ready=!1,a}var i=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){d()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},(0,h.JP)(),{},o.options.react,{},t),c=i.useSuspense,s="string"==typeof(s=e||r||o.options&&o.options.defaultNS)?[s]:s||["translation"];o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(s);var u=(o.isInitialized||o.initializedStoreOnce)&&s.every(function(e){return(0,y.F0)(e,o,i)});function l(){return{t:o.getFixedT(null,"fallback"===i.nsMode?s:s[0])}}var e=(0,g.useState)(l()),r=m()(e,2),e=r[0],f=r[1],p=(0,g.useRef)(!0);(0,g.useEffect)(function(){var e=i.bindI18n,t=i.bindI18nStore;function n(){p.current&&f(l())}return p.current=!0,u||c||(0,y.DC)(o,s,function(){p.current&&f(l())}),e&&o&&o.on(e,n),t&&o&&o.store.on(t,n),function(){p.current=!1,e&&o&&e.split(" ").forEach(function(e){return o.off(e,n)}),t&&o&&t.split(" ").forEach(function(e){return o.store.off(e,n)})}},[s.join()]);r=[e.t,o,u];if(r.t=e.t,r.i18n=o,r.ready=u)return r;if(!u&&!c)return r;throw new Promise(function(e){(0,y.DC)(o,s,function(){p.current&&f(l()),e()})})}},8e4:function(e,t,n){"use strict";n.d(t,{O4:function(){return c},DC:function(){return a},F0:function(){return o},Gf:function(){return i}});var r={};function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&r[t[0]]||("string"==typeof t[0]&&(r[t[0]]=new Date),function(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}.apply(void 0,t))}function a(t,e,n){t.loadNamespaces(e,function(){var e;t.isInitialized?n():(e=function e(){setTimeout(function(){t.off("initialized",e)},0),n()},t.on("initialized",e))})}function o(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!n.languages||!n.languages.length)return c("i18n.languages were undefined or empty",n.languages),!0;var r=n.languages[0],a=!!n.options&&n.options.fallbackLng,o=n.languages[n.languages.length-1];if("cimode"===r.toLowerCase())return!0;function i(e,t){return-1===(t=n.services.backendConnector.state["".concat(e,"|").concat(t)])||2===t}return!(t.bindI18n&&-1<t.bindI18n.indexOf("languageChanging")&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,e))&&(!!n.hasResourceBundle(r,e)||(!n.services.backendConnector.backend||!(!i(r,e)||a&&!i(o,e))))}function i(e){return e.displayName||e.name||("string"==typeof e&&0<e.length?e:"Unknown")}},35923:function(e,t,n){"use strict";n.d(t,{Nr:function(){return a},KW:function(){return d},cI:function(){return r},KS:function(){return o},rf:function(){return i}});var t=n(56156),s=n.n(t),t=n(61432),u=n.n(t),l=n(65129),f=n(78709);function p(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var r=function(e,t){var n=(0,f.useState)(e),r=(c=u()(n,2))[0],a=c[1],o=(0,f.useCallback)(function(t){t.persist(),a(function(e){return l.Z.setIn(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){s()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},e),t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value)})},[]),i=(0,f.useCallback)(function(){l.Z.isEqual(e,r)||a(e)},[r,e]),n=(0,f.useCallback)(function(t,n){a(function(e){return l.Z.setIn(e,t,n)})},[]),c=(0,f.useCallback)(function(e){e&&e.preventDefault(),t&&t()},[t]);return{form:r,handleChange:o,handleSubmit:c,resetForm:i,setForm:a,setInForm:n}};var a=function(e,t,n){return(0,f.useRef)(l.Z.debounce(e,t,n)).current};var o=function(t,n){var r=(0,f.useRef)(t);(0,f.useEffect)(function(){r.current=t},[t]),(0,f.useEffect)(function(){var e;return n&&t&&"function"==typeof t&&(e=setTimeout(r.current,n||0)),function(){e&&clearTimeout(e)}},[t,n])};var i=function(e,t){var n=(0,f.useRef)(!0);(0,f.useEffect)(n.current?function(){n.current=!1}:e,t)},t=(n(45559),n(89962)),c=n.n(t);function m(e){var t=f.useRef();return c()(e,t.current)||(t.current=e),t.current}var d=function(e,t){f.useEffect(e,m(t))}},38154:function(e,t,n){"use strict";n.r(t);var r=n(68357),Z=n.n(r),a=n(79545),D=n.n(a),r=n(56156),o=n.n(r),a=n(61432),N=n.n(a),r=n(51265),I=n.n(r),a=n(28129),T=n.n(a),_=n(78709),A=n(35923),r=n(32986),a=n(40962),F=n(94678),M=n(1737),z=n(4248),L=n(15201),R=n(97272),U=n(4510),B=n(92466),W=n(13786),G=n(86926),Y=n(1644),$=n(65087),H=n(58913),J=n(55110),K=n(11208),X=n(88572),q=n(3089),Q=n(28344),V=n(42401),ee=n(47055),te=n(53369),ne=n(10846);function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var ae=(0,r.ZP)(function(){return Promise.all([n.e(60894),n.e(21284),n.e(5956)]).then(n.bind(n,11048))}),oe=((0,r.ZP)(function(){return Promise.all([n.e(63604),n.e(60894),n.e(30250),n.e(71871),n.e(33395),n.e(19199),n.e(38606),n.e(13566),n.e(42577)]).then(n.bind(n,42577))}),(0,r.ZP)(function(){return Promise.all([n.e(63604),n.e(60894),n.e(30250),n.e(71871),n.e(48754),n.e(65646)]).then(n.bind(n,65646))})),ie=(0,a.Z)(function(e){return{root:{width:"100%",background:"#ffffff)",color:e.palette.primary.contrastText},button:{marginTop:e.spacing(1),width:"190px"},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},progBox:{position:"absolute",top:"10px",right:0,width:"50px"}}});t.default=(0,J.EN)((0,H.$j)(function(e){return{user:e.auth.user.data}})(function(e){e.user,e.history;var n=(0,te.$)("company_create").t,t=(0,J.TH)(),o=(m=(0,A.cI)({name:"",desc:"",email:"",vat_number:"",url:"",phone:""})).form,r=m.handleChange,a=(m.resetForm,m.setForm),i=(0,H.v9)(function(e){return e.chatApp.company}),c=(0,H.I0)(),e=_.useState([]),s=(m=N()(e,2))[0],u=m[1],e=_.useState([]),l=(m=N()(e,2))[0],f=m[1],e=_.useState(0),e=(m=N()(e,2))[0],p=m[1],m=_.useState(!1),d=(m=N()(m,2))[0],g=m[1],m=_.useState(!1),h=((m=N()(m,2))[0],m[1],(0,J.k6)()),y=ie(),m=_.useState(0),v=(m=N()(m,2))[0],b=m[1],O=["COMPANY_DETAILS","COMPANY_LOGO"],m=_.useState("English"),m=((m=N()(m,2))[0],m[1],_.useState(null)),k=(m=N()(m,2))[0],E=m[1],m=_.useState({name:[],slug:[],url:[],email:[],vat_number:[],phone:[]}),x=(m=N()(m,2))[0],w=m[1];function P(){b(function(e){return e+1}),1==v&&S()}function j(){b(function(e){return e-1})}function C(e){w({name:[],slug:[],url:[],email:[],vat_number:[],phone:[]}),r(e)}(0,_.useEffect)(function(){(0,X.k)(K.n5,{},function(e){var t,a=e;Array.isArray(e)&&(t=[],a.map(function(r,e){(0,X.k)((0,K.ul)(r.code),{},function(n){Array.isArray(n)&&(n.map(function(e,t){n[t]=re(re({},n[t]),{},{mainTitle:0==t?r.name:void 0,title:n[t].name})}),t=[].concat(D()(t),D()(n)),f(D()(t))),a[e]=re(re({},a[e]),{},{subCategory:n});u(a)},function(e){return console.log({listErr:e})},X.Y.GET,(0,q.XW)())}))},function(e){return console.log(e)},X.Y.GET,(0,q.XW)())},[]),(0,_.useEffect)(function(){c(ee.tJ())},[]),(0,_.useEffect)(function(){h&&(console.log({routeHistory:h}),"/apps/settings"!=h.location.pathname&&"/edit-company"!=h.location.pathname||(g(!0),console.log({company:i}),E({imagePreviewUrl:i.logo}),a({id:i.id,name:i.name,desc:i.description,email:i.email,vat_number:i.vat_number,url:i.url,phone:i.phone})))},[h,i]);var S=function(){var e=Z()(T().mark(function e(){var t,n,r,a;return T().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new FormData,e.t0=o.name,e.t1=o.name.split(" ").join("_"),e.t2=o.desc,e.t3=o.url,e.t4=o.vat_number,e.t5=o.email,e.t6=o.phone,k&&k.fileData)return e.next=11,(0,q.y6)(k.fileData);e.next=14;break;case 11:e.t7=e.sent,e.next=15;break;case 14:e.t7=void 0;case 15:for(a in e.t8=e.t7,n={name:e.t0,slug:e.t1,description:e.t2,url:e.t3,vat_number:e.t4,email:e.t5,phone:e.t6,logo:e.t8},r=localStorage.getItem("jwt_access_token"),n)n[a]&&t.append(a,n[a]);(d?ne.Z.put((0,K.pd)(i.id),t,{headers:{"Content-Type":"multipart/form-data",Authorization:"JWT ".concat(r)},onUploadProgress:function(e){e=Math.round(100*e.loaded/e.total);p(e)}}):ne.Z.post(K.Mt,t,{headers:{"Content-Type":"multipart/form-data",Authorization:"JWT ".concat(r)},onUploadProgress:function(e){e=Math.round(100*e.loaded/e.total);p(e)}})).then(function(e){p(0),d?(console.log("routeHistorynextPath",h.location.state.nextPath),h.push(h.location.state.nextPath)):h.push("/apps/companies")}).catch(function(e){p(0);var t=e.response.data,n=t.name,r=t.url,a=t.email,e=t.vat_number,t=t.phone;w({name:n||[],url:r||[],email:a||[],vat_number:e||[],phone:t||[]}),b(0)});case 21:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),t="/create-company"===t.pathname||"/edit-company"===t.pathname;return _.createElement("div",{className:(0,Q.Z)(y.root,"flex flex-col flex-auto flex-shrink-0 ".concat(t?"items-center justify-center p-20 md:p-40":""))},_.createElement("div",{className:"flex flex-col w-full ".concat(t?"items-center justify-center":"")},_.createElement(V.Z,{animation:"transition.expandIn"},_.createElement(F.Z,{className:"".concat(t?"w-full max-w-512":"")},_.createElement(M.Z,{className:"flex flex-col ".concat(t?"items-center justify-center":"")},_.createElement(z.Z,{activeStep:v,orientation:"vertical"},O.map(function(e,t){return _.createElement(L.Z,{key:e},_.createElement(R.Z,null,n(e)),_.createElement(U.Z,null,_.createElement(B.Z,null,function(e,t){switch(e){case 0:return _.createElement(oe,t);case 1:return _.createElement(ae,I()({isCompany:!0},t));default:return"Unknown step"}}(t,0==t?{form:o,handleChangeAfterRemoveError:C,error:x}:1==t?{setFile:E,file:k,remove:function(){return E(null)}}:{typologyList:s,optionList:l})),_.createElement("div",{className:(0,Q.Z)(y.actionsContainer,"text-center custom-btn-group mt-12")},_.createElement("div",null,_.createElement(W.Z,{variant:"contained",size:"large",className:(0,Q.Z)(y.button,"mr-8"),disabled:0===v,onClick:j},n("BACK")),_.createElement(W.Z,{size:"large",variant:"contained",color:"primary",className:y.button,onClick:P},v===O.length-1?n("FINISH"):n("NEXT"))))))})),_.createElement(_.Fragment,null,_.createElement(G.Z,{square:!0,elevation:0,className:y.resetContainer},_.createElement(B.Z,null,n("STEP_COMPLETE_MESSAGE")),0<e&&_.createElement(Y.Z,{position:"relative",display:"inline-flex",className:y.progBox},_.createElement($.Z,{variant:"static",color:"primary",value:e}),_.createElement(Y.Z,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},_.createElement(B.Z,{variant:"caption",component:"div",color:"textInfo"},"".concat(Math.round(e),"%")))))))))))}))}}]);