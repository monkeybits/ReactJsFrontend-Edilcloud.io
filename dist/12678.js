(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[12678],{12678:function(e,t,a){"use strict";a.r(t),a.d(t,{WebSocketNotificationContext:function(){return d}});var s=a(78709),u=a(58913),f=a(63982),r=a(37967),l=a(3089),d=(0,s.createContext)(null);t.default=function(e){function i(e){var n=e.message;c(function(e,t){e(f.Gt({notification:n}))})}var t,n=e.children,c=(0,u.I0)(),o=r.tc,e=function t(){a.g.notificationSocket=new WebSocket(o),a.g.notificationSocket.onmessage=function(e){var t,n=JSON.parse(e.data),o=(0,l.Fc)();(null===(e=n.message.message.dest)||void 0===e?void 0:e.id)===parseInt(null==o||null===(t=o.extra)||void 0===t?void 0:t.profile.id)&&(c(f.fS()),i(n.message))},a.g.notificationSocket.onclose=function(e){setTimeout(function(){t()},1e3)}};return a.g.notificationSocket||(e(),t={socket:a.g.notificationSocket,sendMessage:i}),s.createElement(d.Provider,{value:t},n)}}}]);