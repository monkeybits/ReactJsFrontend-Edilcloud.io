(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[69562],{79587:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(78709),o=r.createContext();function i(){return r.useContext(o)}t.Z=o},26110:function(e,t,n){"use strict";function r(e){var n=e.props,t=e.states,r=e.muiFormControl;return t.reduce(function(e,t){return e[t]=n[t],r&&void 0===n[t]&&(e[t]=r[t]),e},{})}n.d(t,{Z:function(){return r}})},64349:function(e,t,n){"use strict";var E=n(97439),x=n(35313),C=n(84818),w=n(78709),P=(n(16526),n(30765)),N=n(58626),O=n(13117),I=n(70198);function S(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var T={entering:{opacity:1,transform:S(1)},entered:{opacity:1,transform:"none"}},n=w.forwardRef(function(e,t){var n=e.children,r=e.disableStrictModeCompat,o=void 0!==r&&r,i=e.in,a=e.onEnter,s=e.onEntered,l=e.onEntering,c=e.onExit,u=e.onExited,d=e.onExiting,m=e.style,p=e.timeout,f=void 0===p?"auto":p,r=e.TransitionComponent,p=void 0===r?P.ZP:r,r=(0,C.Z)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),v=w.useRef(),b=w.useRef(),y=(0,N.Z)(),g=y.unstable_strictMode&&!o,h=w.useRef(null),e=(0,I.Z)(n.ref,t),Z=(0,I.Z)(g?h:void 0,e),o=function(n){return function(e,t){n&&(e=g?[h.current,e]:[e,t],e=(t=(0,x.Z)(e,2))[0],void 0===(t=t[1])?n(e):n(e,t))}},t=o(l),e=o(function(e,t){(0,O.n)(e);var n,r=(0,O.C)({style:m,timeout:f},{mode:"enter"}),o=r.duration,r=r.delay;"auto"===f?(n=y.transitions.getAutoHeightDuration(e.clientHeight),b.current=n):n=o,e.style.transition=[y.transitions.create("opacity",{duration:n,delay:r}),y.transitions.create("transform",{duration:.666*n,delay:r})].join(","),a&&a(e,t)}),l=o(s),s=o(d),d=o(function(e){var t,n=(0,O.C)({style:m,timeout:f},{mode:"exit"}),r=n.duration,n=n.delay;"auto"===f?(t=y.transitions.getAutoHeightDuration(e.clientHeight),b.current=t):t=r,e.style.transition=[y.transitions.create("opacity",{duration:t,delay:n}),y.transitions.create("transform",{duration:.666*t,delay:n||.333*t})].join(","),e.style.opacity="0",e.style.transform=S(.75),c&&c(e)}),u=o(u);return w.useEffect(function(){return function(){clearTimeout(v.current)}},[]),w.createElement(p,(0,E.Z)({appear:!0,in:i,nodeRef:g?h:void 0,onEnter:e,onEntered:l,onEntering:t,onExit:d,onExited:u,onExiting:s,addEndListener:function(e,t){"auto"===f&&(v.current=setTimeout(g?e:t,b.current||0))},timeout:"auto"===f?null:f},r),function(e,t){return w.cloneElement(n,(0,E.Z)({style:(0,E.Z)({opacity:0,transform:S(.75),visibility:"exited"!==e||i?void 0:"hidden"},T[e],m,n.props.style),ref:Z},t))})});n.muiSupportAuto=!0,t.Z=n},46140:function(e,t,n){"use strict";function r(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function o(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return e&&(r(e.value)&&""!==e.value||t&&r(e.defaultValue)&&""!==e.defaultValue)}function i(e){return e.startAdornment}n.d(t,{vd:function(){return o},B7:function(){return i}})},38932:function(e,t,n){"use strict";var l=n(97439),c=n(84818),u=n(78709),r=n(16526),d=n(30367),m=n(63604),r=n(6274),n=u.forwardRef(function(e,t){var n=e.disableUnderline,r=e.classes,o=e.fullWidth,i=void 0!==o&&o,a=e.inputComponent,s=void 0===a?"input":a,o=e.multiline,a=void 0!==o&&o,o=e.type,o=void 0===o?"text":o,e=(0,c.Z)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return u.createElement(m.Z,(0,l.Z)({classes:(0,l.Z)({},r,{root:(0,d.Z)(r.root,!n&&r.underline),underline:null}),fullWidth:i,inputComponent:s,multiline:a,ref:t,type:o},e))});n.muiName="Input",t.Z=(0,r.Z)(function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},{name:"MuiInput"})(n)},73772:function(e,t,n){"use strict";var i=n(97439),a=n(84818),s=n(78709),r=n(16526),l=n(30367),r=n(6274),c=n(60339),n=s.forwardRef(function(e,t){var n=e.classes,r=e.className,o=(0,a.Z)(e,["classes","className"]),e=s.useContext(c.Z);return s.createElement("div",(0,i.Z)({className:(0,l.Z)(n.root,r,"flex-start"===e.alignItems&&n.alignItemsFlexStart),ref:t},o))});t.Z=(0,r.Z)(function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}},{name:"MuiListItemIcon"})(n)},88325:function(e,t,n){"use strict";var m=n(97439),p=n(84818),f=n(78709),r=n(16526),v=n(30367),r=n(6274),b=n(92466),y=n(60339),n=f.forwardRef(function(e,t){var n=e.children,r=e.classes,o=e.className,i=e.disableTypography,a=void 0!==i&&i,s=e.inset,l=void 0!==s&&s,c=e.primary,u=e.primaryTypographyProps,d=e.secondary,i=e.secondaryTypographyProps,s=(0,p.Z)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),e=f.useContext(y.Z).dense,n=null!=c?c:n;null==n||n.type===b.Z||a||(n=f.createElement(b.Z,(0,m.Z)({variant:e?"body2":"body1",className:r.primary,component:"span",display:"block"},u),n));return null==d||d.type===b.Z||a||(d=f.createElement(b.Z,(0,m.Z)({variant:"body2",className:r.secondary,color:"textSecondary",display:"block"},i),d)),f.createElement("div",(0,m.Z)({className:(0,v.Z)(r.root,o,e&&r.dense,l&&r.inset,n&&d&&r.multiline),ref:t},s),n,d)});t.Z=(0,r.Z)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(n)},96569:function(e,t,n){"use strict";var E=n(97439),x=n(84818),C=n(78709),r=n(16526),w=n(30367),r=n(6274),P=n(85552),N=n(15681),O=n(70198),I=n(60339),S=n(91169),T="undefined"==typeof window?C.useEffect:C.useLayoutEffect,n=C.forwardRef(function(e,t){var n=e.alignItems,r=void 0===n?"center":n,o=e.autoFocus,i=void 0!==o&&o,a=e.button,s=void 0!==a&&a,l=e.children,c=e.classes,u=e.className,d=e.component,m=e.ContainerComponent,p=void 0===m?"li":m,f=e.ContainerProps,v=(f=void 0===f?{}:f).className,b=(0,x.Z)(f,["className"]),y=e.dense,g=void 0!==y&&y,h=e.disabled,n=void 0!==h&&h,o=e.disableGutters,a=void 0!==o&&o,m=e.divider,f=void 0!==m&&m,y=e.focusVisibleClassName,h=e.selected,o=void 0!==h&&h,m=(0,x.Z)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),h=C.useContext(I.Z),e={dense:g||h.dense||!1,alignItems:r},Z=C.useRef(null);T(function(){i&&Z.current&&Z.current.focus()},[i]);g=C.Children.toArray(l),h=g.length&&(0,N.Z)(g[g.length-1],["ListItemSecondaryAction"]),l=C.useCallback(function(e){Z.current=S.findDOMNode(e)},[]),t=(0,O.Z)(l,t),n=(0,E.Z)({className:(0,w.Z)(c.root,u,e.dense&&c.dense,!a&&c.gutters,f&&c.divider,n&&c.disabled,s&&c.button,"center"!==r&&c.alignItemsFlexStart,h&&c.secondaryAction,o&&c.selected),disabled:n},m),m=d||"li";return s&&(n.component=d||"div",n.focusVisibleClassName=(0,w.Z)(c.focusVisible,y),m=P.Z),h?(m=n.component||d?m:"div","li"===p&&("li"===m?m="div":"li"===n.component&&(n.component="div")),C.createElement(I.Z.Provider,{value:e},C.createElement(p,(0,E.Z)({className:(0,w.Z)(c.container,v),ref:t},b),C.createElement(m,n,g),g.pop()))):C.createElement(I.Z.Provider,{value:e},C.createElement(m,(0,E.Z)({ref:t},n),g))});t.Z=(0,r.Z)(function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},{name:"MuiListItem"})(n)},82159:function(e,t,n){"use strict";var u=n(97439),d=n(84818),m=n(78709),r=n(16526),p=n(30367),r=n(6274),f=n(60339),n=m.forwardRef(function(e,t){var n=e.children,r=e.classes,o=e.className,i=e.component,a=void 0===i?"ul":i,s=e.dense,l=void 0!==s&&s,c=e.disablePadding,i=void 0!==c&&c,s=e.subheader,c=(0,d.Z)(e,["children","classes","className","component","dense","disablePadding","subheader"]),e=m.useMemo(function(){return{dense:l}},[l]);return m.createElement(f.Z.Provider,{value:e},m.createElement(a,(0,u.Z)({className:(0,p.Z)(r.root,o,l&&r.dense,!i&&r.padding,s&&r.subheader),ref:t},c),s,n))});t.Z=(0,r.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(n)},60339:function(e,t,n){"use strict";n=n(78709);t.Z=n.createContext({})},41713:function(e,t,n){"use strict";var m=n(84818),r=n(93535),p=n(97439),f=n(78709),o=n(16526),v=n(30367),o=n(6274),b=n(96569),n=f.forwardRef(function(e,t){var n,r=e.classes,o=e.className,i=e.component,a=void 0===i?"li":i,s=e.disableGutters,l=void 0!==s&&s,c=e.ListItemClasses,u=e.role,d=void 0===u?"menuitem":u,i=e.selected,s=e.tabIndex,u=(0,m.Z)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==s?s:-1),f.createElement(b.Z,(0,p.Z)({button:!0,role:d,tabIndex:n,component:a,selected:i,disableGutters:l,classes:(0,p.Z)({dense:r.dense},c),className:(0,v.Z)(r.root,o,i&&r.selected,!l&&r.gutters),ref:t},u))});t.Z=(0,o.Z)(function(e){return{root:(0,p.Z)({},e.typography.body1,(0,r.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,p.Z)({},e.typography.body2,{minHeight:"auto"})}},{name:"MuiMenuItem"})(n)},15681:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(78709);function o(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},66256:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var t=n(51265),r=n.n(t),t=n(56156),o=n.n(t),t=n(16526),t=n.n(t),i=n(78709),a=n(3640);n(20683);function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var c={animation:"transition.fadeIn",stagger:50,duration:200,display:null,visibility:"visible",delay:0},u={stagger:50,duration:200,display:null,visibility:"visible",delay:0};function d(e){return i.createElement(a.VelocityTransitionGroup,r()({},e,{enter:l(l({},c),e.enter),leave:l(l({},u),e.leave)}))}d.propTypes={children:t().any},d.defaultProps={enter:c,leave:u,easing:[.4,0,.2,1],runOnMount:!0,enterHideStyle:{visibility:"visible"},enterShowStyle:{visibility:"hidden"}};var m=i.memo(d)},58514:function(e,t,n){"use strict";n.r(t);var r=n(79545),b=n.n(r),r=n(56156),o=n.n(r),r=n(61432),y=n.n(r),g=n(66256),h=n(17725),Z=n(49073),E=n(84403),x=n(95272),C=n(25710),w=n(30250),P=n(41713),N=n(73772),O=n(88325),I=n(48258),S=n(96282),T=n(86926),k=n(38932),j=n(82159),A=n(92466),D=n(78709),M=n(58913),B=n(53369),R=n(47055),r=n(32986);function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){o()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var V=(0,r.ZP)(function(){return Promise.all([n.e(10930),n.e(25872)]).then(n.bind(n,73430))}),$=(0,r.ZP)(function(){return n.e(59164).then(n.bind(n,59164))}),F=(0,r.ZP)(function(){return n.e(9732).then(n.bind(n,9732))}),H=[{title:"Online",value:"online"},{title:"Away",value:"away"},{title:"Do not disturb",value:"do-not-disturb"},{title:"Offline",value:"offline"}];t.default=function(e){var r=(0,M.I0)(),o=(0,M.v9)(function(e){return e.chatApp.contacts.entities}).filter(function(e){return e.can_access_chat}),i=(0,M.v9)(function(e){return e.chatApp.user}),t=(0,M.v9)(function(e){return e.auth.user}),a=(0,B.$)("chat").t,n=null==t||null===(u=t.data)||void 0===u?void 0:u.user,s=(0,D.useState)(""),l=(t=y()(s,2))[0],c=t[1],u=(0,D.useState)(null),t=(s=y()(u,2))[0],d=s[1],u=(0,D.useState)(null),u=(s=y()(u,2))[0],m=s[1];function p(e){m(null)}function f(e){e.preventDefault(),e.stopPropagation(),d(e.currentTarget)}function v(e){c(e.target.value)}return D.createElement("div",{className:"flex flex-col flex-auto h-full"},D.createElement(E.Z,{position:"static",color:"default",elevation:1,className:"bg-white border-0"},D.createElement(x.Z,{className:"flex justify-between items-center px-4 bg-dark min-h-72 chat-border-right"},i&&D.createElement("div",{className:"relative w-48 h-48 p-0 mx-12 cursor-pointer chat-header-img",onClick:function(){return r(R.PE())},onKeyDown:function(){return r(R.PE())},role:"button",tabIndex:0},D.createElement(C.Z,{src:null==n?void 0:n.photo,alt:i.name,className:"w-48 h-48"},i.avatar&&""!==i.avatar?"":i.name[0]),D.createElement("div",{className:"absolute right-0 bottom-0 -m-2 z-10 cursor-pointer","aria-owns":t?"switch-menu":null,"aria-haspopup":"true",onClick:f,onKeyDown:f,role:"button",tabIndex:0},D.createElement(F,{status:i.status})),D.createElement(w.Z,{id:"status-switch",anchorEl:t,open:Boolean(t),onClose:function(e){e.preventDefault(),e.stopPropagation(),d(null)}},H.map(function(n){return D.createElement(P.Z,{onClick:function(e){return t=e,e=n.value,t.preventDefault(),t.stopPropagation(),r(R.Al(L(L({},i),{},{status:e}))),void d(null);var t},key:n.value},D.createElement(N.Z,{className:"min-w-40"},D.createElement(F,{status:n.value})),D.createElement(O.Z,{primary:n.title}))}))),D.createElement("div",null,D.createElement(V,{icon:D.createElement(D.Fragment,null,D.createElement(I.Z,{"aria-owns":u?"chats-more-menu":null,"aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},className:"text-white opacity-60"},D.createElement(S.Z,null,"more_vert"))),outsideClick:!0},D.createElement(P.Z,{onClick:p},"Profile"),D.createElement(P.Z,{onClick:p},"Logout")))),(0,D.useMemo)(function(){return D.createElement(x.Z,{className:"mt-8 px-16"},D.createElement(T.Z,{className:"flex p-4 items-center w-full px-8 py-4 rounded-20 chat-search",elevation:1},D.createElement(S.Z,{color:"action"},"search"),D.createElement(k.Z,{placeholder:a("SEARCH_PARTICIPANTS"),className:"flex flex-1 px-8",disableUnderline:!0,fullWidth:!0,value:l,inputProps:{"aria-label":"Search"},onChange:v})))},[l])),D.createElement(h.Z,{className:"overflow-y-auto flex-1"},D.createElement(j.Z,{className:"w-full"},(0,D.useMemo)(function(){function e(e,t){return 0===t.length?e:Z.Z.filterArrayByString(e,t)}var t=0<o.length&&i&&i.chatList?i.chatList.map(function(t){return L(L({},t),o.find(function(e){return e.id===t.contactId}))}):[],n=e(b()(o),l);e(b()(t),l);return D.createElement(D.Fragment,null,D.createElement(g.Z,{enter:{animation:"transition.expandIn"},className:"flex flex-col flex-shrink-0"},0<n.length&&D.createElement(A.Z,{className:"text-default font-weight-700 text-16 px-16 pb-8",color:"secondary"},a("PARTICIPANTS")),n.map(function(e){return D.createElement($,{key:e.id,contact:e})})))},[o,i,l,r]))))}}}]);