(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[98607],{92505:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var t=n(56156),r=n.n(t),t=n(20305),a=n.n(t),t=n(51265),l=n.n(t),c=n(78709),t=n(40962),i=n(389),o=n(92466),s=n(82186),m=n(41713),u=n(23610),d=n(86926),p=n(28344),f=n(67485),h=n(94435);function b(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}var v=(0,t.Z)(function(e){return{root:{"& .fuse-chip-select__input":{color:e.palette.text.primary},"&.standard":{"& $placeholder":{},"& $valueContainer":{paddingTop:4}},"&.filled":{"& $placeholder":{left:12},"& $valueContainer":{paddingTop:24,paddingLeft:12},"& $chip":{border:"1px solid rgba(0, 0, 0, 0.12)"}},"&.outlined":{"& $placeholder":{left:12},"& $valueContainer":{paddingLeft:12,paddingTop:12}}},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",paddingBottom:4,paddingTop:12,minHeight:40},chip:{margin:"4px 4px 4px 0"},chipFocused:{backgroundColor:(0,i.emphasize)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:"".concat(e.spacing(),"px ").concat(e.spacing(2),"px")},singleValue:{fontSize:16},placeholder:{position:"absolute",left:0,fontSize:16,margin:0},paper:{position:"absolute",zIndex:2,marginTop:e.spacing(),left:0,right:0},divider:{height:e.spacing(2)}}});function E(e){var t=e.inputRef,e=a()(e,["inputRef"]);return c.createElement("div",l()({ref:t},e))}var x={Control:function(e){var t=v();return c.createElement(s.Z,l()({fullWidth:!0,className:(0,p.Z)(t.root,e.selectProps.textFieldProps.variant),required:e.selectProps.required,error:e.selectProps.error,InputProps:{inputComponent:E,inputProps:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach(function(e){r()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({className:t.input,inputRef:e.innerRef,children:e.children},e.innerProps)}},e.selectProps.textFieldProps))},Menu:function(e){var t=v();return c.createElement(d.Z,l()({square:!0,className:t.paper},e.innerProps),e.children)},MultiValue:function(t){var e=v();return c.createElement(u.Z,{tabIndex:-1,label:t.children,className:(0,p.Z)(e.chip,r()({},e.chipFocused,t.isFocused),t.data.class),onDelete:function(e){t.removeProps.onClick(),t.removeProps.onMouseDown(e)}})},NoOptionsMessage:function(e){var t=v();return c.createElement(o.Z,l()({color:"textSecondary",className:t.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return c.createElement(m.Z,l()({buttonRef:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?600:400}},e.innerProps),e.children)},Placeholder:function(e){var t=v();return c.createElement(o.Z,l()({color:"textSecondary",className:t.placeholder},e.innerProps),e.children)},SingleValue:function(e){var t=v();return c.createElement(o.Z,l()({className:t.singleValue},e.innerProps),e.children)},ValueContainer:function(e){var t=v();return c.createElement("div",{className:t.valueContainer},e.children)}};function g(t){function e(e){null===e&&(e=[]),t.onChange&&t.onChange(e)}return"fixed"===t.variant?c.createElement(f.ZP,l()({classNamePrefix:"fuse-chip-select"},t,{components:x,onChange:e})):c.createElement(h.ZP,l()({classNamePrefix:"fuse-chip-select"},t,{components:x,onChange:e}))}var Z=c.memo(g)},98607:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(79545),h=n.n(r),t=n(56156),a=n.n(t),b=n(92505),r=n(32986),v=n(35923),E=n(65129),x=n(70964),g=n(84403),Z=n(95272),N=n(48258),P=n(96282),y=n(80896),C=n(92466),O=n(82186),w=n(92571),j=n(64297),k=n(25710),M=n(82159),t=n(82853),l=n.n(t),c=n(49073),L=function e(t){l()(this,e);t=t||{};this.id=t.id||c.Z.generateGUID(),this.name=t.name||"",this.class=t.class||"bg-blue text-white"},D=n(89673),t=n(78279),A=n.n(t),F=n(78709),S=n(58913);function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){a()(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var I=(0,r.ZP)(function(){return n.e(71174).then(n.bind(n,71174))}),_=(0,r.ZP)(function(){return n.e(92382).then(n.bind(n,92382))}),R=(0,r.ZP)(function(){return n.e(70246).then(n.bind(n,70246))}),$=(0,r.ZP)(function(){return n.e(38492).then(n.bind(n,38492))}),V=(0,r.ZP)(function(){return n.e(31774).then(n.bind(n,31774))}),W=(0,r.ZP)(function(){return n.e(81982).then(n.bind(n,81982))}),q=(0,r.ZP)(function(){return n.e(55921).then(n.bind(n,55921))}),z=(0,r.ZP)(function(){return n.e(80365).then(n.bind(n,80365))}),H=(0,r.ZP)(function(){return n.e(54621).then(n.bind(n,54621))});var o=function(e){var r=(0,S.I0)(),t=(0,S.v9)(function(e){return e.scrumboardApp.card.data}),n=(0,S.v9)(function(e){return e.scrumboardApp.board}),a=(s=(0,v.cI)(t)).form,l=s.handleChange,c=s.setForm,i=s.setInForm,o=(0,v.Nr)(function(e,t){r(D.OV(e,T({},t)))},600),s=a&&a.due?A()(a.due).format(A().HTML5_FMT.DATE):"";function m(e,t){i(e,t.map(function(e){return e.value}))}function u(e){i("idAttachmentCover",e)}function d(){i("idAttachmentCover","")}function p(e){c(T(T({},a),{},{attachments:E.Z.reject(a.attachments,{id:e}),idAttachmentCover:a.idAttachmentCover===e?"":a.idAttachmentCover}))}(0,v.rf)(function(){o(n.id,a)},[r,n.id,a,o]);var f=(0,F.useCallback)(function(e,t){i("checklists[".concat(t,"]"),e)},[i]);return F.createElement(F.Fragment,null,F.createElement(x.Z,{component:"div",className:"p-0"},F.createElement(g.Z,{position:"static",elevation:1},F.createElement(Z.Z,{className:"flex w-full overflow-x-auto px-8 sm:px-16"},F.createElement("div",{className:"flex flex-1"},F.createElement(W,{onDueChange:l,onRemoveDue:function(){i("due",null)},due:s}),F.createElement(q,{onToggleLabel:function(e){i("idLabels",E.Z.xor(a.idLabels,[e]))},labels:n.labels,idLabels:a.idLabels}),F.createElement(z,{onToggleMember:function(e){i("idMembers",E.Z.xor(a.idMembers,[e]))},members:n.members,idMembers:a.idMembers}),F.createElement(N.Z,{color:"inherit"},F.createElement(P.Z,null,"attachment")),F.createElement(V,{onAddCheckList:function(e){i("checklists",[].concat(h()(a.checklists),[e]))}}),F.createElement(H,{onRemoveCard:function(){return r(D.yJ(n.id,a.id))}})),F.createElement(N.Z,{color:"inherit",onClick:function(e){return r(D.T2())}},F.createElement(P.Z,null,"close"))))),F.createElement(y.Z,{className:"p-16 sm:p-24"},F.createElement("div",{className:"flex flex-col sm:flex-row sm:justify-between justify-center items-center mb-24"},F.createElement("div",{className:"mb-16 sm:mb-0 flex items-center"},F.createElement(C.Z,null,n.name),F.createElement(P.Z,{className:"text-20",color:"inherit"},"chevron_right"),F.useMemo(function(){var e=t?E.Z.find(n.lists,function(e){return e.idCards.includes(t.id)}):null;return F.createElement(C.Z,null,e&&e.name)},[n,t])),a.due&&F.createElement(O.Z,{label:"Due date",type:"date",name:"due",value:s,onChange:l,placeholder:" Choose a due date",className:"w-full sm:w-auto",InputLabelProps:{shrink:!0},variant:"outlined",InputProps:{endAdornment:F.createElement(w.Z,{position:"end"},F.createElement(P.Z,{color:"action"},"today"))}})),F.createElement("div",{className:"flex items-center mb-24"},F.createElement(O.Z,{label:"Title",type:"text",name:"name",value:a.name,onChange:l,variant:"outlined",fullWidth:!0,required:!0,InputProps:{endAdornment:F.createElement(w.Z,{position:"end"},a.subscribed&&F.createElement(P.Z,{className:"text-20",color:"action"},"remove_red_eye"))}})),F.createElement("div",{className:"w-full mb-24"},F.createElement(O.Z,{label:"Description",name:"description",multiline:!0,rows:"4",value:a.description,onChange:l,variant:"outlined",fullWidth:!0})),F.createElement("div",{className:"flex flex-col sm:flex-row -mx-8"},0<a.idLabels.length&&F.createElement("div",{className:"flex-1 mb-24 mx-8"},F.createElement("div",{className:"flex items-center mt-16 mb-12"},F.createElement(P.Z,{className:"text-20",color:"inherit"},"label"),F.createElement(C.Z,{className:"font-600 text-16 mx-8"},"Labels")),F.createElement(b.default,{className:"",value:a.idLabels.map(function(e){var t=E.Z.find(n.labels,{id:e});return t&&{value:e,label:t.name,class:t.class}}),onChange:function(e){return m("idLabels",e)},placeholder:"Select multiple Labels",isMulti:!0,textFieldProps:{variant:"outlined"},options:n.labels.map(function(e){return{value:e.id,label:e.name,class:e.class}}),onCreateOption:function(e){var t,n=new L({name:e});return r(D.jc(n)),t="idLabels",e=n.id,i(t,[].concat(h()(a[t]),[e])),n.id}})),0<a.idMembers.length&&F.createElement("div",{className:"flex-1 mb-24 mx-8"},F.createElement("div",{className:"flex items-center mt-16 mb-12"},F.createElement(P.Z,{className:"text-20",color:"inherit"},"supervisor_account"),F.createElement(C.Z,{className:"font-600 text-16 mx-8"},"Members")),F.createElement(b.default,{className:"",value:a.idMembers.map(function(e){e=E.Z.find(n.members,{id:e});return e&&{value:e.id,label:F.createElement(j.ZP,{title:e.name},F.createElement(k.Z,{className:"ltr:-ml-12 rtl:-mr-12 w-32 h-32",src:e.avatar}))}}),onChange:function(e){return m("idMembers",e)},placeholder:"Select multiple Members",isMulti:!0,textFieldProps:{variant:"outlined"},options:n.members.map(function(e){return{value:e.id,label:F.createElement("span",{className:"flex items-center"},F.createElement(k.Z,{className:"w-32 h-32",src:e.avatar}),F.createElement("span",{className:"mx-8"},e.name))}}),variant:"fixed"}))),0<a.attachments.length&&F.createElement("div",{className:"mb-24"},F.createElement("div",{className:"flex items-center mt-16 mb-12"},F.createElement(P.Z,{className:"text-20",color:"inherit"},"attachment"),F.createElement(C.Z,{className:"font-600 text-16 mx-8"},"Attachments")),F.createElement("div",{className:"flex flex-col sm:flex-row flex-wrap -mx-16"},a.attachments.map(function(e){return F.createElement(_,{item:e,card:a,makeCover:u,removeCover:d,removeAttachment:p,key:e.id})}))),a.checklists.map(function(t,e){return F.createElement(R,{key:t.id,checklist:t,index:e,onCheckListChange:f,onRemoveCheckList:function(){var e;e=t.id,i("checklists",E.Z.reject(a.checklists,{id:e}))}})}),F.createElement("div",{className:"mb-24"},F.createElement("div",{className:"flex items-center mt-16 mb-12"},F.createElement(P.Z,{className:"text-20",color:"inherit"},"comment"),F.createElement(C.Z,{className:"font-600 text-16 mx-8"},"Comment")),F.createElement("div",null,F.createElement($,{members:n.members,onCommentAdd:function(e){return i("activities",[e].concat(h()(a.activities)))}}))),0<a.activities.length&&F.createElement("div",{className:"mb-24"},F.createElement("div",{className:"flex items-center mt-16"},F.createElement(P.Z,{className:"text-20",color:"inherit"},"list"),F.createElement(C.Z,{className:"font-600 text-16 mx-8"},"Activity")),F.createElement(M.Z,{className:""},a.activities.map(function(e){return F.createElement(I,{item:e,key:e.id,members:n.members})})))))}}}]);