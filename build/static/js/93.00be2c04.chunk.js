(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[93],{1950:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"h",(function(){return u})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return d})),a.d(t,"m",(function(){return f})),a.d(t,"i",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return E})),a.d(t,"x",(function(){return v})),a.d(t,"p",(function(){return h})),a.d(t,"s",(function(){return O})),a.d(t,"u",(function(){return g})),a.d(t,"v",(function(){return j})),a.d(t,"r",(function(){return y})),a.d(t,"t",(function(){return x})),a.d(t,"B",(function(){return N})),a.d(t,"w",(function(){return A})),a.d(t,"z",(function(){return F})),a.d(t,"q",(function(){return S})),a.d(t,"n",(function(){return I})),a.d(t,"l",(function(){return w})),a.d(t,"j",(function(){return C})),a.d(t,"o",(function(){return M})),a.d(t,"C",(function(){return P})),a.d(t,"D",(function(){return T})),a.d(t,"A",(function(){return k})),a.d(t,"y",(function(){return L}));a(26);var n=a(12),r=a(16),l=a(15),c="[FILE MANAGER APP] GET ALL FILES",i="[FILE MANAGER APP] DELETE FILE",o="[FILE MANAGER APP] GET PHOTOS",u="[FILE MANAGER APP] GET VIDEOS",s="[FILE MANAGER APP] GET DOCUMENTS",d="[FILE MANAGER APP] GET FOLDERS",f="[FILE MANAGER APP] SET SEARCH TEXT",m="[FILE MANAGER APP] HANDLE UPLOAD LOADING",p="[FILE MANAGER APP] RESET FILES",b="[FILE MANAGER APP] FILE MOVE OPEN DIALOG",E="[FILE MANAGER APP] FILE MOVE CLOSE DIALOG";function v(e){return{type:b,payload:e}}function h(){return{type:E}}function O(e){return function(t,a){t(g(e)),t(j(e)),t(y(e)),t(x(e))}}function g(e){return function(t,a){Object(n.b)(Object(r.wb)(e),{},(function(e){t({type:o,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(l.c)())}}function j(e){return function(t,a){Object(n.b)(Object(r.Yb)(e),{},(function(e){t({type:u,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(l.c)())}}function y(e){return function(t,a){Object(n.b)(Object(r.G)(e),{},(function(e){t({type:s,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(l.c)())}}function x(e){return function(t,a){Object(n.b)(Object(r.U)(e),{},(function(e){t({type:d,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(l.c)())}}function N(e){return{type:f,searchText:e.target.value}}function A(e){return{type:m,payload:e}}function F(e){return{type:c,payload:e}}function S(e,t,a,n){return function(r,c){var o,u,s=null===(o=Object(l.a)().extra)||void 0===o||null===(u=o.profile)||void 0===u?void 0:u.company;"folder"==t&&r(x(s)),r({type:i,payload:{id:e,fileType:t,deleteId:a,selectedItem:n}})}}var I="[FILE MANAGER APP] SET SELECTED ITEM",w="[FILE MANAGER APP] SET FOLDER PATH",C="[FILE MANAGER APP] POP FOLDER PATH",M="[FILE MANAGER APP] UPDATE FOLDER PATH";function P(e){return{type:I,payload:e}}function T(e){return{type:M,payload:e}}function k(e){return{type:w,payload:e}}function L(e){return{type:C,payload:e}}},2055:function(e,t,a){"use strict";var n=a(191),r=a(187),l=a(0),c=a.n(l),i=a(144),o=a(7),u=a(1804),s=a(1821),d=a(1822),f=a(1823),m=a(439),p=a.n(m),b=a(71),E=Object(o.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,l=e.onClose,i=Object(n.a)(e,["children","classes","onClose"]);return c.a.createElement(s.a,Object.assign({disableTypography:!0,className:a.root},i),c.a.createElement(b.a,{variant:"h6"},t),l?c.a.createElement(r.a,{"aria-label":"close",className:a.closeButton,onClick:l},c.a.createElement(p.a,null)):null)})),v=Object(o.a)((function(e){return{root:{padding:e.spacing(2)}}}))(d.a),h=Object(o.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(f.a);t.a=function(e){var t=e.isOpenDeleteDialog,a=e.colseDeleteFileDialog,n=e.onYes,r=e.onNo,l=e.text;return c.a.createElement(u.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:t,maxWidth:"xs",fullWidth:"true"},c.a.createElement(E,{id:"customized-dialog-title",onClose:a},"Delete"),c.a.createElement(v,{dividers:!0},c.a.createElement("div",null,l)),c.a.createElement(h,null,c.a.createElement(i.a,{autoFocus:!0,onClick:n,variant:"contained",color:"secondary"},"yes"),c.a.createElement(i.a,{autoFocus:!0,onClick:r,variant:"contained",color:"secondary"},"No")))}},2173:function(e,t){},2174:function(e,t){},2175:function(e,t){},2176:function(e,t){},2177:function(e,t){},3574:function(e,t,a){"use strict";a.r(t);var n=a(132),r=a.n(n),l=a(2),c=a(37),i=a(193),o=a(8),u=a(191),s=a(156),d=a(237),f=a(143),m=a(187),p=a(331),b=a(0),E=a.n(b),v=a(6),h=a(144),O=a(71),g=a(1950);var j=a(1862),y=a(932),x=a(1875),N=a(11),A=a(58),F=a.n(A),S=a(2278);a(2179);S.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(S.c.version,"/pdf.worker.js");var I=function(e){var t=e.file,a=e.height,n=e.width,r=Object(b.useState)(null),l=Object(o.a)(r,2),c=l[0],i=l[1],u=Object(b.useState)(1),s=Object(o.a)(u,2),d=s[0],f=s[1];return E.a.createElement("div",null,E.a.createElement(S.a,{options:{cMapUrl:"//cdn.jsdelivr.net/npm/pdfjs-dist@".concat(S.c.version,"/cmaps/"),cMapPacked:!0},file:t,onLoadSuccess:function(e){var t=e.numPages;i(t)}},E.a.createElement(S.b,Object.assign({size:"A4"},{height:a,width:n},{pageNumber:d}))),E.a.createElement("p",{className:"text-center"},E.a.createElement(h.a,{onClick:function(){return f((function(e){return 1!=e?e-1:1}))},type:"button"},"<"),"Page ",d," of ",c,E.a.createElement(h.a,{onClick:function(){return f((function(e){return e!=c?e+1:c}))},type:"button"},">")))},w=a(73),C=a(105),M=a(1813),P=a(1860),T=a(1884),k=a(1920),L=a.n(k),D=a(2180),z=a.n(D),_=a(2181),G=a.n(_),R=Object(y.a)({table:{"& th":{padding:"16px 0"}},typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}});var B=function(e){var t=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),a=Object(v.c)((function(e){var a=e.fileManagerApp;return t[a.selectedItemId]})),n=R();if(!a)return null;var r=function(e){return F()(e).format("MMMM Do YYYY, h:mm a")},c=function(e){return e||"-"},i=function(e){return"pdf"==e||"video"==e?{color:"red"}:"mp3"==e?{color:"brown"}:"docx"==e?{color:"blue"}:"xlsx"==e?{color:"green"}:{}};return E.a.createElement(s.a,{animation:"transition.slideUpIn",delay:600},E.a.createElement("div",{className:"file-details p-16 sm:p-24"},E.a.createElement("div",{className:"preview h-128 sm:h-256 file-icon flex items-center justify-center"},"photo"==a.type?E.a.createElement("img",{src:a.photo}):"pdf"==a.extension?E.a.createElement(I,{height:256,width:270,file:a.document}):"video"==a.type?E.a.createElement(w.a,{icon:C.h,style:Object(l.a)(Object(l.a)({},i(a.type)),{},{fontSize:"2.4rem"})}):E.a.createElement(w.a,{icon:"document"==a.type?"pdf"==a.extension?C.g:"docx"==a.extension?C.i:"xlsx"==a.extension?C.e:"mp3"==a.extension?C.d:C.c:C.c,style:Object(l.a)(Object(l.a)({},i(a.extension)),{},{fontSize:"2.4rem"})})),E.a.createElement(j.a,{className:"offline-switch flex m-0",control:E.a.createElement(x.a,{checked:a.offline,"aria-label":"Available Offline"}),label:"Available Offline"})),E.a.createElement("div",{className:"px-24 py-12 border-b-1"},E.a.createElement(O.a,{variant:"subtitle1",className:"py-10 uppercase text-gray-500"},"Info"),E.a.createElement("table",{className:Object(N.a)(n.table,"w-full text-justify")},E.a.createElement("tbody",null,E.a.createElement("tr",{className:"type"},E.a.createElement("th",null,"Type"),E.a.createElement("td",null,c(a.type))),E.a.createElement("tr",{className:"size"},E.a.createElement("th",null,"Size"),E.a.createElement("td",null,""===a.size?"-":a.size)),E.a.createElement("tr",{className:"location"},E.a.createElement("th",null,"Location"),E.a.createElement("td",null,c(a.location))),E.a.createElement("tr",{className:"owner"},E.a.createElement("th",null,"Owner"),E.a.createElement("td",null,c(a.owner))),E.a.createElement("tr",{className:"modified"},E.a.createElement("th",null,"Modified"),E.a.createElement("td",null,r(a.date_last_modify))),E.a.createElement("tr",{className:"opened"},E.a.createElement("th",null,"Opened"),E.a.createElement("td",null,c(a.opened))),E.a.createElement("tr",{className:"created"},E.a.createElement("th",null,"Created"),E.a.createElement("td",null,r(a.date_create)))))),E.a.createElement("div",{className:"px-10 py-12 border-b-1"},E.a.createElement(M.a,{className:"flex items-center actions-dropdown p-0 small"},E.a.createElement(P.a,null,E.a.createElement(T.a,null,E.a.createElement(z.a,{fontSize:"medium"})),E.a.createElement(O.a,{variant:"inherit"},"Download")),E.a.createElement(P.a,null,E.a.createElement(T.a,null,E.a.createElement(G.a,{fontSize:"medium"})),E.a.createElement(O.a,{variant:"inherit"},"Delete")),E.a.createElement(P.a,null,E.a.createElement(T.a,null,E.a.createElement(L.a,{fontSize:"medium"})),E.a.createElement(O.a,{variant:"inherit"},"More")))))},U=a(16),W=a(12),Y=a(15),H=(a(2182),a(2055)),V=a(7),q=a(1804),J=a(1821),X=a(1822),Z=a(1823),K=a(439),Q=a.n(K),$=a(92),ee=a(93),te=a(155),ae=a(154),ne=a(2183),re=a.n(ne),le=a(2184),ce=(b.Component,a(2118)),ie=Object(V.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,r=Object(u.a)(e,["children","classes","onClose"]);return E.a.createElement(J.a,Object.assign({disableTypography:!0,className:a.root},r),E.a.createElement(O.a,{variant:"h6"},t),n?E.a.createElement(m.a,{"aria-label":"close",className:a.closeButton,onClick:n},E.a.createElement(Q.a,null)):null)})),oe=Object(V.a)((function(e){return{root:{padding:e.spacing(2)}}}))(X.a),ue=Object(V.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(Z.a);var se=function(e){var t,a=e.isOpenViewFile,n=e.closeViewFile,r=Object(b.useState)(null),c=Object(o.a)(r,2),i=c[0],u=c[1],s=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),d=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.files})),f=Object(v.c)((function(e){return e.fileManagerApp.selectedItemId})),m=Object(b.useState)(null),p=Object(o.a)(m,2),O=p[0],g=p[1];return Object(b.useEffect)((function(){console.log({currentIndex:i});var e=d[i];g(e)}),[i]),Object(b.useEffect)((function(){if(Array.isArray(d)&&s[f]){var e=s[f],t=d.findIndex((function(t){return t.mainId==e.mainId&&t.type==e.type}));if(console.log({findIndex:t,Allfiles:d}),t>=0){u(t);var a=d[t];g(a)}}}),[f,d,s]),E.a.createElement(q.a,{onClose:n,"aria-labelledby":"customized-dialog-title",open:a,fullWidth:"true"},E.a.createElement(ie,{id:"customized-dialog-title",onClose:n},null===O||void 0===O?void 0:O.title),E.a.createElement(oe,{dividers:!0},"photo"==(null===O||void 0===O?void 0:O.type)?E.a.createElement(ce.LazyLoadImage,{delayTime:300,src:null===O||void 0===O?void 0:O.photo,alt:null===O||void 0===O?void 0:O.title}):"video"==(null===O||void 0===O?void 0:O.type)?E.a.createElement("video",{autoPlay:!0,src:null===O||void 0===O?void 0:O.video}):"pdf"==(null===O||void 0===O?void 0:O.extension)?E.a.createElement(I,{height:700,file:O.document}):E.a.createElement(w.a,{icon:"document"==(null===O||void 0===O?void 0:O.type)?"pdf"==(null===O||void 0===O?void 0:O.extension)?C.g:"docx"==(null===O||void 0===O?void 0:O.extension)?C.i:"xlsx"==(null===O||void 0===O?void 0:O.extension)?C.e:"mp3"==(null===O||void 0===O?void 0:O.extension)?C.d:C.c:C.c,style:Object(l.a)(Object(l.a)({},(t=null===O||void 0===O?void 0:O.extension,"pdf"==t||"video"==t?{color:"red"}:"mp3"==t?{color:"brown"}:"docx"==t?{color:"blue"}:"xlsx"==t?{color:"green"}:{})),{},{fontSize:"2.4rem"})})),E.a.createElement(ue,{className:"p-8"},E.a.createElement(h.a,{variant:"contained",color:"primary",disabled:0==i,onClick:function(){i>0&&u((function(e){return e-1}))}},"Previous"),E.a.createElement(h.a,{variant:"contained",color:"primary",disabled:i==(null===d||void 0===d?void 0:d.length)-1,onClick:function(){i<(null===d||void 0===d?void 0:d.length)-1&&u((function(e){return e+1}))}},"Next")))};var de=function(e){e.setProgress;var t=Object(v.b)(),a=(Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.folders})),Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles}))),n=Object(v.c)((function(e){var t=e.fileManagerApp;return a[t.selectedItemId]})),r=Object(b.useState)(!1),l=Object(o.a)(r,2),c=l[0],i=l[1],u=Object(b.useState)(!1),d=Object(o.a)(u,2),f=d[0],p=d[1];if(!n)return null;var h=function(){return i(!1)};return"photo"==n.type?n.photo:"video"==n.type?n.video:n.document,E.a.createElement(E.a.Fragment,null,E.a.createElement(H.a,{text:"Are you sure want to delete ?",isOpenDeleteDialog:c,colseDeleteFileDialog:h,onYes:function(){var e,a,r=null===(e=Object(Y.a)().extra)||void 0===e||null===(a=e.profile)||void 0===a?void 0:a.company,l=n.type,c=n.mainId,i="folder"==l?Object(U.S)(r,n.path):"photo"==l?Object(U.vb)(n.mainId):"video"==l?Object(U.Xb)(n.mainId):Object(U.F)(n.mainId);Object(W.b)(i,{},(function(e){t("folder"==l?g.q(n.id,l,n.path,n):g.q(n.id,l,c,n)),h()}),(function(e){return console.log(e)}),W.a.DELETE,Object(Y.c)())},onNo:h}),E.a.createElement(se,{isOpenViewFile:f,closeViewFile:function(){return p(!1)}}),E.a.createElement("div",{className:"flex flex-col justify-between"},E.a.createElement("div",{className:"flex items-center justify-between border-b-1 px-20 py-6"},E.a.createElement(s.a,{delay:200},E.a.createElement(O.a,{variant:"subtitle1",className:"font-700"},n.title)),E.a.createElement(m.a,{edge:"start",color:"inherit","aria-label":"close",className:"close-icon list-view-icon"},E.a.createElement(Q.a,null)))))},fe=a(13),me=a(1982),pe=a(1985),be=a(1968),Ee=a(1983),ve=a(1984),he=a(31),Oe=a(608),ge=a(2061),je=a.n(ge),ye=Object(y.a)({typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}}),xe=["Share","Move to","Change Color","Add to Starred","Download","Delete"];var Ne=function(e){var t=Object(v.b)(),a=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.folders})),n=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.files})),r=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),c=Object(v.c)((function(e){return e.fileManagerApp.files.folderPath})),i=c[c.length-1],u=Object(v.c)((function(e){return e.fileManagerApp.selectedItemId})),d=Object(v.c)((function(e){return e.fileManagerApp.files.searchText})),p=ye(),h=function(e){return"pdf"==e||"video"==e?{color:"red"}:"mp3"==e?{color:"brown"}:"docx"==e?{color:"blue"}:"xlsx"==e?{color:"green"}:{}},j=function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(i)&&e.path.split("/").length<=c.length&&!c.includes(e.path)}));e&&(e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(l.a)(Object(l.a)({},e),{},{title:t,type:"folder"})})),t(g.z([].concat(Object(fe.a)(e),Object(fe.a)(n.filter((function(e){return e.folder_relative_path==i})))))))},y=E.a.useState(null),x=Object(o.a)(y,2),A=x[0],S=x[1],I=Boolean(A),M=function(e){S(e.currentTarget)},k=function(){S(null)};return Object(b.useEffect)((function(){j()}),[n,a,n.photos,n.videos,n.documents]),Object(b.useEffect)((function(){if(d&&d.length){var e=function(e,t){var a=Object.keys(e).map((function(t){return e[t]}));return 0===t.length?a:he.a.filterArrayByString(a,t)}(r,d);t(g.z(e))}else j()}),[d]),Object(b.useEffect)((function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(i)&&e.path.split("/").length<=c.length&&!c.includes(e.path)}));e&&(e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(l.a)(Object(l.a)({},e),{},{title:t,type:"folder"})})),t(g.z([].concat(Object(fe.a)(e),Object(fe.a)(n.filter((function(e){return e.folder_relative_path==i})))))))}),[i]),0===r.length&&d?E.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},E.a.createElement(O.a,{color:"textSecondary",variant:"h5"},"There are no files!")):E.a.createElement("div",{className:"file-folder-grid px-20"},E.a.createElement(s.a,{animation:"transition.slideUpIn",delay:300},E.a.createElement(me.a,{className:"bg-white rounded table-shadow"},E.a.createElement(Ee.a,null,E.a.createElement(ve.a,null,E.a.createElement(be.a,{className:"max-w-64 w-64 p-0 text-center"}," "),E.a.createElement(be.a,null,"Name"),E.a.createElement(be.a,{className:"hidden sm:table-cell"},"Type"),E.a.createElement(be.a,{className:"hidden sm:table-cell"},"Owner"),E.a.createElement(be.a,{className:"text-center hidden sm:table-cell"},"Size"),E.a.createElement(be.a,{className:"hidden sm:table-cell"},"Modified"),E.a.createElement(be.a,null),E.a.createElement(be.a,null),E.a.createElement(be.a,null,"Actions"))),E.a.createElement(pe.a,null,""!=i&&E.a.createElement(ve.a,null,E.a.createElement(be.a,{onClick:function(){return t(g.y())}},E.a.createElement(m.a,{"aria-label":"back",size:"small"},E.a.createElement(f.a,null,"more_horiz"))),E.a.createElement(be.a,null),E.a.createElement(be.a,{className:"hidden sm:table-cell"}),E.a.createElement(be.a,{className:"hidden sm:table-cell"}),E.a.createElement(be.a,{className:"hidden sm:table-cell"}),E.a.createElement(be.a,{className:"hidden sm:table-cell"}),E.a.createElement(be.a,null),E.a.createElement(be.a,null),E.a.createElement(be.a,null,"Actions")),Object.entries(r).map((function(a){var n,r=Object(o.a)(a,2),c=(r[0],r[1]);return E.a.createElement(ve.a,{key:c.id,hover:!0,onClick:function(e){return"folder"==c.type?t(g.A(c.path)):t(g.C(c.id))},selected:c.id===u,className:"cursor-pointer"},E.a.createElement(be.a,{className:"max-w-64 w-64 p-0 text-center"},"video"==c.type?E.a.createElement(w.a,{icon:C.h,style:Object(l.a)(Object(l.a)({},h(c.type)),{},{fontSize:"2.4rem"})}):"photo"==c.type?E.a.createElement(w.a,{icon:C.f,style:{color:"black",fontSize:"2.4rem"}}):"folder"==c.type?E.a.createElement(f.a,{className:Object(N.a)(p.typeIcon,c.type)},"folder"):E.a.createElement(w.a,{icon:"document"==c.type?"pdf"==c.extension?C.g:"docx"==c.extension?C.i:"xlsx"==c.extension?C.e:"mp3"==c.extension?C.d:C.c:C.c,style:Object(l.a)(Object(l.a)({},h(c.extension)),{},{fontSize:"2.4rem"})})),E.a.createElement(be.a,null,c.title),E.a.createElement(be.a,{className:"hidden sm:table-cell"},c.type),E.a.createElement(be.a,{className:"hidden sm:table-cell"},c.owner||"-"),E.a.createElement(be.a,{className:"text-center hidden sm:table-cell"},""===c.size?"-":c.size),E.a.createElement(be.a,{className:"hidden sm:table-cell"},c.date_last_modify?(n=c.date_last_modify,F()(n).format("MMMM Do YYYY, h:mm a")):"-"),E.a.createElement(be.a,null,E.a.createElement(m.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),t(g.x(c))},"aria-label":"open right sidebar"},E.a.createElement(f.a,null,"transform"))),E.a.createElement(be.a,null,E.a.createElement(m.a,{onClick:function(a){a.preventDefault(),a.stopPropagation(),e.pageLayout.current.toggleRightSidebar(),t(g.C(c.id))},"aria-label":"open right sidebar"},E.a.createElement(f.a,null,"info"))),E.a.createElement(be.a,null,E.a.createElement("div",{className:"actions-dropdown"},E.a.createElement(m.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:M},E.a.createElement(L.a,null)),E.a.createElement(Oe.a,{id:"long-menu",anchorEl:A,keepMounted:!0,open:I,onClose:k,PaperProps:{style:{width:"20ch"}}},xe.map((function(e){return E.a.createElement(P.a,{key:e,selected:"Pyxis"===e,onClick:k},E.a.createElement(T.a,null,E.a.createElement(je.a,{fontSize:"small"})),E.a.createElement(O.a,{variant:"inherit"}," ",e))}))))))}))))))},Ae=a(891),Fe=a(892),Se=a(936);var Ie=function(){return E.a.createElement(Ae.a,{component:"nav"},E.a.createElement(Fe.a,{button:!0,dense:!0},E.a.createElement(T.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"folder")),E.a.createElement(Se.a,{primary:"My Files"})),E.a.createElement(Fe.a,{button:!0,dense:!0},E.a.createElement(T.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"star")),E.a.createElement(Se.a,{primary:"Starred"})),E.a.createElement(Fe.a,{button:!0,dense:!0},E.a.createElement(T.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"folder_shared")),E.a.createElement(Se.a,{primary:"Sharred with me"})),E.a.createElement(Fe.a,{button:!0,dense:!0},E.a.createElement(T.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"access_time")),E.a.createElement(Se.a,{primary:"Recent"})),E.a.createElement(Fe.a,{button:!0,dense:!0},E.a.createElement(T.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"not_interested")),E.a.createElement(Se.a,{primary:"Offline"})))};var we=function(){return E.a.createElement("div",{className:"flex items-center h-full p-12"},E.a.createElement(f.a,null,"folder"),E.a.createElement(O.a,{variant:"h6",className:"mx-12"},"File Manager"))},Ce=a(77);a(10);function Me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=0>t?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}var Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e,a){return Object(l.a)(Object(l.a)({},e),{},{mainId:e.id,id:a,type:t,size:Me(e.size)})}))},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(Object(fe.a)(t),Object(fe.a)(e)).reduce((function(e,t){return e.find((function(e){return e.mainId===t.mainId}))?e:e.concat([t])}),[])};function ke(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC";return e.sort((function(e,n){return"ASC"===a?e[t]>n[t]?1:e[t]<n[t]?-1:0:e[t]>n[t]?-1:e[t]<n[t]?1:0}))}var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return Object(l.a)(Object(l.a)({},e),{},{id:t})}))},De=function(e,t,a,n,r){return"folder"==e?Object(l.a)(Object(l.a)({},t),{},{allFiles:Le(ke(t.allFiles.filter((function(e){return e.id!=a})),"title")),folders:t.folders.filter((function(e){return e.path!=n})),files:t.files.filter((function(e){return!e.folder_relative_path.includes(n)})),photos:Object(l.a)(Object(l.a)({},t.photos),{},{results:t.photos.results.filter((function(e){return!e.folder_relative_path.includes(n)}))}),videos:Object(l.a)(Object(l.a)({},t.videos),{},{results:t.videos.results.filter((function(e){return!e.folder_relative_path.includes(n)}))}),documents:Object(l.a)(Object(l.a)({},t.documents),{},{results:t.documents.results.filter((function(e){return!e.folder_relative_path.includes(n)}))})}):"photo"==e?Object(l.a)(Object(l.a)({},t),{},{allFiles:Le(ke(t.allFiles.filter((function(e){return e.id!=a})),"title")),photos:Object(l.a)(Object(l.a)({},t.photos),{},{results:t.photos.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))}):"video"==e?Object(l.a)(Object(l.a)({},t),{},{allFiles:Le(ke(t.allFiles.filter((function(e){return e.id!=a})),"title")),videos:Object(l.a)(Object(l.a)({},t.videos),{},{results:t.videos.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))}):Object(l.a)(Object(l.a)({},t),{},{allFiles:Le(ke(t.allFiles.filter((function(e){return e.id!=a})),"title")),documents:Object(l.a)(Object(l.a)({},t.documents),{},{results:t.documents.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))})},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allFiles:[],photos:[],videos:[],documents:[],files:[],searchText:"",folderPath:[""],isUploadingFiles:!1,moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.d:return Object(l.a)(Object(l.a)({},e),{},{allFiles:Le(t.payload)});case g.g:return Object(l.a)(Object(l.a)({},e),{},{isUploadingFiles:!1,photos:t.payload,files:Le(ke(Te(e.files,Pe(t.payload.results,"photo")),"title"))});case g.h:return Object(l.a)(Object(l.a)({},e),{},{isUploadingFiles:!1,videos:t.payload,files:Le(ke(Te(e.files,Pe(t.payload.results,"video")),"title"))});case g.e:return Object(l.a)(Object(l.a)({},e),{},{isUploadingFiles:!1,documents:t.payload,files:Le(ke(Te(e.files,Pe(t.payload.results,"document")),"title"))});case g.f:return Object(l.a)(Object(l.a)({},e),{},{isUploadingFiles:!1,folders:t.payload.sort((function(e,t){var a=e.path.replace("/",""),n=t.path.replace("/","");return a>n?1:a<n?-1:0}))});case g.m:return Object(l.a)(Object(l.a)({},e),{},{searchText:t.searchText});case g.l:return Object(l.a)(Object(l.a)({},e),{},{folderPath:[].concat(Object(fe.a)(e.folderPath),[t.payload])});case g.o:return Object(l.a)(Object(l.a)({},e),{},{folderPath:Object(fe.a)(t.payload)});case g.j:var a=e.folderPath;return a.pop(),Object(l.a)(Object(l.a)({},e),{},{folderPath:a});case g.i:return Object(l.a)(Object(l.a)({},e),{},{isUploadingFiles:t.payload});case g.a:return De(t.payload.fileType,e,t.payload.id,t.payload.deleteId,t.payload.selectedItem);case g.k:return{allFiles:[],photos:[],videos:[],documents:[],files:[],searchText:"",folderPath:[""],isUploadingFiles:!1,moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}};case g.c:return Object(l.a)(Object(l.a)({},e),{},{moveFileDialog:{type:"moveFile",props:{open:!0},data:t.payload}});case g.b:return Object(l.a)(Object(l.a)({},e),{},{moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}});default:return e}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.n:return t.payload;default:return e}},Ge=Object(Ce.d)({files:ze,selectedItemId:_e}),Re=a(1865),Be=a(54),Ue=a(3587),We=a(568),Ye=a(186),He=a(933),Ve=a(1859);function qe(e){return E.a.createElement(Ve.a,{display:"flex",alignItems:"center"},E.a.createElement(Ve.a,{width:"100%",mr:1},E.a.createElement(He.a,Object.assign({variant:"determinate"},e))),E.a.createElement(Ve.a,{minWidth:35},E.a.createElement(O.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var Je=Object(y.a)({root:{width:"100%"}});function Xe(e){var t=e.progress,a=Je();return E.a.createElement("div",{className:a.root},E.a.createElement(qe,{color:"secondary",value:t}))}var Ze=a(2281),Ke=a(1819),Qe=Object(y.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function $e(e){var t=e.open,a=e.setOpen,n=e.text,r=Qe();return E.a.createElement("div",{className:Object(N.a)(r.root,"mt-8")},E.a.createElement(Ke.a,{in:t},E.a.createElement(Ze.a,{variant:"outlined",severity:"warning",action:E.a.createElement(m.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){a(!1)}},E.a.createElement(Q.a,{fontSize:"inherit"}))},n)))}var et=a(2514),tt=a(3417),at=a(2515),nt=a(2187),rt=a.n(nt),lt=a(2188),ct=a.n(lt),it=Object(y.a)((function(e){return{root:{transform:"translateZ(0px)",flexGrow:1},exampleWrapper:{position:"relative",marginTop:e.spacing(3),height:380},radioGroup:{margin:e.spacing(1,0)},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}},fab:{"&:hover":{backgroundColor:"#295da2"}}}})),ot=[{icon:E.a.createElement(rt.a,null),name:"File"},{icon:E.a.createElement(ct.a,null),name:"Folder"}];function ut(e){var t=it(),a=E.a.useState(!1),n=Object(o.a)(a,2),r=n[0],l=n[1],c=function(){l(!1)};return E.a.createElement("div",{className:Object(N.a)(t.root,"speeddial-btn")},E.a.createElement("div",{className:t.exampleWrapper},E.a.createElement(et.a,{ariaLabel:"SpeedDial example",className:Object(N.a)(t.speedDial,"custom-float-btn"),icon:E.a.createElement(tt.a,null),onClose:c,onOpen:function(){l(!0)},open:r,direction:"up"},ot.map((function(a){return E.a.createElement(at.a,{className:t.fab,key:a.name,icon:a.icon,tooltipTitle:a.name,tooltipOpen:!0,onClick:function(){e.callAction(a.name),c()}})})))))}a(243);var st=a(1864),dt=a(1818),ft=Object(V.a)((function(e){return{root:{padding:e.spacing(2)}}}))(X.a),mt=Object(V.a)((function(e){return{root:{margin:0,padding:e.spacing(1)},rightSidebar:{"&.fileInfoSidebar":{backgroundColor:"#fff"}}}}))(Z.a);var pt=function(){var e,t=Object(v.b)(),a=Object(v.c)((function(e){return e.fileManagerApp.files.moveFileDialog})),n=Object(v.c)((function(e){return e.fileManagerApp.files})),r=Object(v.c)((function(e){return e.fileManagerApp.files.folderPath})),l=null===(e=n.folders)||void 0===e?void 0:e.filter((function(e){return e.path==r[r.length-1]})),c=Object(b.useState)({fileError:"",titleError:"",descError:"",nameError:"",apiError:""}),i=Object(o.a)(c,1)[0],u=Object(b.useState)(""),s=Object(o.a)(u,2),d=s[0],f=s[1];function p(){t(g.p())}Object(b.useEffect)((function(){}),[a.props.open]);var j=a.data.relative_path;return E.a.createElement(q.a,{onClose:p,"aria-labelledby":"customized-dialog-title",open:a.props.open,maxWidth:"xs",fullWidth:"true"},E.a.createElement(dt.a,{position:"static",elevation:1},E.a.createElement(st.a,null,E.a.createElement("div",{className:"absolute right-0"},E.a.createElement(m.a,{onClick:p,edge:"start",color:"inherit","aria-label":"close"},E.a.createElement(Q.a,null))),E.a.createElement(O.a,{variant:"subtitle1",color:"inherit"},"Move File"))),E.a.createElement(ft,{dividers:!0},E.a.createElement("div",null,E.a.createElement(Re.a,{error:!!i.nameError,id:"folder",className:"mt-8 mb-16 w-full",value:j,disabled:!0,helperText:i.nameError,variant:"outlined"})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Ue.a,{options:n.folders.filter((function(e){var t;return e.path!=(null===l||void 0===l||null===(t=l[0])||void 0===t?void 0:t.path)})),style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e){return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(Re.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return f(t)},variant:"outlined"}))),E.a.createElement(mt,{className:"p-16"},E.a.createElement(h.a,{autoFocus:!0,onClick:function(){var e=a.data.type,n=a.data.mainId,r=a.data.folder_relative_path,l="photo"==e?Object(U.tb)(n):"video"==e?Object(U.ub)(n):Object(U.sb)(n),c={from:r,to:d},i=new FormData;for(var o in c)i.append(o,c[o]);Object(W.b)(l,i,(function(a){var n,r,l=null===(n=Object(Y.a)().extra)||void 0===n||null===(r=n.profile)||void 0===r?void 0:r.company;t("photo"==e?g.u(l):"video"==e?g.v(l):g.r(l)),p()}),(function(e){return console.log(e)}),W.a.PUT,Object(Y.c)())},variant:"contained",color:"secondary"},"Move")))},bt=a(195),Et=a(1926),vt=a(1987),ht=a.n(vt),Ot=a(2119),gt=a(2120),jt=a(2121),yt=a(2062),xt=a.n(yt),Nt=Object(y.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},icon:{color:"rgba(255, 255, 255, 0.54)"}}}));function At(e){var t=e.tileData,a=e.pageLayout,n=Object(v.b)(),r=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),c=Nt(),i=function(e){return"pdf"==e||"video"==e?{color:"red"}:"mp3"==e?{color:"brown"}:"docx"==e?{color:"blue"}:"xlsx"==e?{color:"green"}:{}};return E.a.createElement("div",{className:c.root},E.a.createElement(Ot.a,{cellHeight:180,className:c.gridList},t.map((function(e){return E.a.createElement(gt.a,{key:e.img},"video"==e.type?E.a.createElement(w.a,{icon:C.h,style:Object(l.a)(Object(l.a)({},i(e.type)),{},{fontSize:"2.4rem"})}):"photo"==e.type?E.a.createElement(ce.LazyLoadImage,{delayTime:300,src:e.photo,alt:e.title}):E.a.createElement(w.a,{icon:"document"==e.type?"pdf"==e.extension?C.g:"docx"==e.extension?C.i:"xlsx"==e.extension?C.e:"mp3"==e.extension?C.d:C.c:C.c,style:Object(l.a)(Object(l.a)({},i(e.extension)),{},{fontSize:"2.4rem"})}),E.a.createElement(jt.a,{title:e.title,subtitle:E.a.createElement("span",null,"size: ",e.size),actionIcon:E.a.createElement(m.a,{onClick:function(t){t.preventDefault(),t.stopPropagation(),a.current.toggleRightSidebar();var l=Object(fe.a)(r).findIndex((function(t){return t.mainId==e.mainId&&t.type==e.type})),c=r[l];n(g.C(c.id))},"aria-label":"info about ".concat(e.title),className:c.icon},E.a.createElement(xt.a,null))}))}))))}var Ft=Object(y.a)({typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}}),St=Object(y.a)((function(e){return{root:{borderRadius:"5%",backgroundColor:"#fff",boxShadow:"0 3px 6px #00000029"}}}));var It=function(e){var t=Object(v.b)(),a=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.folders})),n=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.files})),r=Object(v.c)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),c=Object(v.c)((function(e){return e.fileManagerApp.files.folderPath})),i=c[c.length-1],u=(Object(v.c)((function(e){return e.fileManagerApp.selectedItemId})),Object(v.c)((function(e){return e.fileManagerApp.files.searchText}))),s=Object(b.useState)([]),d=Object(o.a)(s,2),f=d[0],m=d[1],p=Object(b.useState)([]),h=Object(o.a)(p,2),j=h[0],y=h[1],x=(Ft(),E.a.useState()),N=Object(o.a)(x,2)[1],A=(E.a.useCallback((function(){return N({})}),[]),St()),F=function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(i)&&e.path.split("/").length<=c.length&&!c.includes(e.path)}));if(e){e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(l.a)(Object(l.a)({},e),{},{title:t,type:"folder"})})),m(e);var r=n.filter((function(e){return e.folder_relative_path==i}));y(r),t(g.z([].concat(Object(fe.a)(e),Object(fe.a)(r))))}};return Object(b.useEffect)((function(){F()}),[n,a,n.photos,n.videos,n.documents]),Object(b.useEffect)((function(){t(g.C("")),F()}),[i]),Object(b.useEffect)((function(){if(u&&u.length){var e=function(e,t){var a=Object.keys(e).map((function(t){return e[t]}));return 0===t.length?a:he.a.filterArrayByString(a,t)}(r,u);t(g.z(e))}else F()}),[u]),Object(b.useEffect)((function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(i)&&e.path.split("/").length<=c.length&&!c.includes(e.path)}));e&&(e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(l.a)(Object(l.a)({},e),{},{title:t,type:"folder"})})),t(g.z([].concat(Object(fe.a)(e),Object(fe.a)(n.filter((function(e){return e.folder_relative_path==i})))))))}),[i]),0===r.length&&u?E.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},E.a.createElement(O.a,{color:"textSecondary",variant:"h5"},"There are no files!")):E.a.createElement("div",{className:"file-folder-grid px-32"},!!f.length&&E.a.createElement(E.a.Fragment,null," ",E.a.createElement(O.a,{variant:"h6",className:"font-400 uppercase text-gray-600 mb-16"},"Folders"),E.a.createElement(Et.a,{container:!0,spacing:12},f.map((function(e){return E.a.createElement(Et.a,{className:"px-10 mb-20 sm:mb-32 folder-grid",item:!0,xs:12,sm:6,md:4,xl:3,onClick:function(){return t(g.A(e.path))}},E.a.createElement(Fe.a,{className:A.root},E.a.createElement(T.a,null,E.a.createElement(ht.a,null)),E.a.createElement(Se.a,{primary:e.title,secondary:null})))})))),!!j.length&&E.a.createElement(E.a.Fragment,null,E.a.createElement(O.a,{variant:"h6",className:"font-400 uppercase text-gray-600 mb-16"},"Files"),E.a.createElement(Et.a,{container:!0,spacing:12,className:"file-grid"},E.a.createElement(At,Object.assign({tileData:j},e)))))},wt=(Object(V.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,r=Object(u.a)(e,["children","classes","onClose"]);return E.a.createElement(J.a,Object.assign({disableTypography:!0,className:a.root},r),E.a.createElement(O.a,{variant:"h6"},t),n?E.a.createElement(m.a,{"aria-label":"close",className:a.closeButton,onClick:n},E.a.createElement(Q.a,null)):null)})),Object(V.a)((function(e){return{root:{padding:e.spacing(2)}}}))(X.a)),Ct=Object(V.a)((function(e){return{root:{margin:0,padding:e.spacing(1)},rightSidebar:{"&.fileInfoSidebar":{backgroundColor:"#fff"}}}}))(Z.a);t.default=Object(Be.l)(Object(p.a)("fileManagerApp",Ge)((function(e){var t,a=Object(v.b)(),n=Object(v.c)((function(e){return e.fileManagerApp.files})),u=Object(v.c)((function(e){return e.fileManagerApp.files.folderPath})),p=Object(v.c)((function(e){return e.fileManagerApp.files.searchText})),j=Object(v.c)((function(e){return e.fileManagerApp.files.isUploadingFiles})),y=Object(v.c)((function(e){return e.chatApp.company})),x=(Object(v.c)((function(e){var t=e.fileManagerApp;return n[t.selectedItemId]})),Object(b.useRef)(null)),N=Object(b.useState)(!1),A=Object(o.a)(N,2),F=A[0],S=A[1],I=Object(b.useState)(!1),C=Object(o.a)(I,2),M=C[0],P=C[1],T=Object(b.useState)({file:null,fileType:null}),k=Object(o.a)(T,2),L=k[0],D=k[1],z=Object(b.useState)("folder"),_=Object(o.a)(z,2),G=_[0],R=_[1],H=E.a.useState(0),V=Object(o.a)(H,2),J=V[0],X=V[1],Z=Object(b.useState)(""),K=Object(o.a)(Z,2),$=K[0],ee=K[1],te=Object(b.useState)(""),ae=Object(o.a)(te,2),ne=ae[0],re=ae[1],le=Object(b.useState)(!1),ce=Object(o.a)(le,2),ie=ce[0],oe=ce[1],ue=Object(b.useState)(void 0),se=Object(o.a)(ue,2),fe=se[0],me=se[1],pe=Object(b.useState)(void 0),be=Object(o.a)(pe,2),Ee=be[0],ve=be[1],he=E.a.useState(!1),Oe=Object(o.a)(he,2),ge=Oe[0],je=Oe[1],ye=null===(t=n.folders)||void 0===t?void 0:t.filter((function(e){return e.path==u[u.length-1]})),xe=Object(b.useState)({fileError:"",titleError:"",descError:"",nameError:"",apiError:""}),Ae=Object(o.a)(xe,2),Fe=Ae[0],Se=Ae[1],Ce=function(){return Se({fileError:"",titleError:"",descError:"",nameError:""})};Object(b.useEffect)((function(){if(y.can_access_files){var t,n,r=null===(t=Object(Y.a)().extra)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.company;a(g.s(r))}else e.history.push("/apps/todo/all")}),[a]);var Me=function(){var e=Object(i.a)(r.a.mark((function e(){var t,i,o,u,s,d,f,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=M){e.next=37;break}if(P(!0),X(0),a(g.w(!0)),i=L.fileType,o=L.file,i||"file"!=G){e.next=7;break}return e.abrupt("return");case 7:if(Pe(),u=new FormData,s="image"==i?"photo":"video"==i?"video":"document","folder"!=G){e.next=14;break}e.t0={name:fe,path:n.folders&&n.folders.length?$:""},e.next=31;break;case 14:if(t={},e.t1=c.a,e.t2=t,e.t3=s,"image"!=i){e.next=24;break}return e.next=21,Object(Y.b)(o);case 21:e.t4=e.sent,e.next=25;break;case 24:e.t4=o;case 25:e.t5=e.t4,(0,e.t1)(e.t2,e.t3,e.t5),Object(c.a)(t,"title",fe),Object(c.a)(t,"description",Ee),Object(c.a)(t,"additional_path",ne||""),e.t0=t;case 31:for(f in d=e.t0)u.append(f,d[f]);m="folder"==G?Object(U.j)(y.id):"image"==i?Object(U.m)(y.id):"video"==i?Object(U.t)(y.id):Object(U.g)(y.id),Object(W.b)(m,u,(function(e){var t,n,r=null===(t=Object(Y.a)().extra)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.company;a("folder"==G?g.t(r):"image"==i?g.u(r):"video"==i?g.v(r):g.r(r))}),(function(e){Se({fileError:e.document?e.document[0]:"",titleError:e.title?e.title[0]:"",descError:e.description?e.description[0]:"",nameError:e.name?e.name[0]:"",apiError:e.detail?e.detail:""}),a(g.w(!1)),X(0)}),W.a.POST,Object(l.a)(Object(l.a)({},Object(Y.c)()),{},{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);X(t)}})),P(!1),me("");case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){D({file:null,fileType:null}),me(void 0),re(""),ve(void 0),Se({fileError:"",titleError:"",descError:"",nameError:""}),S(!1)};return E.a.createElement(E.a.Fragment,null,E.a.createElement(d.a,{classes:{root:"bg-red fileInfoSidebar",header:"p-20 bg-body",sidebarHeader:"",rightSidebar:"w-320"},header:E.a.createElement("div",{className:"flex flex-col flex-1 relative z-50"},E.a.createElement("div",{className:"flex items-center justify-between left-icon-btn"},E.a.createElement(m.a,{onClick:function(){x.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},E.a.createElement(f.a,null,"menu")),E.a.createElement(s.a,{animation:"transition.slideLeftIn",delay:300},E.a.createElement(Ye.a,{className:"flex p-4 items-center w-full max-w-512 h-48 px-8 py-4 bg-white search-white-box ml-10",elevation:1},E.a.createElement(f.a,{color:"action"},"search"),E.a.createElement(We.a,{placeholder:"Search for anything",className:"flex flex-1 px-16",disableUnderline:!0,fullWidth:!0,value:p,inputProps:{"aria-label":"Search"},onChange:function(e){return a(g.B(e))}}))),E.a.createElement("div",{className:"flex file-box-shadow rounded ml-20"},E.a.createElement(m.a,{onClick:function(){return oe(!1)},className:ie?"":"text-dark"},E.a.createElement(w.a,{icon:bt.d})),E.a.createElement(m.a,{onClick:function(){return oe(!0)}},E.a.createElement(w.a,{icon:bt.b,className:ie?"text-dark":""})))),E.a.createElement($e,{open:ge,setOpen:je,text:Fe.apiError}),E.a.createElement("div",{className:"flex flex-1 items-end"}),j&&E.a.createElement("div",{className:"linear-progress"},E.a.createElement(Xe,{progress:J}))),content:ie?E.a.createElement(Ne,{pageLayout:x}):E.a.createElement(It,{pageLayout:x}),leftSidebarVariant:"temporary",leftSidebarHeader:E.a.createElement(we,null),leftSidebarContent:E.a.createElement(Ie,null),rightSidebarHeader:E.a.createElement(de,{setProgress:X}),rightSidebarContent:E.a.createElement(B,null),ref:x,innerScroll:!0}),E.a.createElement(s.a,{animation:"transition.expandIn",delay:600},E.a.createElement(ut,{color:"secondary",className:" ltr:left-0 rtl:right-0 mx-16 z-999",callAction:function(e){return S(!0),R("Folder"==e?"folder":"file")}})),E.a.createElement(pt,null),E.a.createElement(q.a,{onClose:Pe,"aria-labelledby":"customized-dialog-title",open:F,maxWidth:"xs",fullWidth:"true"},E.a.createElement(dt.a,{position:"static",elevation:1},E.a.createElement(st.a,null,E.a.createElement("div",{className:"absolute right-0"},E.a.createElement(m.a,{onClick:Pe,edge:"start",color:"inherit","aria-label":"close"},E.a.createElement(Q.a,null))),E.a.createElement(O.a,{variant:"subtitle1",color:"inherit"},"Upload File"))),E.a.createElement(wt,{dividers:!0},"folder"==G?E.a.createElement(E.a.Fragment,null,E.a.createElement("div",null,E.a.createElement(Re.a,{error:!!Fe.nameError,name:"folder",id:"folder",label:"Folder",className:"mt-8 mb-16 w-full",value:fe,onChange:function(e){var t=e.target.value;Ce(),me(t)},helperText:Fe.nameError,variant:"outlined"})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Ue.a,{options:n.folders,style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e,t){t.selected;return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(Re.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return ee(t)},variant:"outlined",defaultValue:n.folders&&n.folders.length?null===ye||void 0===ye?void 0:ye[0]:""}))):E.a.createElement(E.a.Fragment,null,E.a.createElement("div",null,E.a.createElement(Re.a,{error:!!Fe.titleError,name:"title",id:"title",label:"Title",className:"mt-8 mb-16 w-full",value:fe,onChange:function(e){var t=e.target.value;Ce(),me(t)},variant:"outlined",helperText:Fe.titleError})),E.a.createElement("div",null,E.a.createElement(Re.a,{error:!!Fe.descError,name:"desc",label:"Description",className:"mt-8 mb-16 w-full",multiline:!0,rows:4,variant:"outlined",onChange:function(e){var t=e.target.value;Ce(),ve(t)},helperText:Fe.descError})),E.a.createElement("div",null,E.a.createElement(Re.a,{error:!!Fe.fileError,type:"file",className:"mt-8 mb-16 w-full",onChange:function(e){Ce();for(var t=e.target.files,a=0;a<t.length;a++){var n,r=null===(n=t[a].type)||void 0===n?void 0:n.split("/")[0];D({file:t[a],fileType:r})}},variant:"outlined",helperText:Fe.fileError})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Ue.a,{options:n.folders,style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e,t){t.selected;return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(Re.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return re(t)},defaultValue:null===ye||void 0===ye?void 0:ye[0],variant:"outlined"})))),E.a.createElement(Ct,{className:"p-16"},E.a.createElement(h.a,{autoFocus:!0,disabled:!("folder"==G?null===fe||void 0===fe?void 0:fe.length:(null===fe||void 0===fe?void 0:fe.length)&&L.file),onClick:Me,variant:"contained",color:"secondary"},"folder"==G?"Create":"Upload"))))})))}}]);