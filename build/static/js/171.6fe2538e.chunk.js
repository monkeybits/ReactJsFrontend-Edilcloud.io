(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[171],{3585:function(e,a,t){"use strict";t.r(a);var n=t(132),r=t.n(n),l=t(193),c=t(8),i=t(0),o=t.n(i),s=t(190),u=t(782),m=t(2099),f=t(2101),p=t(2102),d=t(2253),b=t(143),h=t(186),g=t(71),E=t(7),v=t(240),x=t(1866),j=t(11),k=t(1888),y=t(271),O=t(1867),N=t(3586),C=t(1934),w=t.n(C),F=t(1935),S=t.n(F),I=o.a.createElement(w.a,{fontSize:"small"}),q=o.a.createElement(S.a,{fontSize:"small"}),z=Object(u.a)((function(e){return{root:{background:"radial-gradient(".concat(Object(v.darken)(e.palette.primary.dark,.5)," 0%, ").concat(e.palette.primary.dark," 80%)"),color:e.palette.primary.contrastText}}}));Object(E.a)({root:{color:y.a[400],"&$checked":{color:y.a[600]}},checked:{}})((function(e){return o.a.createElement(k.a,Object.assign({color:"default"},e))}));var T=function(e){var a=e.form,t=e.handleChange,n=(e.resetForm,e.value),r=e.setValue;return z(),o.a.createElement("form",{name:"registerForm",noValidate:!0,className:"flex flex-col justify-center w-full"},o.a.createElement(x.a,{className:"mb-8",label:"First Name",autoFocus:!0,type:"text",name:"fname",value:a.fname,onChange:t,variant:"outlined",required:!0,fullWidth:!0}),o.a.createElement(x.a,{className:"mb-8",label:"Last Name",autoFocus:!0,type:"text",name:"lname",value:a.lname,onChange:t,variant:"outlined",required:!0,fullWidth:!0}),o.a.createElement(x.a,{disabled:!0,className:"mb-8",label:"Email",type:"email",name:"email",value:a.email,onChange:t,variant:"outlined",required:!0,fullWidth:!0}),o.a.createElement(N.a,{options:["English","Italian"],disableCloseOnSelect:!0,getOptionLabel:function(e){return e},renderOption:function(e,a){var t=a.selected;return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{icon:I,checkedIcon:q,style:{marginRight:8},checked:t}),e)},inputValue:n,renderInput:function(e){return o.a.createElement(x.a,Object.assign({},e,{variant:"outlined",label:"Language"}))},onInputChange:function(e,a){return r(a)}}))},_=t(2374),V=t(6),W=t(54),B=t(113),D=(t(12),t(15)),J=t(16),L=t(156),U=t(1825),A=t(1827),P=Object(u.a)((function(e){return{root:{width:"100%",background:"radial-gradient(".concat(Object(v.darken)(e.palette.primary.dark,.5)," 0%, ").concat(e.palette.primary.dark," 80%)"),color:e.palette.primary.contrastText},button:{marginTop:e.spacing(1),width:"190px"},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)}}}));a.default=Object(W.l)(Object(V.a)((function(e){return{user:e.auth.user.data}}))((function(e){var a=e.user,t=e.history,n=Object(s.c)({fname:"",lname:"",email:a&&a.email?a.email:""}),i=n.form,u=n.handleChange,E=n.resetForm,v=P(),x=o.a.useState(0),k=Object(c.a)(x,2),y=k[0],O=k[1],N=["Basic Information","Upload Profile Picture"],C=o.a.useState(""),w=Object(c.a)(C,2),F=w[0],S=w[1],I=o.a.useState(null),q=Object(c.a)(I,2),z=q[0],V=q[1],W=function(){O((function(e){return e+1})),1==y&&$()},R=function(){O((function(e){return e-1}))},$=function(){var e=Object(l.a)(r.a.mark((function e(){var a,n,l,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new FormData,e.t0=i.fname,e.t1=i.lname,e.t2="English"==F?"en":"it",!z||!z.fileData){e.next=10;break}return e.next=7,Object(D.b)(z.fileData);case 7:e.t3=e.sent,e.next=11;break;case 10:e.t3=void 0;case 11:for(c in e.t4=e.t3,n={first_name:e.t0,last_name:e.t1,language:e.t2,photo:e.t4},l=localStorage.getItem("jwt_access_token"),n)n[c]&&a.append(c,n[c]);B.a.post(J.Ub,a,{headers:{"Content-Type":"multipart/form-data",Authorization:"JWT ".concat(l)}}).then((function(e){e.data.is_invited?t.push("/apps/companies"):t.push("/create-company")})).catch((function(e){console.log(e)}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:Object(j.a)(v.root,"flex flex-col flex-auto flex-shrink-0 items-center justify-center p-20 md:p-40")},o.a.createElement("div",{className:"flex flex-col items-center justify-center w-full px-0"},o.a.createElement(L.a,{animation:"transition.expandIn"},o.a.createElement(U.a,{className:"w-full max-w-512"},o.a.createElement(A.a,{className:"flex flex-col items-center justify-center"},o.a.createElement(h.a,{square:!0,elevation:0,className:Object(j.a)(v.resetContainer,"pb-10")},o.a.createElement(g.a,null,"a few more steps and you can start using Edilcloud")),o.a.createElement(m.a,{className:"px-0",activeStep:y,orientation:"vertical"},N.map((function(e,a){return o.a.createElement(f.a,{key:e},o.a.createElement(p.a,null,e),o.a.createElement(d.a,null,o.a.createElement(g.a,null,function(e,a){switch(e){case 0:return o.a.createElement(T,a);case 1:return o.a.createElement(_.a,a);default:return"Unknown step"}}(a,0==a?{form:i,handleChange:u,resetForm:E,value:F,setValue:S}:{setFile:V,file:z,remove:function(){return V(null)}})),o.a.createElement("div",{className:Object(j.a)(v.actionsContainer,"text-center custom-btn-group mt-12")},o.a.createElement("div",null,o.a.createElement(b.a,{variant:"contained",disabled:0===y,onClick:R,size:"large",className:Object(j.a)(v.button,"mr-8")},"Back"),o.a.createElement(b.a,{size:"large",variant:"contained",color:"primary",onClick:W,className:v.button},y===N.length-1?"Finish":"Next")))))}))),y===N.length&&o.a.createElement(h.a,{square:!0,elevation:0,className:v.resetContainer},o.a.createElement(g.a,null,"All steps completed - you're finished")))))))})))}}]);