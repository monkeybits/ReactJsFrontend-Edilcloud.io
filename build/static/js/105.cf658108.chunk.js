(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[105],{1923:function(t,e,n){"use strict";n.d(e,"g",(function(){return j})),n.d(e,"f",(function(){return R})),n.d(e,"o",(function(){return P})),n.d(e,"d",(function(){return v})),n.d(e,"q",(function(){return I})),n.d(e,"l",(function(){return g})),n.d(e,"k",(function(){return C})),n.d(e,"a",(function(){return D})),n.d(e,"c",(function(){return S})),n.d(e,"b",(function(){return L})),n.d(e,"p",(function(){return T})),n.d(e,"n",(function(){return w})),n.d(e,"y",(function(){return x})),n.d(e,"J",(function(){return M})),n.d(e,"I",(function(){return G})),n.d(e,"H",(function(){return N})),n.d(e,"A",(function(){return k})),n.d(e,"B",(function(){return B})),n.d(e,"G",(function(){return U})),n.d(e,"E",(function(){return F})),n.d(e,"t",(function(){return q})),n.d(e,"u",(function(){return H})),n.d(e,"x",(function(){return _})),n.d(e,"w",(function(){return z})),n.d(e,"F",(function(){return V})),n.d(e,"h",(function(){return f})),n.d(e,"r",(function(){return b})),n.d(e,"i",(function(){return m})),n.d(e,"K",(function(){return O})),n.d(e,"z",(function(){return A})),n.d(e,"j",(function(){return J})),n.d(e,"e",(function(){return K})),n.d(e,"s",(function(){return W})),n.d(e,"m",(function(){return Y})),n.d(e,"C",(function(){return X})),n.d(e,"v",(function(){return Q})),n.d(e,"L",(function(){return Z})),n.d(e,"D",(function(){return $}));var r=n(31),a=n(291),c=n(10),o=n(64),i=n(26),u=n.n(i),d=n(92),s=function t(e){Object(d.a)(this,t);var n=e||{};this.id=n.id||r.a.generateGUID(),this.name=n.name||"",this.description=n.description||"",this.idAttachmentCover=n.idAttachmentCover||"",this.idMembers=n.idMembers||[],this.idLabels=n.idLabels||[],this.attachments=n.attachments||[],this.subscribed=n.subscribed||!0,this.checklists=n.checklists||[],this.checkItems=n.checkItems||0,this.checkItemsChecked=n.checkItemsChecked||0,this.comments=n.comments||[],this.activities=n.activities||[],this.due=n.due||""},l=function t(e){Object(d.a)(this,t);var n=e||{};this.id=n.id||r.a.generateGUID(),this.name=n.name||"",this.idCards=[]},p=n(1950),f="[SCRUMBOARD APP] GET BOARDS",b="[SCRUMBOARD APP] RESET BOARDS",m="[SCRUMBOARD APP] NEW BOARD";function O(t){return{type:p.k}}function A(t){return function(t){a.a.push({pathname:"/create-company"})}}var E=n(8),y=function(t,e,n){var r=Array.from(t),a=r.splice(e,1),c=Object(E.a)(a,1)[0];return r.splice(n,0,c),r},h=y,j="[SCRUMBOARD APP] GET BOARD",R="[SCRUMBOARD APP] DELETE BOARD",P="[SCRUMBOARD APP] RENAME BOARD",v="[SCRUMBOARD APP] CHANGE BOARD SETTINGS",I="[SCRUMBOARD APP] RESET BOARD",g="[SCRUMBOARD APP] ORDER LIST",C="[SCRUMBOARD APP] ORDER CARD",D="[SCRUMBOARD APP] ADD CARD",S="[SCRUMBOARD APP] ADD LIST",L="[SCRUMBOARD APP] ADD LABEL",T="[SCRUMBOARD APP] RENAME LIST",w="[SCRUMBOARD APP] REMOVE LIST";function x(t){var e=u.a.get("/api/scrumboard-app/board",{params:t});return function(t){return e.then((function(e){return t({type:j,payload:e.data})}),(function(e){t(Object(o.G)({message:e.response.data,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),a.a.push({pathname:"/apps/companies"})}))}}function M(){return{type:I}}function G(t){return function(e,n){var r=n().scrumboardApp.board,a=r.lists,c=h(a,t.source.index,t.destination.index);return u.a.post("/api/scrumboard-app/list/order",{boardId:r.id,lists:c}).then((function(t){e(Object(o.G)({message:"List Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}}))})),e({type:g,payload:c})}}function N(t){return function(e,n){var r=n().scrumboardApp.board,a=function(t,e,n){var r=c.a.find(t,{id:e.droppableId}),a=c.a.find(t,{id:n.droppableId}),o=r.idCards[e.index];if(e.droppableId===n.droppableId){var i=y(r.idCards,e.index,n.index);return t.map((function(t){return t.id===e.droppableId&&(t.idCards=i),t}))}return r.idCards.splice(e.index,1),a.idCards.splice(n.index,0,o),t.map((function(t){return t.id===e.droppableId?r:t.id===n.droppableId?a:t}))}(r.lists,t.source,t.destination);return u.a.post("/api/scrumboard-app/card/order",{boardId:r.id,lists:a}).then((function(t){e(Object(o.G)({message:"Card Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}}))})),e({type:C,payload:a})}}function k(t,e,n){var r=new s({name:n}),a=u.a.post("/api/scrumboard-app/card/new",{boardId:t,listId:e,data:r});return function(t){return new Promise((function(e,n){a.then((function(n){return e(n.data),t({type:D,payload:n.data})}))}))}}function B(t,e){var n=new l({name:e}),r=u.a.post("/api/scrumboard-app/list/new",{boardId:t,data:n});return function(t){return r.then((function(e){return t({type:S,payload:e.data})}))}}function U(t,e,n){var r=u.a.post("/api/scrumboard-app/list/rename",{boardId:t,listId:e,listTitle:n});return function(t){return r.then((function(r){return t({type:T,listId:e,listTitle:n})}))}}function F(t,e){var n=u.a.post("/api/scrumboard-app/list/remove",{boardId:t,listId:e});return function(t){return n.then((function(n){return t({type:w,listId:e})}))}}function q(t){return function(e){return e({type:L,payload:t})}}function H(t){return function(e,n){var r=n().scrumboardApp.board,a=c.a.merge(r.settings,t);return u.a.post("/api/scrumboard-app/board/settings/update",{boardId:r.id,settings:a}).then((function(t){return e({type:v,payload:t.data})}))}}function _(t){var e=u.a.post("/api/scrumboard-app/board/delete",{boardId:t});return function(t){return e.then((function(e){return a.a.push({pathname:"/apps/companies"}),t({type:R})}))}}function z(t){c.a.merge(t,{id:r.a.generateGUID(),name:"".concat(t.name," (Copied)"),uri:"".concat(t.uri,"-copied")});return function(t){return t(A()),{type:"[SCRUMBOARD APP] COPY BOARD"}}}function V(t,e){var n=u.a.post("/api/scrumboard-app/board/rename",{boardId:t,boardTitle:e});return function(t){return n.then((function(n){return t({type:P,boardTitle:e})}))}}var J="[SCRUMBOARD APP] OPEN CARD DIALOG",K="[SCRUMBOARD APP] CLOSE CARD DIALOG",W="[SCRUMBOARD APP] UPDATE CARD",Y="[SCRUMBOARD APP] REMOVE CARD";function X(t){return{type:J,payload:t}}function Q(){return{type:K}}function Z(t,e){return function(n){return u.a.post("/api/scrumboard-app/card/update",{boardId:t,card:e}).then((function(t){return n(Object(o.G)({message:"Card Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),n({type:W,payload:e})}))}}function $(t,e){return function(n){return u.a.post("/api/scrumboard-app/card/remove",{boardId:t,cardId:e}).then((function(r){return n({type:Y,boardId:t,cardId:e})}))}}},1950:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return d})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return l})),n.d(e,"m",(function(){return p})),n.d(e,"i",(function(){return f})),n.d(e,"k",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return O})),n.d(e,"x",(function(){return A})),n.d(e,"p",(function(){return E})),n.d(e,"s",(function(){return y})),n.d(e,"u",(function(){return h})),n.d(e,"v",(function(){return j})),n.d(e,"r",(function(){return R})),n.d(e,"t",(function(){return P})),n.d(e,"B",(function(){return v})),n.d(e,"w",(function(){return I})),n.d(e,"z",(function(){return g})),n.d(e,"q",(function(){return C})),n.d(e,"n",(function(){return D})),n.d(e,"l",(function(){return S})),n.d(e,"j",(function(){return L})),n.d(e,"o",(function(){return T})),n.d(e,"C",(function(){return w})),n.d(e,"D",(function(){return x})),n.d(e,"A",(function(){return M})),n.d(e,"y",(function(){return G}));n(26);var r=n(12),a=n(16),c=n(15),o="[FILE MANAGER APP] GET ALL FILES",i="[FILE MANAGER APP] DELETE FILE",u="[FILE MANAGER APP] GET PHOTOS",d="[FILE MANAGER APP] GET VIDEOS",s="[FILE MANAGER APP] GET DOCUMENTS",l="[FILE MANAGER APP] GET FOLDERS",p="[FILE MANAGER APP] SET SEARCH TEXT",f="[FILE MANAGER APP] HANDLE UPLOAD LOADING",b="[FILE MANAGER APP] RESET FILES",m="[FILE MANAGER APP] FILE MOVE OPEN DIALOG",O="[FILE MANAGER APP] FILE MOVE CLOSE DIALOG";function A(t){return{type:m,payload:t}}function E(){return{type:O}}function y(t){return function(e,n){e(h(t)),e(j(t)),e(R(t)),e(P(t))}}function h(t){return function(e,n){Object(r.b)(Object(a.wb)(t),{},(function(t){e({type:u,payload:t})}),(function(t){return console.log(t)}),r.a.GET,Object(c.c)())}}function j(t){return function(e,n){Object(r.b)(Object(a.Yb)(t),{},(function(t){e({type:d,payload:t})}),(function(t){return console.log(t)}),r.a.GET,Object(c.c)())}}function R(t){return function(e,n){Object(r.b)(Object(a.G)(t),{},(function(t){e({type:s,payload:t})}),(function(t){return console.log(t)}),r.a.GET,Object(c.c)())}}function P(t){return function(e,n){Object(r.b)(Object(a.U)(t),{},(function(t){e({type:l,payload:t})}),(function(t){return console.log(t)}),r.a.GET,Object(c.c)())}}function v(t){return{type:p,searchText:t.target.value}}function I(t){return{type:f,payload:t}}function g(t){return{type:o,payload:t}}function C(t,e,n,r){return function(a,o){var u,d,s=null===(u=Object(c.a)().extra)||void 0===u||null===(d=u.profile)||void 0===d?void 0:d.company;"folder"==e&&a(P(s)),a({type:i,payload:{id:t,fileType:e,deleteId:n,selectedItem:r}})}}var D="[FILE MANAGER APP] SET SELECTED ITEM",S="[FILE MANAGER APP] SET FOLDER PATH",L="[FILE MANAGER APP] POP FOLDER PATH",T="[FILE MANAGER APP] UPDATE FOLDER PATH";function w(t){return{type:D,payload:t}}function x(t){return{type:T,payload:t}}function M(t){return{type:S,payload:t}}function G(t){return{type:L,payload:t}}},2066:function(t,e,n){"use strict";var r=n(2),a=n(8),c=n(0),o=n.n(c),i=n(2139),u=n(1948),d=n.n(u),s=n(439),l=n.n(s),p=n(144),f=n(12),b=(n(16),n(15)),m=n(837);e.a=function(t){var e=t.isShowRequests,n=t.setIsShowRequests,c=(t.request,t.afterSuccess),u=t.acceptAPI,s=t.rejectAPI,O=o.a.useState({isAccept:!1,isReject:!1}),A=Object(a.a)(O,2),E=A[0],y=A[1],h=function(t){return function(e){(!e||"keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&n(t)}},j=function(){return y((function(t){return Object(r.a)(Object(r.a)({},t),{},{isAccept:!1})}))},R=function(){return y((function(t){return Object(r.a)(Object(r.a)({},t),{},{isReject:!1})}))};return o.a.createElement(i.a,{anchor:"bottom",open:e,onClose:h(!1),onOpen:h(!0)},o.a.createElement("div",{className:"flex flex-wrap justify-between items-center p-40 sm:p-56 px-32"},o.a.createElement("h2",{className:"font-semibold"},"Sure you want to Accept Request ?"),o.a.createElement("div",{className:"mt-20 md:mt-0"},o.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){y((function(t){return Object(r.a)(Object(r.a)({},t),{},{isAccept:!0})})),Object(f.b)(u,{},(function(t){j(),c()}),(function(t){j()}),f.a.PUT,Object(b.c)())},startIcon:o.a.createElement(d.a,null),className:"mr-10"},"Accept ",E.isAccept&&o.a.createElement(m.a,{size:15,color:"secondary"})),o.a.createElement(p.a,{variant:"contained",onClick:function(){y((function(t){return Object(r.a)(Object(r.a)({},t),{},{isReject:!0})})),Object(f.b)(s,{},(function(t){console.log(t),R(),c()}),(function(t){console.log(t),R()}),f.a.PUT,Object(b.c)())},color:"secondary",startIcon:o.a.createElement(l.a,null)},"Reject ",E.isReject&&o.a.createElement(m.a,{size:15,color:"primary"})))))}},2282:function(t,e,n){"use strict";var r=n(77),a=n(13),c=n(2),o=n(10),i=n(1923),u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.g:return Object(c.a)({},e.payload);case i.q:return null;case i.l:case i.k:case i.c:return Object(c.a)(Object(c.a)({},t),{},{lists:e.payload});case i.a:return Object(c.a)({},e.payload);case i.b:return Object(c.a)(Object(c.a)({},t),{},{labels:[].concat(Object(a.a)(t.labels),[e.payload])});case i.s:return Object(c.a)(Object(c.a)({},t),{},{cards:t.cards.map((function(t){return t.id===e.payload.id?e.payload:t}))});case i.m:return Object(c.a)(Object(c.a)({},t),{},{cards:o.a.reject(t.cards,{id:e.cardId}),lists:t.lists.map((function(t){return o.a.set(t,"idCards",o.a.reject(t.idCards,(function(t){return t===e.cardId}))),t}))});case i.p:return Object(c.a)(Object(c.a)({},t),{},{lists:t.lists.map((function(t){return t.id===e.listId&&(t.name=e.listTitle),t}))});case i.n:return Object(c.a)(Object(c.a)({},t),{},{lists:o.a.reject(t.lists,{id:e.listId})});case i.d:return Object(c.a)(Object(c.a)({},t),{},{settings:e.payload});case i.f:return null;case i.o:return Object(c.a)(Object(c.a)({},t),{},{name:e.boardTitle});default:return t}},d=[];function s(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC";return t.sort((function(t,r){return"ASC"===n?t[e].toLocaleLowerCase()>r[e].toLocaleLowerCase()?1:t[e].toLocaleLowerCase()<r[e].toLocaleLowerCase()?-1:0:t[e].toLocaleLowerCase()>r[e].toLocaleLowerCase()?-1:t[e].toLocaleLowerCase()<r[e].toLocaleLowerCase()?1:0}))}var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(Object(a.a)(e),Object(a.a)(t)).reduce((function(t,e){return t.find((function(t){return t.name===e.name}))?t:t.concat([e])}),[])},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.h:return s(l([].concat(Object(a.a)(t),Object(a.a)(e.payload))),"name");case i.i:return[].concat(Object(a.a)(t),[e.board]);case i.r:return[];default:return t}},f={dialogOpen:!1,data:null},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case i.j:return{dialogOpen:!0,data:e.payload};case i.s:return Object(c.a)(Object(c.a)({},t),{},{data:e.payload});case i.m:case i.e:return f;default:return t}},m=Object(r.d)({boards:p,board:u,card:b});e.a=m},3430:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n(8),c=(n(10),n(156)),o=(n(131),n(143)),i=n(932),u=n(240),d=n(71),s=n(331),l=n(11),p=n(0),f=n.n(p),b=n(6),m=n(36),O=n(1923),A=n(2282),E=n(16),y=n(12),h=n(15),j=n(28),R=n(2066),P=n(2038),v=n(585),I=n(3431),g=n(416),C=(n(27),Object(i.a)((function(t){return{root:{background:t.palette.primary.main,color:t.palette.getContrastText(t.palette.primary.main)},board:{cursor:"pointer",boxShadow:t.shadows[0],transitionProperty:"box-shadow border-color",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut,background:t.palette.primary.dark,color:t.palette.getContrastText(t.palette.primary.dark),"&:hover":{boxShadow:t.shadows[6]}},newBoard:{borderWidth:2,borderStyle:"dashed",borderColor:Object(u.fade)(t.palette.getContrastText(t.palette.primary.main),.6),"&:hover":{borderColor:Object(u.fade)(t.palette.getContrastText(t.palette.primary.main),.8)}}}})));e.default=Object(s.a)("scrumboardApp",A.a)((function(t){var e=Object(b.b)(),n=Object(b.c)((function(t){return t.scrumboardApp.boards})),i=(Object(b.c)((function(t){return t.fuse.settings.current})),C(t)),u=Object(p.useState)(!1),s=Object(a.a)(u,2),A=s[0],D=s[1],S=Object(p.useState)(!1),L=Object(a.a)(S,2),T=L[0],w=L[1],x=Object(p.useState)({}),M=Object(a.a)(x,2),G=M[0],N=M[1];Object(p.useEffect)((function(){e({type:O.r}),k(),B()}),[e]);var k=function(){Object(y.b)(E.x,{},(function(t){if(Array.isArray(t)){var n=t.filter((function(t){return t.company&&t.status}));e({type:O.h,payload:n.map((function(t){return t.company&&Object(r.a)(Object(r.a)({},t.company),{},{company_profile_id:t.id,isApproved:!0})}))})}}),(function(t){return console.log(t)}),y.a.GET,Object(h.c)())},B=function(){Object(y.b)(E.Fb,{},(function(t){var n=t.results;if(Array.isArray(n)){var a=n.filter((function(t){return t.company&&t.status}));e({type:O.h,payload:a.map((function(t){return t.company&&Object(r.a)(Object(r.a)({},t.company),{},{uidb36:t.uidb36,token:t.token,isApproved:!1})}))})}}),(function(t){return console.log(t)}),y.a.GET,Object(h.c)())},U=function(t){Object(y.b)(Object(E.eb)(t),{},(function(t){return e(j.o(t))}),(function(t){return console.log({err:t})}),y.a.GET,Object(h.c)())};return T?f.a.createElement(g.a,null):f.a.createElement("div",{className:Object(l.a)(i.root,"flex flex-grow flex-shrink-0 flex-col items-center")},f.a.createElement("div",{className:"flex flex-grow flex-shrink-0 flex-col items-center container px-16 md:px-24"},f.a.createElement(c.a,null,f.a.createElement(d.a,{className:"mt-44 sm:mt-56 sm:py-24 text-32",color:"inherit"},"Companies List")),f.a.createElement("div",null,f.a.createElement("div",{className:"flex flex-wrap w-full justify-center py-32 px-16"},!!n.length&&n.map((function(n){return f.a.createElement("div",{className:"w-224 h-224 p-16",key:n.id},f.a.createElement(m.a,{to:"#",onClick:function(r){r.preventDefault(),r.stopPropagation(),N(n),n.isApproved?(w(!0),function(n){var r=n;window.Print&&window.Print.postMessage(r.toString()),window.OneSignal.push((function(){window.OneSignal.setExternalUserId(r)})),Object(y.b)(Object(E.Cb)(n),{token:Object(h.e)()},(function(n){U(n.main_profile),Object(h.f)(n.main_profile),Object(h.g)(n.token),w(!1),e(O.K()),e(j.k(n.token)),t.history.push("/apps/todo/all")}),(function(t){w(!1),console.log(t)}),y.a.POST)}(n.company_profile_id)):(D(!0),N(n))},className:Object(l.a)(i.board,"flex flex-col items-center justify-center w-full h-full rounded py-24"),role:"button"},n.company_profile_id==G.company_profile_id&&T?f.a.createElement(I.a,{style:{background:"darkgrey"}},f.a.createElement(v.a,{src:n.logo,variant:"square",className:"company-img"},n.name.split("")[0])):f.a.createElement(f.a.Fragment,null,n.isApproved?f.a.createElement(f.a.Fragment,null,f.a.createElement(v.a,{src:n.logo,variant:"square",className:"company-img"},n.name.split("")[0])):f.a.createElement(P.a,{invisible:n.isApproved,color:"secondary",onClick:function(t){t.stopPropagation(),t.preventDefault(),D(!0),N(n)}},f.a.createElement(v.a,{src:n.logo,variant:"square",className:"company-img"},n.name.split("")[0]))),f.a.createElement(d.a,{className:"text-16 font-300 text-center pt-16 px-32",color:"inherit"},n.name)))})),f.a.createElement("div",{className:"w-224 h-224 p-16"},f.a.createElement("div",{className:Object(l.a)(i.board,i.newBoard,"flex flex-col items-center justify-center w-full h-full rounded py-24"),onClick:function(){return e(O.z())},onKeyDown:function(){return e(O.z())},role:"button",tabIndex:0},f.a.createElement(o.a,{className:"text-56"},"add_circle"),f.a.createElement(d.a,{className:"text-16 font-300 text-center pt-16 px-32",color:"inherit"},"Create new company")))))),f.a.createElement(R.a,{afterSuccess:function(){e({type:O.r}),k(),B(),D(!1)},isShowRequests:A,setIsShowRequests:D,request:G,acceptAPI:Object(E.a)(G.uidb36,G.token),rejectAPI:Object(E.Db)(G.uidb36,G.token)}))}))}}]);