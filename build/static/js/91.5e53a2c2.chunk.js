(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[91],{1907:function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return o})),a.d(t,"h",(function(){return u})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return d})),a.d(t,"m",(function(){return f})),a.d(t,"i",(function(){return m})),a.d(t,"k",(function(){return p})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return E})),a.d(t,"x",(function(){return v})),a.d(t,"p",(function(){return h})),a.d(t,"s",(function(){return O})),a.d(t,"u",(function(){return g})),a.d(t,"v",(function(){return j})),a.d(t,"r",(function(){return y})),a.d(t,"t",(function(){return x})),a.d(t,"B",(function(){return N})),a.d(t,"w",(function(){return A})),a.d(t,"z",(function(){return F})),a.d(t,"q",(function(){return I})),a.d(t,"n",(function(){return S})),a.d(t,"l",(function(){return M})),a.d(t,"j",(function(){return C})),a.d(t,"o",(function(){return w})),a.d(t,"C",(function(){return P})),a.d(t,"D",(function(){return T})),a.d(t,"A",(function(){return k})),a.d(t,"y",(function(){return L}));a(26);var n=a(11),l=a(15),r=a(14),c="[FILE MANAGER APP] GET ALL FILES",i="[FILE MANAGER APP] DELETE FILE",o="[FILE MANAGER APP] GET PHOTOS",u="[FILE MANAGER APP] GET VIDEOS",s="[FILE MANAGER APP] GET DOCUMENTS",d="[FILE MANAGER APP] GET FOLDERS",f="[FILE MANAGER APP] SET SEARCH TEXT",m="[FILE MANAGER APP] HANDLE UPLOAD LOADING",p="[FILE MANAGER APP] RESET FILES",b="[FILE MANAGER APP] FILE MOVE OPEN DIALOG",E="[FILE MANAGER APP] FILE MOVE CLOSE DIALOG";function v(e){return{type:b,payload:e}}function h(){return{type:E}}function O(e){return function(t,a){t(g(e)),t(j(e)),t(y(e)),t(x(e))}}function g(e){return function(t,a){Object(n.b)(Object(l.vb)(e),{},(function(e){t({type:o,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(r.c)())}}function j(e){return function(t,a){Object(n.b)(Object(l.Xb)(e),{},(function(e){t({type:u,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(r.c)())}}function y(e){return function(t,a){Object(n.b)(Object(l.G)(e),{},(function(e){t({type:s,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(r.c)())}}function x(e){return function(t,a){Object(n.b)(Object(l.U)(e),{},(function(e){t({type:d,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(r.c)())}}function N(e){return{type:f,searchText:e.target.value}}function A(e){return{type:m,payload:e}}function F(e){return{type:c,payload:e}}function I(e,t,a,n){return function(l,c){var o,u,s=null===(o=Object(r.a)().extra)||void 0===o||null===(u=o.profile)||void 0===u?void 0:u.company;"folder"==t&&l(x(s)),l({type:i,payload:{id:e,fileType:t,deleteId:a,selectedItem:n}})}}var S="[FILE MANAGER APP] SET SELECTED ITEM",M="[FILE MANAGER APP] SET FOLDER PATH",C="[FILE MANAGER APP] POP FOLDER PATH",w="[FILE MANAGER APP] UPDATE FOLDER PATH";function P(e){return{type:S,payload:e}}function T(e){return{type:w,payload:e}}function k(e){return{type:M,payload:e}}function L(e){return{type:C,payload:e}}},2006:function(e,t,a){"use strict";var n=a(200),l=a(244),r=a(0),c=a.n(r),i=a(149),o=a(7),u=a(1769),s=a(1786),d=a(1787),f=a(1788),m=a(446),p=a.n(m),b=a(74),E=Object(o.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,r=e.onClose,i=Object(n.a)(e,["children","classes","onClose"]);return c.a.createElement(s.a,Object.assign({disableTypography:!0,className:a.root},i),c.a.createElement(b.a,{variant:"h6"},t),r?c.a.createElement(l.a,{"aria-label":"close",className:a.closeButton,onClick:r},c.a.createElement(p.a,null)):null)})),v=Object(o.a)((function(e){return{root:{padding:e.spacing(2)}}}))(d.a),h=Object(o.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(f.a);t.a=function(e){var t=e.isOpenDeleteDialog,a=e.colseDeleteFileDialog,n=e.onYes,l=e.onNo,r=e.text;return c.a.createElement(u.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:t,maxWidth:"xs",fullWidth:"true"},c.a.createElement(E,{id:"customized-dialog-title",onClose:a},"Delete"),c.a.createElement(v,{dividers:!0},c.a.createElement("div",null,r)),c.a.createElement(h,null,c.a.createElement(i.a,{autoFocus:!0,onClick:n,variant:"contained",color:"secondary"},"yes"),c.a.createElement(i.a,{autoFocus:!0,onClick:l,variant:"contained",color:"secondary"},"No")))}},2129:function(e,t){},2130:function(e,t){},2131:function(e,t){},2132:function(e,t){},2133:function(e,t){},3446:function(e,t,a){"use strict";a.r(t);var n=a(139),l=a.n(n),r=a(2),c=a(36),i=a(202),o=a(8),u=a(200),s=a(162),d=a(249),f=a(113),m=a(244),p=a(345),b=a(0),E=a.n(b),v=a(6),h=a(149),O=a(74),g=a(1907);var j=function(e){var t=e.className,a=e.selected,n=Object(v.c)(),l=function(e){var t=a.filter((function(t,a){return a<=e}));console.log({newFolders:t}),n(g.D(t))};return E.a.createElement(O.a,{className:t},a.map((function(e,t){var n=e.split("/"),r=n[n.length-1];return E.a.createElement("span",{key:t,className:"flex items-center"},0==t?E.a.createElement(h.a,{className:"font-bold underline",onClick:function(){return l(t)}},"My Drive"):E.a.createElement(h.a,{className:"font-bold underline",onClick:function(){return l(t)}},r),a.length-1!==t&&E.a.createElement(f.a,null,"chevron_right"))})))},y=a(843),x=a(958),N=a(1836),A=a(3),F=a(57),I=a.n(F),S=a(2210);a(2135);S.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(S.c.version,"/pdf.worker.js");var M=function(e){var t=e.file,a=e.height,n=e.width,l=Object(b.useState)(null),r=Object(o.a)(l,2),c=r[0],i=r[1],u=Object(b.useState)(1),s=Object(o.a)(u,2),d=s[0],f=s[1];return E.a.createElement("div",null,E.a.createElement(S.a,{options:{cMapUrl:"//cdn.jsdelivr.net/npm/pdfjs-dist@".concat(S.c.version,"/cmaps/"),cMapPacked:!0},file:t,onLoadSuccess:function(e){var t=e.numPages;i(t)}},E.a.createElement(S.b,Object.assign({size:"A4"},{height:a,width:n},{pageNumber:d}))),E.a.createElement("p",{className:"text-center"},E.a.createElement(h.a,{onClick:function(){return f((function(e){return 1!=e?e-1:1}))},type:"button"},"<"),"Page ",d," of ",c,E.a.createElement(h.a,{onClick:function(){return f((function(e){return e!=c?e+1:c}))},type:"button"},">")))},C=a(75),w=a(108),P=Object(x.a)({table:{"& th":{padding:"16px 0"}},typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}});var T=function(e){var t=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),a=Object(v.d)((function(e){var a=e.fileManagerApp;return t[a.selectedItemId]})),n=P();if(!a)return null;var l=function(e){return I()(e).format("MMMM Do YYYY, h:mm a")},c=function(e){return e||"-"},i=function(e){return"pdf"==e||"video"==e?{color:"red"}:"mp3"==e?{color:"brown"}:"docx"==e?{color:"blue"}:"xlsx"==e?{color:"green"}:{}};return E.a.createElement(s.a,{animation:"transition.slideUpIn",delay:600},E.a.createElement("div",{className:"file-details p-16 sm:p-24"},E.a.createElement("div",{className:"preview file-icon flex items-center justify-center mb-12"},"photo"==a.type?E.a.createElement("img",{src:a.photo}):"pdf"==a.extension?E.a.createElement(M,{height:256,width:270,file:a.document}):"video"==a.type?E.a.createElement(C.a,{icon:w.h,style:Object(r.a)(Object(r.a)({},i(a.type)),{},{fontSize:"2.4rem"})}):E.a.createElement(C.a,{icon:"document"==a.type?"pdf"==a.extension?w.g:"docx"==a.extension?w.i:"xlsx"==a.extension?w.e:"mp3"==a.extension?w.d:w.c:w.c,style:Object(r.a)(Object(r.a)({},i(a.extension)),{},{fontSize:"2.4rem"})})),E.a.createElement(y.a,{className:"offline-switch",control:E.a.createElement(N.a,{checked:a.offline,"aria-label":"Available Offline"}),label:"Available Offline"}),E.a.createElement(O.a,{variant:"subtitle1",className:"py-16"},"Info"),E.a.createElement("table",{className:Object(A.default)(n.table,"w-full text-justify")},E.a.createElement("tbody",null,E.a.createElement("tr",{className:"type"},E.a.createElement("th",null,"Type"),E.a.createElement("td",null,c(a.type))),E.a.createElement("tr",{className:"size"},E.a.createElement("th",null,"Size"),E.a.createElement("td",null,""===a.size?"-":a.size)),E.a.createElement("tr",{className:"location"},E.a.createElement("th",null,"Location"),E.a.createElement("td",null,c(a.location))),E.a.createElement("tr",{className:"owner"},E.a.createElement("th",null,"Owner"),E.a.createElement("td",null,c(a.owner))),E.a.createElement("tr",{className:"modified"},E.a.createElement("th",null,"Modified"),E.a.createElement("td",null,l(a.date_last_modify))),E.a.createElement("tr",{className:"opened"},E.a.createElement("th",null,"Opened"),E.a.createElement("td",null,c(a.opened))),E.a.createElement("tr",{className:"created"},E.a.createElement("th",null,"Created"),E.a.createElement("td",null,l(a.date_create)))))))},k=a(15),L=a(11),D=a(14),_=a(2136),z=a.n(_),G=a(2006),R=a(7),B=a(1769),U=a(1786),Y=a(1787),W=a(1788),H=a(446),V=a.n(H),q=a(96),J=a(97),K=a(161),X=a(160),Z=a(2137),Q=a.n(Z),$=a(2138),ee=(b.Component,a(2076)),te=Object(R.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(u.a)(e,["children","classes","onClose"]);return E.a.createElement(U.a,Object.assign({disableTypography:!0,className:a.root},l),E.a.createElement(O.a,{variant:"h6"},t),n?E.a.createElement(m.a,{"aria-label":"close",className:a.closeButton,onClick:n},E.a.createElement(V.a,null)):null)})),ae=Object(R.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Y.a),ne=Object(R.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(W.a);var le=function(e){var t,a=e.isOpenViewFile,n=e.closeViewFile,l=Object(b.useState)(null),c=Object(o.a)(l,2),i=c[0],u=c[1],s=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),d=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.files})),f=Object(v.d)((function(e){return e.fileManagerApp.selectedItemId})),m=Object(b.useState)(null),p=Object(o.a)(m,2),O=p[0],g=p[1];return Object(b.useEffect)((function(){console.log({currentIndex:i});var e=d[i];g(e)}),[i]),Object(b.useEffect)((function(){if(Array.isArray(d)&&s[f]){var e=s[f],t=d.findIndex((function(t){return t.mainId==e.mainId&&t.type==e.type}));if(console.log({findIndex:t,Allfiles:d}),t>=0){u(t);var a=d[t];g(a)}}}),[f,d,s]),E.a.createElement(B.a,{onClose:n,"aria-labelledby":"customized-dialog-title",open:a,fullWidth:"true"},E.a.createElement(te,{id:"customized-dialog-title",onClose:n},null===O||void 0===O?void 0:O.title),E.a.createElement(ae,{dividers:!0},"photo"==(null===O||void 0===O?void 0:O.type)?E.a.createElement(ee.LazyLoadImage,{delayTime:300,src:null===O||void 0===O?void 0:O.photo,alt:null===O||void 0===O?void 0:O.title}):"video"==(null===O||void 0===O?void 0:O.type)?E.a.createElement("video",{autoPlay:!0,src:null===O||void 0===O?void 0:O.video}):"pdf"==(null===O||void 0===O?void 0:O.extension)?E.a.createElement(M,{height:700,file:O.document}):E.a.createElement(C.a,{icon:"document"==(null===O||void 0===O?void 0:O.type)?"pdf"==(null===O||void 0===O?void 0:O.extension)?w.g:"docx"==(null===O||void 0===O?void 0:O.extension)?w.i:"xlsx"==(null===O||void 0===O?void 0:O.extension)?w.e:"mp3"==(null===O||void 0===O?void 0:O.extension)?w.d:w.c:w.c,style:Object(r.a)(Object(r.a)({},(t=null===O||void 0===O?void 0:O.extension,"pdf"==t||"video"==t?{color:"red"}:"mp3"==t?{color:"brown"}:"docx"==t?{color:"blue"}:"xlsx"==t?{color:"green"}:{})),{},{fontSize:"2.4rem"})})),E.a.createElement(ne,{className:"p-8"},E.a.createElement(h.a,{variant:"contained",color:"primary",disabled:0==i,onClick:function(){i>0&&u((function(e){return e-1}))}},"Previous"),E.a.createElement(h.a,{variant:"contained",color:"primary",disabled:i==(null===d||void 0===d?void 0:d.length)-1,onClick:function(){i<(null===d||void 0===d?void 0:d.length)-1&&u((function(e){return e+1}))}},"Next")))};var re=function(e){var t=e.setProgress,a=Object(v.c)(),n=(Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.folders})),Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles}))),l=Object(v.d)((function(e){var t=e.fileManagerApp;return n[t.selectedItemId]})),c=Object(b.useState)(!1),i=Object(o.a)(c,2),u=i[0],d=i[1],p=Object(b.useState)(!1),h=Object(o.a)(p,2),j=h[0],y=h[1];if(!l)return null;var x=function(){return d(!1)};return"photo"==l.type?l.photo:"video"==l.type?l.video:l.document,E.a.createElement(E.a.Fragment,null,E.a.createElement(G.a,{text:"Are you sure want to delete ?",isOpenDeleteDialog:u,colseDeleteFileDialog:x,onYes:function(){var e,t,n=null===(e=Object(D.a)().extra)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.company,r=l.type,c=l.mainId,i="folder"==r?Object(k.S)(n,l.path):"photo"==r?Object(k.ub)(l.mainId):"video"==r?Object(k.Wb)(l.mainId):Object(k.F)(l.mainId);Object(L.b)(i,{},(function(e){a("folder"==r?g.q(l.id,r,l.path,l):g.q(l.id,r,c,l)),x()}),(function(e){return console.log(e)}),L.a.DELETE,Object(D.c)())},onNo:x}),E.a.createElement(le,{isOpenViewFile:j,closeViewFile:function(){return y(!1)}}),E.a.createElement("div",{className:"flex flex-col justify-between h-full p-4 sm:p-12"},E.a.createElement("div",{className:"toolbar flex align-center justify-end"},E.a.createElement(s.a,{animation:"transition.expandIn",delay:200},E.a.createElement(m.a,{onClick:function(){return d(!0)}},E.a.createElement(f.a,null,"delete"))),E.a.createElement(s.a,{animation:"transition.expandIn",delay:200},E.a.createElement(m.a,{onClick:function(){if(l){t(0),a(g.w(!0));var e="photo"==l.type?Object(k.J)(l.mainId):"video"==l.type?Object(k.K)(l.mainId):Object(k.I)(l.mainId);Object(L.b)(e,{},(function(e){e.headers;var t=e.data,n=new File([t],"".concat(l.title,".").concat(l.extension));z.a.saveAs(n),a(g.w(!1))}),(function(e){a(g.w(!1))}),L.a.GET,Object(r.a)(Object(r.a)({},Object(D.c)()),{},{responseType:"blob",onDownloadProgress:function(e){var a=Math.round(100*e.loaded/e.total);t(a)}}),!0)}}},E.a.createElement(f.a,null,"cloud_download"))),E.a.createElement(m.a,{onClick:function(){return y(!0)}},E.a.createElement(f.a,null,"visibility"))),E.a.createElement("div",{className:"p-12"},E.a.createElement(s.a,{delay:200},E.a.createElement(O.a,{variant:"subtitle1",className:"mb-8"},l.title)),E.a.createElement(s.a,{delay:300},E.a.createElement(O.a,{variant:"caption",className:""},E.a.createElement("span",null,"Edited"),E.a.createElement("span",null,": ",I()(l.date_last_modify).format("MMMM Do YYYY, h:mm a")))))))},ce=a(12),ie=a(1937),oe=a(1940),ue=a(1926),se=a(1938),de=a(1939),fe=a(31),me=Object(x.a)({typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}});var pe=function(e){var t=Object(v.c)(),a=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.folders})),n=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.files})),l=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),c=Object(v.d)((function(e){return e.fileManagerApp.files.folderPath})),i=c[c.length-1],u=Object(v.d)((function(e){return e.fileManagerApp.selectedItemId})),d=Object(v.d)((function(e){return e.fileManagerApp.files.searchText})),p=me(),h=function(e){return"pdf"==e||"video"==e?{color:"red"}:"mp3"==e?{color:"brown"}:"docx"==e?{color:"blue"}:"xlsx"==e?{color:"green"}:{}},j=function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(i)&&e.path.split("/").length<=c.length&&!c.includes(e.path)}));e&&(e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(r.a)(Object(r.a)({},e),{},{title:t,type:"folder"})})),t(g.z([].concat(Object(ce.a)(e),Object(ce.a)(n.filter((function(e){return e.folder_relative_path==i})))))))};return Object(b.useEffect)((function(){j()}),[n,a,n.photos,n.videos,n.documents]),Object(b.useEffect)((function(){if(d&&d.length){var e=function(e,t){var a=Object.keys(e).map((function(t){return e[t]}));return 0===t.length?a:fe.a.filterArrayByString(a,t)}(l,d);t(g.z(e))}else j()}),[d]),Object(b.useEffect)((function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(i)&&e.path.split("/").length<=c.length&&!c.includes(e.path)}));e&&(e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(r.a)(Object(r.a)({},e),{},{title:t,type:"folder"})})),t(g.z([].concat(Object(ce.a)(e),Object(ce.a)(n.filter((function(e){return e.folder_relative_path==i})))))))}),[i]),0===l.length&&d?E.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},E.a.createElement(O.a,{color:"textSecondary",variant:"h5"},"There are no files!")):E.a.createElement(s.a,{animation:"transition.slideUpIn",delay:300},E.a.createElement(ie.a,null,E.a.createElement(se.a,null,E.a.createElement(de.a,null,E.a.createElement(ue.a,{className:"max-w-64 w-64 p-0 text-center"}," "),E.a.createElement(ue.a,null,"Name"),E.a.createElement(ue.a,{className:"hidden sm:table-cell"},"Type"),E.a.createElement(ue.a,{className:"hidden sm:table-cell"},"Owner"),E.a.createElement(ue.a,{className:"text-center hidden sm:table-cell"},"Size"),E.a.createElement(ue.a,{className:"hidden sm:table-cell"},"Modified"),E.a.createElement(ue.a,null),E.a.createElement(ue.a,null))),E.a.createElement(oe.a,null,""!=i&&E.a.createElement(de.a,null,E.a.createElement(ue.a,{onClick:function(){return t(g.y())}},E.a.createElement(m.a,{"aria-label":"back",size:"small"},E.a.createElement(f.a,null,"more_horiz"))),E.a.createElement(ue.a,null),E.a.createElement(ue.a,{className:"hidden sm:table-cell"}),E.a.createElement(ue.a,{className:"hidden sm:table-cell"}),E.a.createElement(ue.a,{className:"hidden sm:table-cell"}),E.a.createElement(ue.a,{className:"hidden sm:table-cell"}),E.a.createElement(ue.a,null),E.a.createElement(ue.a,null)),Object.entries(l).map((function(a){var n,l=Object(o.a)(a,2),c=(l[0],l[1]);return E.a.createElement(de.a,{key:c.id,hover:!0,onClick:function(e){return"folder"==c.type?t(g.A(c.path)):t(g.C(c.id))},selected:c.id===u,className:"cursor-pointer"},E.a.createElement(ue.a,{className:"max-w-64 w-64 p-0 text-center"},"video"==c.type?E.a.createElement(C.a,{icon:w.h,style:Object(r.a)(Object(r.a)({},h(c.type)),{},{fontSize:"2.4rem"})}):"photo"==c.type?E.a.createElement(C.a,{icon:w.f,style:{color:"black",fontSize:"2.4rem"}}):"folder"==c.type?E.a.createElement(f.a,{className:Object(A.default)(p.typeIcon,c.type)},"folder"):E.a.createElement(C.a,{icon:"document"==c.type?"pdf"==c.extension?w.g:"docx"==c.extension?w.i:"xlsx"==c.extension?w.e:"mp3"==c.extension?w.d:w.c:w.c,style:Object(r.a)(Object(r.a)({},h(c.extension)),{},{fontSize:"2.4rem"})})),E.a.createElement(ue.a,null,c.title),E.a.createElement(ue.a,{className:"hidden sm:table-cell"},c.type),E.a.createElement(ue.a,{className:"hidden sm:table-cell"},c.owner||"-"),E.a.createElement(ue.a,{className:"text-center hidden sm:table-cell"},""===c.size?"-":c.size),E.a.createElement(ue.a,{className:"hidden sm:table-cell"},c.date_last_modify?(n=c.date_last_modify,I()(n).format("MMMM Do YYYY, h:mm a")):"-"),E.a.createElement(ue.a,null,E.a.createElement(m.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),t(g.x(c))},"aria-label":"open right sidebar"},E.a.createElement(f.a,null,"transform"))),E.a.createElement(ue.a,null,E.a.createElement(m.a,{onClick:function(a){a.preventDefault(),a.stopPropagation(),e.pageLayout.current.toggleRightSidebar(),t(g.C(c.id))},"aria-label":"open right sidebar"},E.a.createElement(f.a,null,"info"))))})))))},be=a(917),Ee=a(918),ve=a(1845),he=a(962);var Oe=function(){return E.a.createElement(be.a,{component:"nav"},E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"folder")),E.a.createElement(he.a,{primary:"My Files"})),E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"star")),E.a.createElement(he.a,{primary:"Starred"})),E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"folder_shared")),E.a.createElement(he.a,{primary:"Sharred with me"})),E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"access_time")),E.a.createElement(he.a,{primary:"Recent"})),E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(f.a,{className:"text-20"},"not_interested")),E.a.createElement(he.a,{primary:"Offline"})))};var ge=function(){return E.a.createElement("div",{className:"flex items-center h-full p-12"},E.a.createElement(f.a,null,"folder"),E.a.createElement(O.a,{variant:"h6",className:"mx-12"},"File Manager"))},je=a(79);a(10);function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=0>t?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}var xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e,a){return Object(r.a)(Object(r.a)({},e),{},{mainId:e.id,id:a,type:t,size:ye(e.size)})}))},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(Object(ce.a)(t),Object(ce.a)(e)).reduce((function(e,t){return e.find((function(e){return e.mainId===t.mainId}))?e:e.concat([t])}),[])};function Ae(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC";return e.sort((function(e,n){return"ASC"===a?e[t]>n[t]?1:e[t]<n[t]?-1:0:e[t]>n[t]?-1:e[t]<n[t]?1:0}))}var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{},{id:t})}))},Ie=function(e,t,a,n,l){return"folder"==e?Object(r.a)(Object(r.a)({},t),{},{allFiles:Fe(Ae(t.allFiles.filter((function(e){return e.id!=a})),"title")),folders:t.folders.filter((function(e){return e.path!=n})),files:t.files.filter((function(e){return!e.folder_relative_path.includes(n)})),photos:Object(r.a)(Object(r.a)({},t.photos),{},{results:t.photos.results.filter((function(e){return!e.folder_relative_path.includes(n)}))}),videos:Object(r.a)(Object(r.a)({},t.videos),{},{results:t.videos.results.filter((function(e){return!e.folder_relative_path.includes(n)}))}),documents:Object(r.a)(Object(r.a)({},t.documents),{},{results:t.documents.results.filter((function(e){return!e.folder_relative_path.includes(n)}))})}):"photo"==e?Object(r.a)(Object(r.a)({},t),{},{allFiles:Fe(Ae(t.allFiles.filter((function(e){return e.id!=a})),"title")),photos:Object(r.a)(Object(r.a)({},t.photos),{},{results:t.photos.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))}):"video"==e?Object(r.a)(Object(r.a)({},t),{},{allFiles:Fe(Ae(t.allFiles.filter((function(e){return e.id!=a})),"title")),videos:Object(r.a)(Object(r.a)({},t.videos),{},{results:t.videos.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))}):Object(r.a)(Object(r.a)({},t),{},{allFiles:Fe(Ae(t.allFiles.filter((function(e){return e.id!=a})),"title")),documents:Object(r.a)(Object(r.a)({},t.documents),{},{results:t.documents.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))})},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allFiles:[],photos:[],videos:[],documents:[],files:[],searchText:"",folderPath:[""],isUploadingFiles:!1,moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.d:return Object(r.a)(Object(r.a)({},e),{},{allFiles:Fe(t.payload)});case g.g:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:!1,photos:t.payload,files:Fe(Ae(Ne(e.files,xe(t.payload.results,"photo")),"title"))});case g.h:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:!1,videos:t.payload,files:Fe(Ae(Ne(e.files,xe(t.payload.results,"video")),"title"))});case g.e:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:!1,documents:t.payload,files:Fe(Ae(Ne(e.files,xe(t.payload.results,"document")),"title"))});case g.f:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:!1,folders:t.payload.sort((function(e,t){var a=e.path.replace("/",""),n=t.path.replace("/","");return a>n?1:a<n?-1:0}))});case g.m:return Object(r.a)(Object(r.a)({},e),{},{searchText:t.searchText});case g.l:return Object(r.a)(Object(r.a)({},e),{},{folderPath:[].concat(Object(ce.a)(e.folderPath),[t.payload])});case g.o:return Object(r.a)(Object(r.a)({},e),{},{folderPath:Object(ce.a)(t.payload)});case g.j:var a=e.folderPath;return a.pop(),Object(r.a)(Object(r.a)({},e),{},{folderPath:a});case g.i:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:t.payload});case g.a:return Ie(t.payload.fileType,e,t.payload.id,t.payload.deleteId,t.payload.selectedItem);case g.k:return{allFiles:[],photos:[],videos:[],documents:[],files:[],searchText:"",folderPath:[""],isUploadingFiles:!1,moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}};case g.c:return Object(r.a)(Object(r.a)({},e),{},{moveFileDialog:{type:"moveFile",props:{open:!0},data:t.payload}});case g.b:return Object(r.a)(Object(r.a)({},e),{},{moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}});default:return e}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.n:return t.payload;default:return e}},Ce=Object(je.d)({files:Se,selectedItemId:Me}),we=a(1828),Pe=a(54),Te=a(3460),ke=a(581),Le=a(196),De=a(959),_e=a(1823);function ze(e){return E.a.createElement(_e.a,{display:"flex",alignItems:"center"},E.a.createElement(_e.a,{width:"100%",mr:1},E.a.createElement(De.a,Object.assign({variant:"determinate"},e))),E.a.createElement(_e.a,{minWidth:35},E.a.createElement(O.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var Ge=Object(x.a)({root:{width:"100%"}});function Re(e){var t=e.progress,a=Ge();return E.a.createElement("div",{className:a.root},E.a.createElement(ze,{color:"secondary",value:t}))}var Be=a(2211),Ue=a(1784),Ye=Object(x.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function We(e){var t=e.open,a=e.setOpen,n=e.text,l=Ye();return E.a.createElement("div",{className:Object(A.default)(l.root,"mt-8")},E.a.createElement(Ue.a,{in:t},E.a.createElement(Be.a,{variant:"outlined",severity:"warning",action:E.a.createElement(m.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){a(!1)}},E.a.createElement(V.a,{fontSize:"inherit"}))},n)))}var He=a(2360),Ve=a(3291),qe=a(2361),Je=a(2141),Ke=a.n(Je),Xe=a(2142),Ze=a.n(Xe),Qe=Object(x.a)((function(e){return{root:{transform:"translateZ(0px)",flexGrow:1},exampleWrapper:{position:"relative",marginTop:e.spacing(3),height:380},radioGroup:{margin:e.spacing(1,0)},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}},fab:{"&:hover":{backgroundColor:"#295da2"}}}})),$e=[{icon:E.a.createElement(Ke.a,null),name:"File"},{icon:E.a.createElement(Ze.a,null),name:"Folder"}];function et(e){var t=Qe(),a=E.a.useState(!1),n=Object(o.a)(a,2),l=n[0],r=n[1],c=function(){r(!1)};return E.a.createElement("div",{className:Object(A.default)(t.root,"speeddial-btn")},E.a.createElement("div",{className:t.exampleWrapper},E.a.createElement(He.a,{ariaLabel:"SpeedDial example",className:Object(A.default)(t.speedDial,"custom-float-btn"),icon:E.a.createElement(Ve.a,null),onClose:c,onOpen:function(){r(!0)},open:l,direction:"up"},$e.map((function(a){return E.a.createElement(qe.a,{className:t.fab,key:a.name,icon:a.icon,tooltipTitle:a.name,tooltipOpen:!0,onClick:function(){e.callAction(a.name),c()}})})))))}a(257);var tt=a(1827),at=a(1783),nt=Object(R.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Y.a),lt=Object(R.a)((function(e){return{root:{margin:0,padding:e.spacing(1)},rightSidebar:{"&.fileInfoSidebar":{backgroundColor:"#fff"}}}}))(W.a);var rt=function(){var e,t=Object(v.c)(),a=Object(v.d)((function(e){return e.fileManagerApp.files.moveFileDialog})),n=Object(v.d)((function(e){return e.fileManagerApp.files})),l=Object(v.d)((function(e){return e.fileManagerApp.files.folderPath})),r=null===(e=n.folders)||void 0===e?void 0:e.filter((function(e){return e.path==l[l.length-1]})),c=Object(b.useState)({fileError:"",titleError:"",descError:"",nameError:"",apiError:""}),i=Object(o.a)(c,1)[0],u=Object(b.useState)(""),s=Object(o.a)(u,2),d=s[0],f=s[1];function p(){t(g.p())}Object(b.useEffect)((function(){}),[a.props.open]);var j=a.data.relative_path;return E.a.createElement(B.a,{onClose:p,"aria-labelledby":"customized-dialog-title",open:a.props.open,maxWidth:"xs",fullWidth:"true"},E.a.createElement(at.a,{position:"static",elevation:1},E.a.createElement(tt.a,null,E.a.createElement("div",{className:"absolute right-0"},E.a.createElement(m.a,{onClick:p,edge:"start",color:"inherit","aria-label":"close"},E.a.createElement(V.a,null))),E.a.createElement(O.a,{variant:"subtitle1",color:"inherit"},"Move File"))),E.a.createElement(nt,{dividers:!0},E.a.createElement("div",null,E.a.createElement(we.a,{error:!!i.nameError,id:"folder",className:"mt-8 mb-16 w-full",value:j,disabled:!0,helperText:i.nameError,variant:"outlined"})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Te.a,{options:n.folders.filter((function(e){var t;return e.path!=(null===r||void 0===r||null===(t=r[0])||void 0===t?void 0:t.path)})),style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e){return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(we.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return f(t)},variant:"outlined"}))),E.a.createElement(lt,{className:"p-16"},E.a.createElement(h.a,{autoFocus:!0,onClick:function(){var e=a.data.type,n=a.data.mainId,l=a.data.folder_relative_path,r="photo"==e?Object(k.sb)(n):"video"==e?Object(k.tb)(n):Object(k.rb)(n),c={from:l,to:d},i=new FormData;for(var o in c)i.append(o,c[o]);Object(L.b)(r,i,(function(a){var n,l,r=null===(n=Object(D.a)().extra)||void 0===n||null===(l=n.profile)||void 0===l?void 0:l.company;t("photo"==e?g.u(r):"video"==e?g.v(r):g.r(r)),p()}),(function(e){return console.log(e)}),L.a.PUT,Object(D.c)())},variant:"contained",color:"secondary"},"Move")))},ct=a(204),it=a(1887),ot=a(1942),ut=a.n(ot),st=a(2077),dt=a(2078),ft=a(2079),mt=a(2011),pt=a.n(mt),bt=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},icon:{color:"rgba(255, 255, 255, 0.54)"}}}));function Et(e){var t=e.tileData,a=e.pageLayout,n=Object(v.c)(),l=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),c=bt(),i=function(e){return"pdf"==e||"video"==e?{color:"red"}:"mp3"==e?{color:"brown"}:"docx"==e?{color:"blue"}:"xlsx"==e?{color:"green"}:{}};return E.a.createElement("div",{className:c.root},E.a.createElement(st.a,{cellHeight:180,className:c.gridList},t.map((function(e){return E.a.createElement(dt.a,{key:e.img},"video"==e.type?E.a.createElement(C.a,{icon:w.h,style:Object(r.a)(Object(r.a)({},i(e.type)),{},{fontSize:"2.4rem"})}):"photo"==e.type?E.a.createElement(ee.LazyLoadImage,{delayTime:300,src:e.photo,alt:e.title}):E.a.createElement(C.a,{icon:"document"==e.type?"pdf"==e.extension?w.g:"docx"==e.extension?w.i:"xlsx"==e.extension?w.e:"mp3"==e.extension?w.d:w.c:w.c,style:Object(r.a)(Object(r.a)({},i(e.extension)),{},{fontSize:"2.4rem"})}),E.a.createElement(ft.a,{title:e.title,subtitle:E.a.createElement("span",null,"size: ",e.size),actionIcon:E.a.createElement(m.a,{onClick:function(t){t.preventDefault(),t.stopPropagation(),a.current.toggleRightSidebar();var r=Object(ce.a)(l).findIndex((function(t){return t.mainId==e.mainId&&t.type==e.type})),c=l[r];n(g.C(c.id))},"aria-label":"info about ".concat(e.title),className:c.icon},E.a.createElement(pt.a,null))}))}))))}var vt=Object(x.a)({typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}}),ht=Object(x.a)((function(e){return{root:{borderRadius:"5%",backgroundColor:"#8080801c"}}}));var Ot=function(e){var t=Object(v.c)(),a=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.folders})),n=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.files})),l=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),c=Object(v.d)((function(e){return e.fileManagerApp.files.folderPath})),i=c[c.length-1],u=(Object(v.d)((function(e){return e.fileManagerApp.selectedItemId})),Object(v.d)((function(e){return e.fileManagerApp.files.searchText}))),d=Object(b.useState)([]),f=Object(o.a)(d,2),m=f[0],p=f[1],h=Object(b.useState)([]),j=Object(o.a)(h,2),y=j[0],x=j[1],N=(vt(),E.a.useState()),A=Object(o.a)(N,2)[1],F=(E.a.useCallback((function(){return A({})}),[]),ht()),I=function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(i)&&e.path.split("/").length<=c.length&&!c.includes(e.path)}));if(e){e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(r.a)(Object(r.a)({},e),{},{title:t,type:"folder"})})),p(e);var l=n.filter((function(e){return e.folder_relative_path==i}));x(l),t(g.z([].concat(Object(ce.a)(e),Object(ce.a)(l))))}};return Object(b.useEffect)((function(){I()}),[n,a,n.photos,n.videos,n.documents]),Object(b.useEffect)((function(){t(g.C("")),I()}),[i]),Object(b.useEffect)((function(){if(u&&u.length){var e=function(e,t){var a=Object.keys(e).map((function(t){return e[t]}));return 0===t.length?a:fe.a.filterArrayByString(a,t)}(l,u);t(g.z(e))}else I()}),[u]),Object(b.useEffect)((function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(i)&&e.path.split("/").length<=c.length&&!c.includes(e.path)}));e&&(e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(r.a)(Object(r.a)({},e),{},{title:t,type:"folder"})})),t(g.z([].concat(Object(ce.a)(e),Object(ce.a)(n.filter((function(e){return e.folder_relative_path==i})))))))}),[i]),0===l.length&&u?E.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},E.a.createElement(O.a,{color:"textSecondary",variant:"h5"},"There are no files!")):E.a.createElement(s.a,{animation:"transition.slideUpIn",delay:300},E.a.createElement("div",null,!!m.length&&E.a.createElement(E.a.Fragment,null," ",E.a.createElement(O.a,{variant:"h6"},"Folders"),E.a.createElement(it.a,{container:!0,spacing:12},m.map((function(e){return E.a.createElement(it.a,{className:"px-12 mb-32",item:!0,xs:12,sm:6,md:4,xl:3,onClick:function(){return t(g.A(e.path))}},E.a.createElement(Ee.a,{className:F.root},E.a.createElement(ve.a,null,E.a.createElement(ut.a,null)),E.a.createElement(he.a,{primary:e.title,secondary:null})))})))),!!y.length&&E.a.createElement(E.a.Fragment,null,E.a.createElement(O.a,{variant:"h6"},"Files"),E.a.createElement(it.a,{container:!0,spacing:12},E.a.createElement(Et,Object.assign({tileData:y},e))))))},gt=(Object(R.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(u.a)(e,["children","classes","onClose"]);return E.a.createElement(U.a,Object.assign({disableTypography:!0,className:a.root},l),E.a.createElement(O.a,{variant:"h6"},t),n?E.a.createElement(m.a,{"aria-label":"close",className:a.closeButton,onClick:n},E.a.createElement(V.a,null)):null)})),Object(R.a)((function(e){return{root:{padding:e.spacing(2)}}}))(Y.a)),jt=Object(R.a)((function(e){return{root:{margin:0,padding:e.spacing(1)},rightSidebar:{"&.fileInfoSidebar":{backgroundColor:"#fff"}}}}))(W.a);t.default=Object(Pe.l)(Object(p.a)("fileManagerApp",Ce)((function(e){var t,a=Object(v.c)(),n=Object(v.d)((function(e){return e.fileManagerApp.files})),u=Object(v.d)((function(e){return e.fileManagerApp.files.folderPath})),p=Object(v.d)((function(e){return e.fileManagerApp.files.searchText})),y=Object(v.d)((function(e){return e.fileManagerApp.files.isUploadingFiles})),x=Object(v.d)((function(e){return e.chatApp.company})),N=(Object(v.d)((function(e){var t=e.fileManagerApp;return n[t.selectedItemId]})),Object(b.useRef)(null)),A=Object(b.useState)(!1),F=Object(o.a)(A,2),I=F[0],S=F[1],M=Object(b.useState)(!1),w=Object(o.a)(M,2),P=w[0],_=w[1],z=Object(b.useState)({file:null,fileType:null}),G=Object(o.a)(z,2),R=G[0],U=G[1],Y=Object(b.useState)("folder"),W=Object(o.a)(Y,2),H=W[0],q=W[1],J=E.a.useState(0),K=Object(o.a)(J,2),X=K[0],Z=K[1],Q=Object(b.useState)(""),$=Object(o.a)(Q,2),ee=$[0],te=$[1],ae=Object(b.useState)(""),ne=Object(o.a)(ae,2),le=ne[0],ce=ne[1],ie=Object(b.useState)(!1),oe=Object(o.a)(ie,2),ue=oe[0],se=oe[1],de=Object(b.useState)(void 0),fe=Object(o.a)(de,2),me=fe[0],be=fe[1],Ee=Object(b.useState)(void 0),ve=Object(o.a)(Ee,2),he=ve[0],je=ve[1],ye=E.a.useState(!1),xe=Object(o.a)(ye,2),Ne=xe[0],Ae=xe[1],Fe=null===(t=n.folders)||void 0===t?void 0:t.filter((function(e){return e.path==u[u.length-1]})),Ie=Object(b.useState)({fileError:"",titleError:"",descError:"",nameError:"",apiError:""}),Se=Object(o.a)(Ie,2),Me=Se[0],Ce=Se[1],Pe=function(){return Ce({fileError:"",titleError:"",descError:"",nameError:""})};Object(b.useEffect)((function(){if(x.can_access_files){var t,n,l=null===(t=Object(D.a)().extra)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.company;a(g.s(l))}else e.history.push("/apps/todo/all")}),[a]);var De=function(){var e=Object(i.a)(l.a.mark((function e(){var t,i,o,u,s,d,f,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=P){e.next=37;break}if(_(!0),Z(0),a(g.w(!0)),i=R.fileType,o=R.file,i||"file"!=H){e.next=7;break}return e.abrupt("return");case 7:if(_e(),u=new FormData,s="image"==i?"photo":"video"==i?"video":"document","folder"!=H){e.next=14;break}e.t0={name:me,path:n.folders&&n.folders.length?ee:""},e.next=31;break;case 14:if(t={},e.t1=c.a,e.t2=t,e.t3=s,"image"!=i){e.next=24;break}return e.next=21,Object(D.b)(o);case 21:e.t4=e.sent,e.next=25;break;case 24:e.t4=o;case 25:e.t5=e.t4,(0,e.t1)(e.t2,e.t3,e.t5),Object(c.a)(t,"title",me),Object(c.a)(t,"description",he),Object(c.a)(t,"additional_path",le||""),e.t0=t;case 31:for(f in d=e.t0)u.append(f,d[f]);m="folder"==H?Object(k.j)(x.id):"image"==i?Object(k.m)(x.id):"video"==i?Object(k.t)(x.id):Object(k.g)(x.id),Object(L.b)(m,u,(function(e){var t,n,l=null===(t=Object(D.a)().extra)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.company;a("folder"==H?g.t(l):"image"==i?g.u(l):"video"==i?g.v(l):g.r(l))}),(function(e){Ce({fileError:e.document?e.document[0]:"",titleError:e.title?e.title[0]:"",descError:e.description?e.description[0]:"",nameError:e.name?e.name[0]:"",apiError:e.detail?e.detail:""}),a(g.w(!1)),Z(0)}),L.a.POST,Object(r.a)(Object(r.a)({},Object(D.c)()),{},{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);Z(t)}})),_(!1),be("");case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){U({file:null,fileType:null}),be(void 0),ce(""),je(void 0),Ce({fileError:"",titleError:"",descError:"",nameError:""}),S(!1)};return E.a.createElement(E.a.Fragment,null,E.a.createElement(d.a,{classes:{root:"bg-red fileInfoSidebar",header:"h-96 min-h-96 sm:h-160 sm:min-h-160",sidebarHeader:"h-96 min-h-96 sm:h-160 sm:min-h-160",rightSidebar:"w-320"},header:E.a.createElement("div",{className:"flex flex-col flex-1 p-8 sm:p-12 relative z-50"},E.a.createElement("div",{className:"flex items-center justify-between"},E.a.createElement(m.a,{onClick:function(){N.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},E.a.createElement(f.a,null,"menu")),E.a.createElement(s.a,{animation:"transition.slideLeftIn",delay:300},E.a.createElement(Le.a,{className:"flex p-4 items-center w-full max-w-512 h-48 px-8 py-4",elevation:1},E.a.createElement(f.a,{color:"action"},"search"),E.a.createElement(ke.a,{placeholder:"Search for anything",className:"flex flex-1 px-16",disableUnderline:!0,fullWidth:!0,value:p,inputProps:{"aria-label":"Search"},onChange:function(e){return a(g.B(e))}}))),E.a.createElement("div",{className:"flex"},E.a.createElement(m.a,{onClick:function(){return se(!1)},className:ue?"":"text-green-700"},E.a.createElement(C.a,{icon:ct.d})),E.a.createElement(m.a,{onClick:function(){return se(!0)}},E.a.createElement(C.a,{icon:ct.b,className:ue?"text-green-700":""})))),E.a.createElement(We,{open:Ne,setOpen:Ae,text:Me.apiError}),E.a.createElement("div",{className:"flex flex-1 items-end"},E.a.createElement(s.a,{delay:200},E.a.createElement("div",null,u&&E.a.createElement(j,{selected:u,className:"flex flex-1 ltr:pl-72 rtl:pr-72 pb-12 text-16 sm:text-24"})))),y&&E.a.createElement("div",{className:"linear-progress"},E.a.createElement(Re,{progress:X}))),content:ue?E.a.createElement(pe,{pageLayout:N}):E.a.createElement(Ot,{pageLayout:N}),leftSidebarVariant:"temporary",leftSidebarHeader:E.a.createElement(ge,null),leftSidebarContent:E.a.createElement(Oe,null),rightSidebarHeader:E.a.createElement(re,{setProgress:Z}),rightSidebarContent:E.a.createElement(T,null),ref:N,innerScroll:!0}),E.a.createElement(s.a,{animation:"transition.expandIn",delay:600},E.a.createElement(et,{color:"secondary",className:" ltr:left-0 rtl:right-0 mx-16 z-999",callAction:function(e){return S(!0),q("Folder"==e?"folder":"file")}})),E.a.createElement(rt,null),E.a.createElement(B.a,{onClose:_e,"aria-labelledby":"customized-dialog-title",open:I,maxWidth:"xs",fullWidth:"true"},E.a.createElement(at.a,{position:"static",elevation:1},E.a.createElement(tt.a,null,E.a.createElement("div",{className:"absolute right-0"},E.a.createElement(m.a,{onClick:_e,edge:"start",color:"inherit","aria-label":"close"},E.a.createElement(V.a,null))),E.a.createElement(O.a,{variant:"subtitle1",color:"inherit"},"Upload File"))),E.a.createElement(gt,{dividers:!0},"folder"==H?E.a.createElement(E.a.Fragment,null,E.a.createElement("div",null,E.a.createElement(we.a,{error:!!Me.nameError,name:"folder",id:"folder",label:"Folder",className:"mt-8 mb-16 w-full",value:me,onChange:function(e){var t=e.target.value;Pe(),be(t)},helperText:Me.nameError,variant:"outlined"})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Te.a,{options:n.folders,style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e,t){t.selected;return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(we.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return te(t)},variant:"outlined",defaultValue:n.folders&&n.folders.length?null===Fe||void 0===Fe?void 0:Fe[0]:""}))):E.a.createElement(E.a.Fragment,null,E.a.createElement("div",null,E.a.createElement(we.a,{error:!!Me.titleError,name:"title",id:"title",label:"Title",className:"mt-8 mb-16 w-full",value:me,onChange:function(e){var t=e.target.value;Pe(),be(t)},variant:"outlined",helperText:Me.titleError})),E.a.createElement("div",null,E.a.createElement(we.a,{error:!!Me.descError,name:"desc",label:"Description",className:"mt-8 mb-16 w-full",multiline:!0,rows:4,variant:"outlined",onChange:function(e){var t=e.target.value;Pe(),je(t)},helperText:Me.descError})),E.a.createElement("div",null,E.a.createElement(we.a,{error:!!Me.fileError,type:"file",className:"mt-8 mb-16 w-full",onChange:function(e){Pe();for(var t=e.target.files,a=0;a<t.length;a++){var n,l=null===(n=t[a].type)||void 0===n?void 0:n.split("/")[0];U({file:t[a],fileType:l})}},variant:"outlined",helperText:Me.fileError})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Te.a,{options:n.folders,style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e,t){t.selected;return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(we.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return ce(t)},defaultValue:null===Fe||void 0===Fe?void 0:Fe[0],variant:"outlined"})))),E.a.createElement(jt,{className:"p-16"},E.a.createElement(h.a,{autoFocus:!0,disabled:!("folder"==H?null===me||void 0===me?void 0:me.length:(null===me||void 0===me?void 0:me.length)&&R.file),onClick:De,variant:"contained",color:"secondary"},"folder"==H?"Create":"Upload"))))})))}}]);