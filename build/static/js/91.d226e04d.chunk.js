(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[91],{1759:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return s})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"m",(function(){return m})),a.d(t,"i",(function(){return f})),a.d(t,"k",(function(){return p})),a.d(t,"c",(function(){return b})),a.d(t,"b",(function(){return E})),a.d(t,"w",(function(){return v})),a.d(t,"o",(function(){return h})),a.d(t,"r",(function(){return O})),a.d(t,"t",(function(){return j})),a.d(t,"u",(function(){return g})),a.d(t,"q",(function(){return y})),a.d(t,"s",(function(){return x})),a.d(t,"A",(function(){return N})),a.d(t,"v",(function(){return A})),a.d(t,"y",(function(){return F})),a.d(t,"p",(function(){return I})),a.d(t,"n",(function(){return M})),a.d(t,"l",(function(){return S})),a.d(t,"j",(function(){return C})),a.d(t,"B",(function(){return P})),a.d(t,"z",(function(){return w})),a.d(t,"x",(function(){return T}));a(26);var n=a(13),l=a(17),r=a(15),i="[FILE MANAGER APP] GET ALL FILES",o="[FILE MANAGER APP] DELETE FILE",c="[FILE MANAGER APP] GET PHOTOS",s="[FILE MANAGER APP] GET VIDEOS",u="[FILE MANAGER APP] GET DOCUMENTS",d="[FILE MANAGER APP] GET FOLDERS",m="[FILE MANAGER APP] SET SEARCH TEXT",f="[FILE MANAGER APP] HANDLE UPLOAD LOADING",p="[FILE MANAGER APP] RESET FILES",b="[FILE MANAGER APP] FILE MOVE OPEN DIALOG",E="[FILE MANAGER APP] FILE MOVE CLOSE DIALOG";function v(e){return{type:b,payload:e}}function h(){return{type:E}}function O(e){return function(t,a){t(j(e)),t(g(e)),t(y(e)),t(x(e))}}function j(e){return function(t,a){Object(n.b)(Object(l.sb)(e),{},(function(e){t({type:c,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(r.c)())}}function g(e){return function(t,a){Object(n.b)(Object(l.Tb)(e),{},(function(e){t({type:s,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(r.c)())}}function y(e){return function(t,a){Object(n.b)(Object(l.E)(e),{},(function(e){t({type:u,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(r.c)())}}function x(e){return function(t,a){Object(n.b)(Object(l.R)(e),{},(function(e){t({type:d,payload:e})}),(function(e){return console.log(e)}),n.a.GET,Object(r.c)())}}function N(e){return{type:m,searchText:e.target.value}}function A(e){return{type:f,payload:e}}function F(e){return{type:i,payload:e}}function I(e,t,a,n){return function(l,i){var c,s,u=null===(c=Object(r.a)().extra)||void 0===c||null===(s=c.profile)||void 0===s?void 0:s.company;"folder"==t&&l(x(u)),l({type:o,payload:{id:e,fileType:t,deleteId:a,selectedItem:n}})}}var M="[FILE MANAGER APP] SET SELECTED ITEM",S="[FILE MANAGER APP] SET FOLDER PATH",C="[FILE MANAGER APP] POP FOLDER PATH";function P(e){return{type:M,payload:e}}function w(e){return{type:S,payload:e}}function T(e){return{type:C,payload:e}}},1830:function(e,t,a){"use strict";var n=a(189),l=a(229),r=a(0),i=a.n(r),o=a(143),c=a(7),s=a(1599),u=a(1616),d=a(1617),m=a(1618),f=a(322),p=a.n(f),b=a(71),E=Object(c.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,r=e.onClose,o=Object(n.a)(e,["children","classes","onClose"]);return i.a.createElement(u.a,Object.assign({disableTypography:!0,className:a.root},o),i.a.createElement(b.a,{variant:"h6"},t),r?i.a.createElement(l.a,{"aria-label":"close",className:a.closeButton,onClick:r},i.a.createElement(p.a,null)):null)})),v=Object(c.a)((function(e){return{root:{padding:e.spacing(2)}}}))(d.a),h=Object(c.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(m.a);t.a=function(e){var t=e.isOpenDeleteDialog,a=e.colseDeleteFileDialog,n=e.onYes,l=e.onNo,r=e.text;return i.a.createElement(s.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:t,maxWidth:"xs",fullWidth:"true"},i.a.createElement(E,{id:"customized-dialog-title",onClose:a},"Delete"),i.a.createElement(v,{dividers:!0},i.a.createElement("div",null,r)),i.a.createElement(h,null,i.a.createElement(o.a,{autoFocus:!0,onClick:n,variant:"contained",color:"secondary"},"yes"),i.a.createElement(o.a,{autoFocus:!0,onClick:l,variant:"contained",color:"secondary"},"No")))}},2183:function(e,t){},2184:function(e,t){},2185:function(e,t){},2186:function(e,t){},2187:function(e,t){},3278:function(e,t,a){"use strict";a.r(t);var n=a(133),l=a.n(n),r=a(2),i=a(36),o=a(191),c=a(8),s=a(189),u=a(155),d=a(234),m=a(129),f=a(229),p=a(323),b=a(0),E=a.n(b),v=a(6),h=a(71);var O=function(e){var t=e.className,a=e.selected,n=a[a.length-1].split("/");return E.a.createElement(h.a,{className:t},n.map((function(e,t){return E.a.createElement("span",{key:t,className:"flex items-center"},E.a.createElement("span",null,e),n.length-1!==t&&E.a.createElement(m.a,null,"chevron_right"))})))},j=a(766),g=a(884),y=a(1668),x=a(11),N=a(57),A=a.n(N),F=a(3117);a(2189);F.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(F.c.version,"/pdf.worker.js");var I=function(e){var t=e.file,a=Object(b.useState)(null),n=Object(c.a)(a,2),l=n[0],r=n[1],i=Object(b.useState)(1),o=Object(c.a)(i,2),s=o[0];return o[1],E.a.createElement("div",null,E.a.createElement(F.a,{file:t,onLoadSuccess:function(e){var t=e.numPages;r(t)}},E.a.createElement(F.b,{height:256,width:270,pageNumber:s})),E.a.createElement("p",null,"Page ",s," of ",l))},M=Object(g.a)({table:{"& th":{padding:"16px 0"}},typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}});var S=function(e){var t=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),a=Object(v.d)((function(e){var a=e.fileManagerApp;return t[a.selectedItemId]})),n=M();if(!a)return null;var l=function(e){return A()(e).format("MMMM Do YYYY, h:mm a")},r=function(e){return e||"-"};return E.a.createElement(u.a,{animation:"transition.slideUpIn",delay:600},E.a.createElement("div",{className:"file-details p-16 sm:p-24"},E.a.createElement("div",{className:"preview file-icon flex items-center justify-center mb-12"},"photo"==a.type?E.a.createElement("img",{src:a.photo}):"pdf"==a.extension?E.a.createElement(I,{file:a.document}):E.a.createElement(u.a,{animation:"transition.expandIn",delay:300},E.a.createElement(m.a,{className:Object(x.a)(n.typeIcon,a.type,"text-48")},"video"==a.type?"movie":a.type))),E.a.createElement(j.a,{className:"offline-switch",control:E.a.createElement(y.a,{checked:a.offline,"aria-label":"Available Offline"}),label:"Available Offline"}),E.a.createElement(h.a,{variant:"subtitle1",className:"py-16"},"Info"),E.a.createElement("table",{className:Object(x.a)(n.table,"w-full text-justify")},E.a.createElement("tbody",null,E.a.createElement("tr",{className:"type"},E.a.createElement("th",null,"Type"),E.a.createElement("td",null,r(a.type))),E.a.createElement("tr",{className:"size"},E.a.createElement("th",null,"Size"),E.a.createElement("td",null,""===a.size?"-":a.size)),E.a.createElement("tr",{className:"location"},E.a.createElement("th",null,"Location"),E.a.createElement("td",null,r(a.location))),E.a.createElement("tr",{className:"owner"},E.a.createElement("th",null,"Owner"),E.a.createElement("td",null,r(a.owner))),E.a.createElement("tr",{className:"modified"},E.a.createElement("th",null,"Modified"),E.a.createElement("td",null,l(a.date_last_modify))),E.a.createElement("tr",{className:"opened"},E.a.createElement("th",null,"Opened"),E.a.createElement("td",null,r(a.opened))),E.a.createElement("tr",{className:"created"},E.a.createElement("th",null,"Created"),E.a.createElement("td",null,l(a.date_create)))))))},C=a(17),P=a(13),w=a(15),T=a(1922),k=a.n(T),D=a(1759),L=a(1830),_=a(7),G=a(1599),z=a(1616),R=a(1617),B=a(1618),U=a(322),Y=a.n(U),W=a(91),V=a(92),H=a(154),q=a(153),J=a(1923),Z=a.n(J),K=a(1924),X=function(e){Object(H.a)(a,e);var t=Object(q.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(V.a)(a,[{key:"onError",value:function(e){console.log(e,"error in file-viewer")}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.file;return E.a.createElement(Z.a,{fileType:t,filePath:a,errorComponent:K.CustomErrorComponent,onError:this.onError})}}]),a}(b.Component),Q=a(143),$=Object(_.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(s.a)(e,["children","classes","onClose"]);return E.a.createElement(z.a,Object.assign({disableTypography:!0,className:a.root},l),E.a.createElement(h.a,{variant:"h6"},t),n?E.a.createElement(f.a,{"aria-label":"close",className:a.closeButton,onClick:n},E.a.createElement(Y.a,null)):null)})),ee=Object(_.a)((function(e){return{root:{padding:e.spacing(2)}}}))(R.a),te=Object(_.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(B.a);var ae=function(e){var t=e.isOpenViewFile,a=e.closeViewFile,n=Object(b.useState)(0),l=Object(c.a)(n,2),r=l[0],i=l[1],o=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),s=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.files})),u=Object(v.d)((function(e){return e.fileManagerApp.selectedItemId})),d=Object(b.useState)(null),m=Object(c.a)(d,2),f=m[0],p=m[1];Object(b.useEffect)((function(){i(u)}),[u]),Object(b.useEffect)((function(){if(Array.isArray(s)&&o[r]){s.findIndex((function(e){return(null===e||void 0===e?void 0:e.mainId)==o[r].mainId}));p(o[r])}}),[r,s]),console.log({selectedItem:f}),console.log("selectedItem",f,o);var h=f&&"photo"==(null===f||void 0===f?void 0:f.type)?null===f||void 0===f?void 0:f.photo:"video"==(null===f||void 0===f?void 0:f.type)?null===f||void 0===f?void 0:f.video:null===f||void 0===f?void 0:f.document;return E.a.createElement(G.a,{onClose:a,"aria-labelledby":"customized-dialog-title",open:t,fullWidth:"true"},E.a.createElement($,{id:"customized-dialog-title",onClose:a},null===f||void 0===f?void 0:f.title),E.a.createElement(ee,{dividers:!0},"photo"==(null===f||void 0===f?void 0:f.type)?E.a.createElement("img",{src:null===f||void 0===f?void 0:f.photo}):"video"==(null===f||void 0===f?void 0:f.type)?E.a.createElement("video",{autoPlay:!0,src:null===f||void 0===f?void 0:f.video}):E.a.createElement(X,{file:h,type:null===f||void 0===f?void 0:f.extension})),E.a.createElement(te,{className:"p-8"},E.a.createElement(Q.a,{variant:"contained",color:"primary",disabled:0==r,onClick:function(){r>0&&i((function(e){return e-1}))}},"Previous"),E.a.createElement(Q.a,{variant:"contained",color:"primary",disabled:r==(null===s||void 0===s?void 0:s.length)-1,onClick:function(){r<(null===s||void 0===s?void 0:s.length)-1&&i((function(e){return e+1}))}},"Next")))};var ne=function(e){var t=e.setProgress,a=Object(v.c)(),n=(Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.folders})),Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles}))),l=Object(v.d)((function(e){var t=e.fileManagerApp;return n[t.selectedItemId]})),i=Object(b.useState)(!1),o=Object(c.a)(i,2),s=o[0],d=o[1],p=Object(b.useState)(!1),O=Object(c.a)(p,2),j=O[0],g=O[1];if(!l)return null;var y=function(){return d(!1)};return"photo"==l.type?l.photo:"video"==l.type?l.video:l.document,E.a.createElement(E.a.Fragment,null,E.a.createElement(L.a,{text:"Are you sure want to delete ?",isOpenDeleteDialog:s,colseDeleteFileDialog:y,onYes:function(){var e,t,n=null===(e=Object(w.a)().extra)||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.company,r=l.type,i=l.mainId,o="folder"==r?Object(C.P)(n,l.path):"photo"==r?Object(C.rb)(l.mainId):"video"==r?Object(C.Sb)(l.mainId):Object(C.D)(l.mainId);Object(P.b)(o,{},(function(e){a("folder"==r?D.p(l.id,r,l.path,l):D.p(l.id,r,i,l)),y()}),(function(e){return console.log(e)}),P.a.DELETE,Object(w.c)())},onNo:y}),E.a.createElement(ae,{isOpenViewFile:j,closeViewFile:function(){return g(!1)}}),E.a.createElement("div",{className:"flex flex-col justify-between h-full p-4 sm:p-12"},E.a.createElement("div",{className:"toolbar flex align-center justify-end"},E.a.createElement(u.a,{animation:"transition.expandIn",delay:200},E.a.createElement(f.a,{onClick:function(){return d(!0)}},E.a.createElement(m.a,null,"delete"))),E.a.createElement(u.a,{animation:"transition.expandIn",delay:200},E.a.createElement(f.a,{onClick:function(){if(l){t(0),a(D.v(!0));var e="photo"==l.type?Object(C.H)(l.mainId):"video"==l.type?Object(C.I)(l.mainId):Object(C.G)(l.mainId);Object(P.b)(e,{},(function(e){e.headers;var t=e.data,n=new File([t],"".concat(l.title,".").concat(l.extension));k.a.saveAs(n),a(D.v(!1))}),(function(e){a(D.v(!1))}),P.a.GET,Object(r.a)(Object(r.a)({},Object(w.c)()),{},{responseType:"blob",onDownloadProgress:function(e){var a=Math.round(100*e.loaded/e.total);t(a)}}),!0)}}},E.a.createElement(m.a,null,"cloud_download"))),E.a.createElement(f.a,{onClick:function(){return g(!0)}},E.a.createElement(m.a,null,"visibility"))),E.a.createElement("div",{className:"p-12"},E.a.createElement(u.a,{delay:200},E.a.createElement(h.a,{variant:"subtitle1",className:"mb-8"},l.title)),E.a.createElement(u.a,{delay:300},E.a.createElement(h.a,{variant:"caption",className:""},E.a.createElement("span",null,"Edited"),E.a.createElement("span",null,": ",A()(l.date_last_modify).format("MMMM Do YYYY, h:mm a")))))))},le=a(12),re=a(1766),ie=a(1769),oe=a(1755),ce=a(1767),se=a(1768),ue=a(32),de=a(72),me=a(108),fe=Object(g.a)({typeIcon:{"&.folder:before":{content:"'folder'",color:"#FFB300"},"&.document:before":{content:"'insert_drive_file'",color:"#1565C0"},"&.spreadsheet:before":{content:"'insert_chart'",color:"#4CAF50"}}});var pe=function(e){var t=Object(v.c)(),a=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.folders})),n=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.files})),l=Object(v.d)((function(e){var t;return null===(t=e.fileManagerApp.files)||void 0===t?void 0:t.allFiles})),i=Object(v.d)((function(e){return e.fileManagerApp.files.folderPath})),o=i[i.length-1],s=Object(v.d)((function(e){return e.fileManagerApp.selectedItemId})),d=Object(v.d)((function(e){return e.fileManagerApp.files.searchText})),p=fe(),O=function(e){return"pdf"==e||"video"==e?{color:"red"}:"mp3"==e?{color:"brown"}:"docx"==e?{color:"blue"}:"xlsx"==e?{color:"green"}:{}},j=function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(o)&&e.path.split("/").length<=i.length&&!i.includes(e.path)}));e&&(e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(r.a)(Object(r.a)({},e),{},{title:t,type:"folder"})})),t(D.y([].concat(Object(le.a)(e),Object(le.a)(n.filter((function(e){return e.folder_relative_path==o})))))))};return Object(b.useEffect)((function(){j()}),[n,a,n.photos,n.videos,n.documents]),Object(b.useEffect)((function(){if(d&&d.length){var e=function(e,t){var a=Object.keys(e).map((function(t){return e[t]}));return 0===t.length?a:ue.a.filterArrayByString(a,t)}(l,d);t(D.y(e))}else j()}),[d]),Object(b.useEffect)((function(){var e=null===a||void 0===a?void 0:a.filter((function(e){return e.path.includes(o)&&e.path.split("/").length<=i.length&&!i.includes(e.path)}));e&&(e=e.map((function(e){var t=e.path.split("/");return t=t[t.length-1],Object(r.a)(Object(r.a)({},e),{},{title:t,type:"folder"})})),t(D.y([].concat(Object(le.a)(e),Object(le.a)(n.filter((function(e){return e.folder_relative_path==o})))))))}),[o]),0===l.length&&d?E.a.createElement("div",{className:"flex flex-1 items-center justify-center h-full"},E.a.createElement(h.a,{color:"textSecondary",variant:"h5"},"There are no files!")):E.a.createElement(u.a,{animation:"transition.slideUpIn",delay:300},E.a.createElement(re.a,null,E.a.createElement(ce.a,null,E.a.createElement(se.a,null,E.a.createElement(oe.a,{className:"max-w-64 w-64 p-0 text-center"}," "),E.a.createElement(oe.a,null,"Name"),E.a.createElement(oe.a,{className:"hidden sm:table-cell"},"Type"),E.a.createElement(oe.a,{className:"hidden sm:table-cell"},"Owner"),E.a.createElement(oe.a,{className:"text-center hidden sm:table-cell"},"Size"),E.a.createElement(oe.a,{className:"hidden sm:table-cell"},"Modified"),E.a.createElement(oe.a,null),E.a.createElement(oe.a,null))),E.a.createElement(ie.a,null,""!=o&&E.a.createElement(se.a,null,E.a.createElement(oe.a,{onClick:function(){return t(D.x())}},E.a.createElement(f.a,{"aria-label":"back",size:"small"},E.a.createElement(m.a,null,"more_horiz"))),E.a.createElement(oe.a,null),E.a.createElement(oe.a,{className:"hidden sm:table-cell"}),E.a.createElement(oe.a,{className:"hidden sm:table-cell"}),E.a.createElement(oe.a,{className:"hidden sm:table-cell"}),E.a.createElement(oe.a,{className:"hidden sm:table-cell"}),E.a.createElement(oe.a,null),E.a.createElement(oe.a,null)),Object.entries(l).map((function(a){var n,l=Object(c.a)(a,2),i=(l[0],l[1]);return E.a.createElement(se.a,{key:i.id,hover:!0,onClick:function(e){return"folder"==i.type?t(D.z(i.path)):t(D.B(i.id))},selected:i.id===s,className:"cursor-pointer"},E.a.createElement(oe.a,{className:"max-w-64 w-64 p-0 text-center"},"video"==i.type?E.a.createElement(de.a,{icon:me.h,style:Object(r.a)(Object(r.a)({},O(i.type)),{},{fontSize:"2.4rem"})}):"photo"==i.type?E.a.createElement(de.a,{icon:me.f,style:{color:"black",fontSize:"2.4rem"}}):"folder"==i.type?E.a.createElement(m.a,{className:Object(x.a)(p.typeIcon,i.type)},"folder"):E.a.createElement(de.a,{icon:"document"==i.type?"pdf"==i.extension?me.g:"docx"==i.extension?me.i:"xlsx"==i.extension?me.e:"mp3"==i.extension?me.d:me.c:me.c,style:Object(r.a)(Object(r.a)({},O(i.extension)),{},{fontSize:"2.4rem"})})),E.a.createElement(oe.a,null,i.title),E.a.createElement(oe.a,{className:"hidden sm:table-cell"},i.type),E.a.createElement(oe.a,{className:"hidden sm:table-cell"},i.owner||"-"),E.a.createElement(oe.a,{className:"text-center hidden sm:table-cell"},""===i.size?"-":i.size),E.a.createElement(oe.a,{className:"hidden sm:table-cell"},i.date_last_modify?(n=i.date_last_modify,A()(n).format("MMMM Do YYYY, h:mm a")):"-"),E.a.createElement(oe.a,null,E.a.createElement(f.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),t(D.w(i))},"aria-label":"open right sidebar"},E.a.createElement(m.a,null,"transform"))),E.a.createElement(oe.a,null,E.a.createElement(f.a,{onClick:function(a){a.preventDefault(),a.stopPropagation(),e.pageLayout.current.toggleRightSidebar(),t(D.B(i.id))},"aria-label":"open right sidebar"},E.a.createElement(m.a,null,"info"))))})))))},be=a(844),Ee=a(845),ve=a(1677),he=a(888);var Oe=function(){return E.a.createElement(be.a,{component:"nav"},E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(m.a,{className:"text-20"},"folder")),E.a.createElement(he.a,{primary:"My Files"})),E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(m.a,{className:"text-20"},"star")),E.a.createElement(he.a,{primary:"Starred"})),E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(m.a,{className:"text-20"},"folder_shared")),E.a.createElement(he.a,{primary:"Sharred with me"})),E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(m.a,{className:"text-20"},"access_time")),E.a.createElement(he.a,{primary:"Recent"})),E.a.createElement(Ee.a,{button:!0,dense:!0},E.a.createElement(ve.a,{className:"min-w-40"},E.a.createElement(m.a,{className:"text-20"},"not_interested")),E.a.createElement(he.a,{primary:"Offline"})))};var je=function(){return E.a.createElement("div",{className:"flex items-center h-full p-12"},E.a.createElement(m.a,null,"folder"),E.a.createElement(h.a,{variant:"h6",className:"mx-12"},"File Manager"))},ge=a(76);a(10);function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=0>t?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(a))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}var xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map((function(e,a){return Object(r.a)(Object(r.a)({},e),{},{mainId:e.id,id:a,type:t,size:ye(e.size)})}))},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return[].concat(Object(le.a)(t),Object(le.a)(e)).reduce((function(e,t){return e.find((function(e){return e.mainId===t.mainId}))?e:e.concat([t])}),[])};function Ae(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ASC";return e.sort((function(e,n){return"ASC"===a?e[t]>n[t]?1:e[t]<n[t]?-1:0:e[t]>n[t]?-1:e[t]<n[t]?1:0}))}var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return Object(r.a)(Object(r.a)({},e),{},{id:t})}))},Ie=function(e,t,a,n,l){return"folder"==e?Object(r.a)(Object(r.a)({},t),{},{allFiles:Fe(Ae(t.allFiles.filter((function(e){return e.id!=a})),"title")),folders:t.folders.filter((function(e){return e.path!=n})),files:t.files.filter((function(e){return!e.folder_relative_path.includes(n)})),photos:Object(r.a)(Object(r.a)({},t.photos),{},{results:t.photos.results.filter((function(e){return!e.folder_relative_path.includes(n)}))}),videos:Object(r.a)(Object(r.a)({},t.videos),{},{results:t.videos.results.filter((function(e){return!e.folder_relative_path.includes(n)}))}),documents:Object(r.a)(Object(r.a)({},t.documents),{},{results:t.documents.results.filter((function(e){return!e.folder_relative_path.includes(n)}))})}):"photo"==e?Object(r.a)(Object(r.a)({},t),{},{allFiles:Fe(Ae(t.allFiles.filter((function(e){return e.id!=a})),"title")),photos:Object(r.a)(Object(r.a)({},t.photos),{},{results:t.photos.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))}):"video"==e?Object(r.a)(Object(r.a)({},t),{},{allFiles:Fe(Ae(t.allFiles.filter((function(e){return e.id!=a})),"title")),videos:Object(r.a)(Object(r.a)({},t.videos),{},{results:t.videos.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))}):Object(r.a)(Object(r.a)({},t),{},{allFiles:Fe(Ae(t.allFiles.filter((function(e){return e.id!=a})),"title")),documents:Object(r.a)(Object(r.a)({},t.documents),{},{results:t.documents.results.filter((function(e){return e.id!=n}))}),files:t.files.filter((function(e){return e.mainId!=n}))})},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allFiles:[],photos:[],videos:[],documents:[],files:[],searchText:"",folderPath:[""],isUploadingFiles:!1,moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.d:return Object(r.a)(Object(r.a)({},e),{},{allFiles:Fe(t.payload)});case D.g:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:!1,photos:t.payload,files:Fe(Ae(Ne(e.files,xe(t.payload.results,"photo")),"title"))});case D.h:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:!1,videos:t.payload,files:Fe(Ae(Ne(e.files,xe(t.payload.results,"video")),"title"))});case D.e:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:!1,documents:t.payload,files:Fe(Ae(Ne(e.files,xe(t.payload.results,"document")),"title"))});case D.f:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:!1,folders:t.payload.sort((function(e,t){var a=e.path.replace("/",""),n=t.path.replace("/","");return a>n?1:a<n?-1:0}))});case D.m:return Object(r.a)(Object(r.a)({},e),{},{searchText:t.searchText});case D.l:return Object(r.a)(Object(r.a)({},e),{},{folderPath:[].concat(Object(le.a)(e.folderPath),[t.payload])});case D.j:var a=e.folderPath;return a.pop(),Object(r.a)(Object(r.a)({},e),{},{folderPath:a});case D.i:return Object(r.a)(Object(r.a)({},e),{},{isUploadingFiles:t.payload});case D.a:return Ie(t.payload.fileType,e,t.payload.id,t.payload.deleteId,t.payload.selectedItem);case D.k:return{allFiles:[],photos:[],videos:[],documents:[],files:[],searchText:"",folderPath:[""],isUploadingFiles:!1,moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}};case D.c:return Object(r.a)(Object(r.a)({},e),{},{moveFileDialog:{type:"moveFile",props:{open:!0},data:t.payload}});case D.b:return Object(r.a)(Object(r.a)({},e),{},{moveFileDialog:{type:"moveFile",props:{open:!1},data:{}}});default:return e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.n:return t.payload;default:return e}},Ce=Object(ge.d)({files:Me,selectedItemId:Se}),Pe=a(1660),we=a(52),Te=a(3294),ke=a(537),De=a(185),Le=a(885),_e=a(1655);function Ge(e){return E.a.createElement(_e.a,{display:"flex",alignItems:"center"},E.a.createElement(_e.a,{width:"100%",mr:1},E.a.createElement(Le.a,Object.assign({variant:"determinate"},e))),E.a.createElement(_e.a,{minWidth:35},E.a.createElement(h.a,{variant:"body2",color:"textSecondary"},"".concat(Math.round(e.value),"%"))))}var ze=Object(g.a)({root:{width:"100%"}});function Re(e){var t=e.progress,a=ze();return E.a.createElement("div",{className:a.root},E.a.createElement(Ge,{color:"secondary",value:t}))}var Be=a(2015),Ue=a(1614),Ye=Object(g.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function We(e){var t=e.open,a=e.setOpen,n=e.text,l=Ye();return E.a.createElement("div",{className:Object(x.a)(l.root,"mt-8")},E.a.createElement(Ue.a,{in:t},E.a.createElement(Be.a,{variant:"outlined",severity:"warning",action:E.a.createElement(f.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){a(!1)}},E.a.createElement(Y.a,{fontSize:"inherit"}))},n)))}var Ve=a(2190),He=a(3124),qe=a(2191),Je=a(1927),Ze=a.n(Je),Ke=a(1928),Xe=a.n(Ke),Qe=Object(g.a)((function(e){return{root:{transform:"translateZ(0px)",flexGrow:1},exampleWrapper:{position:"relative",marginTop:e.spacing(3),height:380},radioGroup:{margin:e.spacing(1,0)},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}},fab:{"&:hover":{backgroundColor:"#295da2"}}}})),$e=[{icon:E.a.createElement(Ze.a,null),name:"File"},{icon:E.a.createElement(Xe.a,null),name:"Folder"}];function et(e){var t=Qe(),a=E.a.useState(!1),n=Object(c.a)(a,2),l=n[0],r=n[1],i=function(){r(!1)};return E.a.createElement("div",{className:Object(x.a)(t.root,"speeddial-btn")},E.a.createElement("div",{className:t.exampleWrapper},E.a.createElement(Ve.a,{ariaLabel:"SpeedDial example",className:Object(x.a)(t.speedDial,"custom-float-btn"),icon:E.a.createElement(He.a,null),onClose:i,onOpen:function(){r(!0)},open:l,direction:"up"},$e.map((function(a){return E.a.createElement(qe.a,{className:t.fab,key:a.name,icon:a.icon,tooltipTitle:a.name,tooltipOpen:!0,onClick:function(){e.callAction(a.name),i()}})})))))}a(241);var tt=a(1659),at=a(1613),nt=Object(_.a)((function(e){return{root:{padding:e.spacing(2)}}}))(R.a),lt=Object(_.a)((function(e){return{root:{margin:0,padding:e.spacing(1)},rightSidebar:{"&.fileInfoSidebar":{backgroundColor:"#fff"}}}}))(B.a);var rt=function(){var e,t=Object(v.c)(),a=Object(v.d)((function(e){return e.fileManagerApp.files.moveFileDialog})),n=Object(v.d)((function(e){return e.fileManagerApp.files})),l=Object(v.d)((function(e){return e.fileManagerApp.files.folderPath})),r=null===(e=n.folders)||void 0===e?void 0:e.filter((function(e){return e.path==l[l.length-1]})),i=Object(b.useState)({fileError:"",titleError:"",descError:"",nameError:"",apiError:""}),o=Object(c.a)(i,1)[0],s=Object(b.useState)(""),u=Object(c.a)(s,2),d=u[0],m=u[1];function p(){t(D.o())}Object(b.useEffect)((function(){}),[a.props.open]);var O=a.data.relative_path;return E.a.createElement(G.a,{onClose:p,"aria-labelledby":"customized-dialog-title",open:a.props.open,maxWidth:"xs",fullWidth:"true"},E.a.createElement(at.a,{position:"static",elevation:1},E.a.createElement(tt.a,null,E.a.createElement("div",{className:"absolute right-0"},E.a.createElement(f.a,{onClick:p,edge:"start",color:"inherit","aria-label":"close"},E.a.createElement(Y.a,null))),E.a.createElement(h.a,{variant:"subtitle1",color:"inherit"},"Move File"))),E.a.createElement(nt,{dividers:!0},E.a.createElement("div",null,E.a.createElement(Pe.a,{error:!!o.nameError,id:"folder",className:"mt-8 mb-16 w-full",value:O,disabled:!0,helperText:o.nameError,variant:"outlined"})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Te.a,{options:n.folders.filter((function(e){var t;return e.path!=(null===r||void 0===r||null===(t=r[0])||void 0===t?void 0:t.path)})),style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e){return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(Pe.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return m(t)},variant:"outlined"}))),E.a.createElement(lt,{className:"p-16"},E.a.createElement(Q.a,{autoFocus:!0,onClick:function(){var e=a.data.type,n=a.data.mainId,l=a.data.folder_relative_path,r="photo"==e?Object(C.pb)(n):"video"==e?Object(C.qb)(n):Object(C.ob)(n),i={from:l,to:d},o=new FormData;for(var c in i)o.append(c,i[c]);Object(P.b)(r,o,(function(a){var n,l,r=null===(n=Object(w.a)().extra)||void 0===n||null===(l=n.profile)||void 0===l?void 0:l.company;t("photo"==e?D.t(r):"video"==e?D.u(r):D.q(r)),p()}),(function(e){return console.log(e)}),P.a.PUT,Object(w.c)())},variant:"contained",color:"secondary"},"Move")))},it=(Object(_.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose,l=Object(s.a)(e,["children","classes","onClose"]);return E.a.createElement(z.a,Object.assign({disableTypography:!0,className:a.root},l),E.a.createElement(h.a,{variant:"h6"},t),n?E.a.createElement(f.a,{"aria-label":"close",className:a.closeButton,onClick:n},E.a.createElement(Y.a,null)):null)})),Object(_.a)((function(e){return{root:{padding:e.spacing(2)}}}))(R.a)),ot=Object(_.a)((function(e){return{root:{margin:0,padding:e.spacing(1)},rightSidebar:{"&.fileInfoSidebar":{backgroundColor:"#fff"}}}}))(B.a);t.default=Object(we.l)(Object(p.a)("fileManagerApp",Ce)((function(e){var t,a=Object(v.c)(),n=Object(v.d)((function(e){return e.fileManagerApp.files})),s=Object(v.d)((function(e){return e.fileManagerApp.files.folderPath})),p=Object(v.d)((function(e){return e.fileManagerApp.files.searchText})),j=Object(v.d)((function(e){return e.fileManagerApp.files.isUploadingFiles})),g=Object(v.d)((function(e){return e.chatApp.company})),y=(Object(v.d)((function(e){var t=e.fileManagerApp;return n[t.selectedItemId]})),Object(b.useRef)(null)),x=Object(b.useState)(!1),N=Object(c.a)(x,2),A=N[0],F=N[1],I=Object(b.useState)(!1),M=Object(c.a)(I,2),T=M[0],k=M[1],L=Object(b.useState)({file:null,fileType:null}),_=Object(c.a)(L,2),z=_[0],R=_[1],B=Object(b.useState)("folder"),U=Object(c.a)(B,2),W=U[0],V=U[1],H=E.a.useState(0),q=Object(c.a)(H,2),J=q[0],Z=q[1],K=Object(b.useState)(""),X=Object(c.a)(K,2),$=X[0],ee=X[1],te=Object(b.useState)(""),ae=Object(c.a)(te,2),le=ae[0],re=ae[1],ie=Object(b.useState)(void 0),oe=Object(c.a)(ie,2),ce=oe[0],se=oe[1],ue=Object(b.useState)(void 0),de=Object(c.a)(ue,2),me=de[0],fe=de[1],be=E.a.useState(!1),Ee=Object(c.a)(be,2),ve=Ee[0],he=Ee[1],ge=null===(t=n.folders)||void 0===t?void 0:t.filter((function(e){return e.path==s[s.length-1]})),ye=Object(b.useState)({fileError:"",titleError:"",descError:"",nameError:"",apiError:""}),xe=Object(c.a)(ye,2),Ne=xe[0],Ae=xe[1],Fe=function(){return Ae({fileError:"",titleError:"",descError:"",nameError:""})};Object(b.useEffect)((function(){if(g.can_access_files){var t,n,l=null===(t=Object(w.a)().extra)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.company;a(D.r(l))}else e.history.push("/apps/todo/all")}),[a]);var Ie=function(){var e=Object(o.a)(l.a.mark((function e(){var t,o,c,s,u,d,m,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=T){e.next=37;break}if(k(!0),Z(0),a(D.v(!0)),o=z.fileType,c=z.file,o||"file"!=W){e.next=7;break}return e.abrupt("return");case 7:if(Me(),s=new FormData,u="image"==o?"photo":"video"==o?"video":"document","folder"!=W){e.next=14;break}e.t0={name:ce,path:n.folders&&n.folders.length?$:""},e.next=31;break;case 14:if(t={},e.t1=i.a,e.t2=t,e.t3=u,"image"!=o){e.next=24;break}return e.next=21,Object(w.b)(c);case 21:e.t4=e.sent,e.next=25;break;case 24:e.t4=c;case 25:e.t5=e.t4,(0,e.t1)(e.t2,e.t3,e.t5),Object(i.a)(t,"title",ce),Object(i.a)(t,"description",me),Object(i.a)(t,"additional_path",le||""),e.t0=t;case 31:for(m in d=e.t0)s.append(m,d[m]);f="folder"==W?Object(C.j)(g.id):"image"==o?Object(C.m)(g.id):"video"==o?Object(C.t)(g.id):Object(C.g)(g.id),Object(P.b)(f,s,(function(e){var t,n,l=null===(t=Object(w.a)().extra)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.company;a("folder"==W?D.s(l):"image"==o?D.t(l):"video"==o?D.u(l):D.q(l))}),(function(e){Ae({fileError:e.document?e.document[0]:"",titleError:e.title?e.title[0]:"",descError:e.description?e.description[0]:"",nameError:e.name?e.name[0]:"",apiError:e.detail?e.detail:""}),a(D.v(!1)),Z(0)}),P.a.POST,Object(r.a)(Object(r.a)({},Object(w.c)()),{},{onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);Z(t)}})),k(!1),se("");case 37:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Me=function(){R({file:null,fileType:null}),se(void 0),re(""),fe(void 0),Ae({fileError:"",titleError:"",descError:"",nameError:""}),F(!1)};return E.a.createElement(E.a.Fragment,null,E.a.createElement(d.a,{classes:{root:"bg-red fileInfoSidebar",header:"h-96 min-h-96 sm:h-160 sm:min-h-160",sidebarHeader:"h-96 min-h-96 sm:h-160 sm:min-h-160",rightSidebar:"w-320"},header:E.a.createElement("div",{className:"flex flex-col flex-1 p-8 sm:p-12 relative z-50"},E.a.createElement("div",{className:"flex items-center justify-between"},E.a.createElement(f.a,{onClick:function(){y.current.toggleLeftSidebar()},"aria-label":"open left sidebar"},E.a.createElement(m.a,null,"menu")),E.a.createElement(u.a,{animation:"transition.slideLeftIn",delay:300},E.a.createElement(De.a,{className:"flex p-4 items-center w-full max-w-512 h-48 px-8 py-4",elevation:1},E.a.createElement(m.a,{color:"action"},"search"),E.a.createElement(ke.a,{placeholder:"Search for anything",className:"flex flex-1 px-16",disableUnderline:!0,fullWidth:!0,value:p,inputProps:{"aria-label":"Search"},onChange:function(e){return a(D.A(e))}})))),E.a.createElement(We,{open:ve,setOpen:he,text:Ne.apiError}),E.a.createElement("div",{className:"flex flex-1 items-end"},E.a.createElement(u.a,{delay:200},E.a.createElement("div",null,s&&E.a.createElement(O,{selected:s,className:"flex flex-1 ltr:pl-72 rtl:pr-72 pb-12 text-16 sm:text-24"})))),j&&E.a.createElement("div",{className:"linear-progress"},E.a.createElement(Re,{progress:J}))),content:E.a.createElement(pe,{pageLayout:y}),leftSidebarVariant:"temporary",leftSidebarHeader:E.a.createElement(je,null),leftSidebarContent:E.a.createElement(Oe,null),rightSidebarHeader:E.a.createElement(ne,{setProgress:Z}),rightSidebarContent:E.a.createElement(S,null),ref:y,innerScroll:!0}),E.a.createElement(u.a,{animation:"transition.expandIn",delay:600},E.a.createElement(et,{color:"secondary",className:" ltr:left-0 rtl:right-0 mx-16 z-999",callAction:function(e){return F(!0),V("Folder"==e?"folder":"file")}})),E.a.createElement(rt,null),E.a.createElement(G.a,{onClose:Me,"aria-labelledby":"customized-dialog-title",open:A,maxWidth:"xs",fullWidth:"true"},E.a.createElement(at.a,{position:"static",elevation:1},E.a.createElement(tt.a,null,E.a.createElement("div",{className:"absolute right-0"},E.a.createElement(f.a,{onClick:Me,edge:"start",color:"inherit","aria-label":"close"},E.a.createElement(Y.a,null))),E.a.createElement(h.a,{variant:"subtitle1",color:"inherit"},"Upload File"))),E.a.createElement(it,{dividers:!0},"folder"==W?E.a.createElement(E.a.Fragment,null,E.a.createElement("div",null,E.a.createElement(Pe.a,{error:!!Ne.nameError,name:"folder",id:"folder",label:"Folder",className:"mt-8 mb-16 w-full",value:ce,onChange:function(e){var t=e.target.value;Fe(),se(t)},helperText:Ne.nameError,variant:"outlined"})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Te.a,{options:n.folders,style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e,t){t.selected;return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(Pe.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return ee(t)},variant:"outlined",defaultValue:n.folders&&n.folders.length?null===ge||void 0===ge?void 0:ge[0]:""}))):E.a.createElement(E.a.Fragment,null,E.a.createElement("div",null,E.a.createElement(Pe.a,{error:!!Ne.titleError,name:"title",id:"title",label:"Title",className:"mt-8 mb-16 w-full",value:ce,onChange:function(e){var t=e.target.value;Fe(),se(t)},variant:"outlined",helperText:Ne.titleError})),E.a.createElement("div",null,E.a.createElement(Pe.a,{error:!!Ne.descError,name:"desc",label:"Description",className:"mt-8 mb-16 w-full",multiline:!0,rows:4,variant:"outlined",onChange:function(e){var t=e.target.value;Fe(),fe(t)},helperText:Ne.descError})),E.a.createElement("div",null,E.a.createElement(Pe.a,{error:!!Ne.fileError,type:"file",className:"mt-8 mb-16 w-full",onChange:function(e){Fe();for(var t=e.target.files,a=0;a<t.length;a++){var n,l=null===(n=t[a].type)||void 0===n?void 0:n.split("/")[0];R({file:t[a],fileType:l})}},variant:"outlined",helperText:Ne.fileError})),n.folders&&!!n.folders.length&&E.a.createElement("div",null,E.a.createElement(Te.a,{options:n.folders,style:{width:"100%"},className:"mb-24",getOptionLabel:function(e){return e.path},renderOption:function(e,t){t.selected;return E.a.createElement(E.a.Fragment,null,e.path)},renderInput:function(e){return E.a.createElement(Pe.a,Object.assign({},e,{label:"Path"}))},onInputChange:function(e,t){return re(t)},defaultValue:null===ge||void 0===ge?void 0:ge[0],variant:"outlined"})))),E.a.createElement(ot,{className:"p-16"},E.a.createElement(Q.a,{autoFocus:!0,disabled:!("folder"==W?null===ce||void 0===ce?void 0:ce.length:(null===ce||void 0===ce?void 0:ce.length)&&z.file),onClick:Ie,variant:"contained",color:"secondary"},"folder"==W?"Create":"Upload"))))})))}}]);